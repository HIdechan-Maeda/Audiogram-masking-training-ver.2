{"ast":null,"code":"var _jsxFileName = \"/Users/maedahidehiko/Documents/myAudiogram builder/src/AudiogramMaskingMVP.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useRef, useLayoutEffect } from \"react\";\nimport { ResponsiveContainer, ComposedChart, XAxis, YAxis, CartesianGrid, Scatter, Line } from \"recharts\";\n\n// Audiogram-first Masking Trainer (MVP v2.4.9)\n// - 1oct/grid x 10dB ticks; 1oct == 20dB; AC O/X, BC </> []\n// - Overlay blink; legend right-side panel; masking slider in header\n// - Fix: add targetMap + getThr() → resolves \"getThr is not defined\"\n\n// --- constants ---\n// Optional click→dB calibration offset (kept 0 as per spec 1/2/3)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CAL_OFFSET_DB = 0;\nconst BC_DISABLED = new Set([125, 8000]); // BCは125Hz/8000Hzは測定対象外\nconst FREQS = [125, 250, 500, 1000, 2000, 4000, 8000]; // 7 points -> 6 octaves\n// Slight domain padding to prevent edge clipping without changing visible tick positions\nconst X_DOMAIN = [0, FREQS.length - 1];\nconst Y_MIN = -10; // dB HL (top small, bottom large)\nconst Y_MAX = 120; // 10 dB ticks (render squares use 20 dB cells)\nconst CHART_SCALE = 1;\n// Geometry to force 1 octave (X) == 20 dB (Y)\nconst CELL_PX = 100; // px per 1 octave (== 20 dB) — larger, keeps square cells\nconst GRID_W = CELL_PX * (FREQS.length - 1); // 6 octaves\nconst GRID_H = CELL_PX * ((Y_MAX - Y_MIN) / 20); // vertical cells of 20 dB\nconst AXIS_LEFT = 64,\n  AXIS_RIGHT = 40,\n  AXIS_TOP = 20,\n  AXIS_BOTTOM = 48; // increase top to avoid clipping -10 dB tick\nconst CHART_MARGIN = {\n  top: AXIS_TOP,\n  right: AXIS_RIGHT,\n  bottom: AXIS_BOTTOM,\n  left: AXIS_LEFT\n}; // plotting box = GRID_W x GRID_H\n\n// Interaural Attenuation (IA) values by frequency and transducer\nconst IA_VALUES = {\n  AC: {\n    125: 50,\n    // AC 125Hz\n    250: 50,\n    // AC 250Hz\n    500: 50,\n    // AC 500Hz\n    1000: 50,\n    // AC 1000Hz\n    2000: 50,\n    // AC 2000Hz\n    4000: 50,\n    // AC 4000Hz\n    8000: 50 // AC 8000Hz\n  },\n  BC: {\n    125: 0,\n    // BC 125Hz (disabled)\n    250: 0,\n    // BC 250Hz\n    500: 0,\n    // BC 500Hz\n    1000: 0,\n    // BC 1000Hz\n    2000: 0,\n    // BC 2000Hz\n    4000: 0,\n    // BC 4000Hz\n    8000: 0 // BC 8000Hz (disabled)\n  }\n};\n\n// Max presentable levels (for Scale-Out logic)\nconst AC_MAX = {\n  125: 70,\n  250: 90,\n  500: 110,\n  1000: 110,\n  2000: 110,\n  4000: 110,\n  8000: 100\n};\nconst BC_MAX = {\n  250: 55,\n  500: 65,\n  1000: 70,\n  2000: 70,\n  4000: 60\n};\n\n// Marker size for AC/BC symbols (px). 24px target → radius 12, thicker stroke.\nconst MARK_R = 8; // radius (smaller markers)\nconst MARK_STROKE = 2;\n\n// Safe tick formatter for X axis (1 octave grid labels)\nfunction formatFreq(v) {\n  const i = Math.round(typeof v === 'number' ? v : 0);\n  return String(FREQS && FREQS[i] != null ? FREQS[i] : \"\");\n}\n\n// Legend / rendering series\nconst SERIES = [{\n  key: \"R-AC\",\n  label: \"Right AC\",\n  color: \"#ef4444\",\n  shape: \"O\"\n}, {\n  key: \"L-AC\",\n  label: \"Left  AC\",\n  color: \"#3b82f6\",\n  shape: \"X\"\n}, {\n  key: \"R-BC-U\",\n  label: \"Right BC (unmasked)\",\n  color: \"#ef4444\",\n  shape: \"lt\"\n}, {\n  key: \"R-BC-M\",\n  label: \"Right BC (masked)\",\n  color: \"#b91c1c\",\n  shape: \"lbracket\"\n}, {\n  key: \"L-BC-U\",\n  label: \"Left  BC (unmasked)\",\n  color: \"#3b82f6\",\n  shape: \"gt\"\n}, {\n  key: \"L-BC-M\",\n  label: \"Left  BC (masked)\",\n  color: \"#1d4ed8\",\n  shape: \"rbracket\"\n}];\n\n// --- preset helpers (compress verbose targets to keep file small) --- (compress verbose targets to keep file small) ---\nconst mk = (ear, transducer, list) => list.map(([freq, dB, so = false]) => ({\n  ear,\n  transducer,\n  masked: false,\n  freq,\n  dB,\n  ...(so ? {\n    so: true\n  } : {})\n}));\nconst preset = (name, parts) => ({\n  name,\n  targets: parts.flat()\n});\n\n// --- Preset cases (targets kept \"secret\"; used for overlay/validation only) ---\n// Each target: { ear:'R'|'L', transducer:'AC'|'BC', masked:false, freq:number, dB:number, so?:true }\nconst PRESET_A = preset('症例A', [mk('R', 'AC', [[125, 5], [250, 5], [500, 5], [1000, 5], [2000, 5], [4000, 0], [8000, 0]]), mk('L', 'AC', [[125, 10], [250, 10], [500, 5], [1000, 5], [2000, 5], [4000, 0], [8000, -5]]), mk('R', 'BC', [[250, 5], [500, 10], [1000, 5], [2000, 5], [4000, -5]]), mk('L', 'BC', [[250, 5], [500, 5], [1000, 0], [2000, 5], [4000, 0]])]);\nconst PRESET_B = preset('症例B', [\n// Right AC / BC\nmk('R', 'AC', [[125, 10], [250, 10], [500, 30], [1000, 50], [2000, 70], [4000, 90], [8000, 100]]), mk('R', 'BC', [[125, 10], [250, 15], [500, 30], [1000, 50], [2000, 70], [4000, 90], [8000, 100]]),\n// Left AC / BC\nmk('L', 'AC', [[125, 15], [250, 15], [500, 10], [1000, 10], [2000, 5], [4000, 5], [8000, 10]]), mk('L', 'BC', [[250, 15], [500, 10], [1000, 10], [2000, 5], [4000, 5]])]);\nconst PRESET_C = preset('症例C', [\n// Right AC / BC\nmk('R', 'AC', [[125, 20], [250, 20], [500, 15], [1000, 10], [2000, 10], [4000, 5], [8000, 5]]), mk('R', 'BC', [[250, 15], [500, 15], [1000, 10], [2000, 5], [4000, 10]]),\n// Left AC/BC (SO)\nmk('L', 'AC', [[125, 110, true], [250, 110, true], [500, 110, true], [1000, 110, true], [2000, 110, true], [4000, 110, true], [8000, 110, true]]), mk('L', 'BC', [[250, 110, true], [500, 110, true], [1000, 110, true], [2000, 110, true], [4000, 110, true]])]);\nconst PRESET_D = preset('症例D', [\n// Right AC / BC - 高音域の聴力低下\nmk('R', 'AC', [[125, 5], [250, 5], [500, 5], [1000, 10], [2000, 25], [4000, 45], [8000, 65]]), mk('R', 'BC', [[125, 5], [250, 5], [500, 5], [1000, 10], [2000, 20], [4000, 35], [8000, 50]]),\n// Left AC / BC - 低音域の聴力低下\nmk('L', 'AC', [[125, 25], [250, 30], [500, 20], [1000, 10], [2000, 5], [4000, 5], [8000, 10]]), mk('L', 'BC', [[125, 20], [250, 25], [500, 20], [1000, 10], [2000, 5], [4000, 5], [8000, 10]])]);\nconst PRESET_E = preset('症例E', [\n// Right AC / BC - 混合性難聴パターン\nmk('R', 'AC', [[125, 15], [250, 20], [500, 20], [1000, 30], [2000, 35], [4000, 35], [8000, 45]]), mk('R', 'BC', [[125, 10], [250, 15], [500, 20], [1000, 25], [2000, 30], [4000, 35], [8000, 40]]),\n// Left AC / BC - 感音性難聴パターン\nmk('L', 'AC', [[125, 40], [250, 45], [500, 40], [1000, 55], [2000, 60], [4000, 60], [8000, 70]]), mk('L', 'BC', [[125, 35], [250, 40], [500, 45], [1000, 50], [2000, 55], [4000, 60], [8000, 65]])]);\nconst PRESET_F = preset('症例F', [\n// Right AC / BC - 感音難聴（高音漸傾型）\nmk('R', 'AC', [[125, 10], [250, 15], [500, 20], [1000, 30], [2000, 45], [4000, 65], [8000, 80]]), mk('R', 'BC', [[125, 10], [250, 15], [500, 20], [1000, 30], [2000, 45], [4000, 65], [8000, 80]]),\n// Left AC / BC - 感音難聴（高音漸傾型、左右同じ）\nmk('L', 'AC', [[125, 10], [250, 15], [500, 20], [1000, 30], [2000, 45], [4000, 65], [8000, 80]]), mk('L', 'BC', [[125, 10], [250, 15], [500, 20], [1000, 30], [2000, 45], [4000, 65], [8000, 80]])]);\nconst PRESET_G = preset('症例G', [\n// Right AC / BC - 軽度の感音難聴\nmk('R', 'AC', [[125, 10], [250, 10], [500, 5], [1000, 5], [2000, 5], [4000, 0], [8000, 0]]), mk('R', 'BC', [[125, 5], [250, 15], [500, 10], [1000, 5], [2000, 5], [4000, 0], [8000, 5]]),\n// Left AC / BC - 軽度の伝音難聴\nmk('L', 'AC', [[125, 35], [250, 40], [500, 30], [1000, 35], [2000, 30], [4000, 25], [8000, 35]]), mk('L', 'BC', [[125, 5], [250, 10], [500, 5], [1000, 5], [2000, 10], [4000, 5], [8000, 5]])]);\nconst PRESET_H = preset('症例H', [\n// Right AC / BC - 伝音難聴（両耳）\nmk('R', 'AC', [[125, 30], [250, 35], [500, 25], [1000, 20], [2000, 10], [4000, 15], [8000, 15]]), mk('R', 'BC', [[125, 5], [250, 5], [500, 10], [1000, 10], [2000, 15], [4000, 5], [8000, 5]]),\n// Left AC / BC - 伝音難聴（両耳）\nmk('L', 'AC', [[125, 30], [250, 35], [500, 20], [1000, 30], [2000, 20], [4000, 20], [8000, 30]]), mk('L', 'BC', [[125, 5], [250, 10], [500, 5], [1000, 5], [2000, 10], [4000, 5], [8000, 5]])]);\n\n// 学習用オーディオグラムパターン\nconst LEARNING_PATTERNS = {\n  // 基本的なパターン\n  normal: {\n    name: '正常聴力',\n    description: 'すべての周波数で20dB以下の聴力',\n    pattern: {\n      R: {\n        AC: [[125, 5], [250, 0], [500, 0], [1000, 0], [2000, 0], [4000, 5], [8000, 10]],\n        BC: [[125, 0], [250, 0], [500, 0], [1000, 0], [2000, 0], [4000, 0], [8000, 5]]\n      },\n      L: {\n        AC: [[125, 10], [250, 5], [500, 0], [1000, 0], [2000, 0], [4000, 5], [8000, 15]],\n        BC: [[125, 5], [250, 0], [500, 0], [1000, 0], [2000, 0], [4000, 0], [8000, 10]]\n      }\n    }\n  },\n  // 感音難聴パターン\n  sensorineural_mild: {\n    name: '軽度感音難聴',\n    description: 'ACとBCが同程度の軽度低下',\n    pattern: {\n      R: {\n        AC: [[125, 20], [250, 25], [500, 30], [1000, 35], [2000, 40], [4000, 45], [8000, 50]],\n        BC: [[125, 20], [250, 25], [500, 30], [1000, 35], [2000, 40], [4000, 45], [8000, 50]]\n      },\n      L: {\n        AC: [[125, 15], [250, 20], [500, 25], [1000, 30], [2000, 35], [4000, 40], [8000, 45]],\n        BC: [[125, 15], [250, 20], [500, 25], [1000, 30], [2000, 35], [4000, 40], [8000, 45]]\n      }\n    }\n  },\n  sensorineural_moderate: {\n    name: '中等度感音難聴',\n    description: 'ACとBCが同程度の中等度低下',\n    pattern: {\n      R: {\n        AC: [[125, 35], [250, 40], [500, 45], [1000, 50], [2000, 55], [4000, 60], [8000, 65]],\n        BC: [[125, 35], [250, 40], [500, 45], [1000, 50], [2000, 55], [4000, 60], [8000, 65]]\n      },\n      L: {\n        AC: [[125, 30], [250, 35], [500, 40], [1000, 45], [2000, 50], [4000, 55], [8000, 60]],\n        BC: [[125, 30], [250, 35], [500, 40], [1000, 45], [2000, 50], [4000, 55], [8000, 60]]\n      }\n    }\n  },\n  // 伝音難聴パターン\n  conductive: {\n    name: '伝音難聴',\n    description: 'ACは低下、BCは正常',\n    pattern: {\n      R: {\n        AC: [[125, 40], [250, 45], [500, 50], [1000, 55], [2000, 50], [4000, 45], [8000, 40]],\n        BC: [[125, 0], [250, 0], [500, 0], [1000, 0], [2000, 0], [4000, 0], [8000, 0]]\n      },\n      L: {\n        AC: [[125, 35], [250, 40], [500, 45], [1000, 50], [2000, 45], [4000, 40], [8000, 35]],\n        BC: [[125, 0], [250, 0], [500, 0], [1000, 0], [2000, 0], [4000, 0], [8000, 0]]\n      }\n    }\n  },\n  // 混合性難聴パターン\n  mixed: {\n    name: '混合性難聴',\n    description: 'ACとBCともに低下、ACの方が高度',\n    pattern: {\n      R: {\n        AC: [[125, 50], [250, 55], [500, 60], [1000, 65], [2000, 60], [4000, 55], [8000, 50]],\n        BC: [[125, 25], [250, 30], [500, 35], [1000, 40], [2000, 35], [4000, 30], [8000, 25]]\n      },\n      L: {\n        AC: [[125, 45], [250, 50], [500, 55], [1000, 60], [2000, 55], [4000, 50], [8000, 45]],\n        BC: [[125, 20], [250, 25], [500, 30], [1000, 35], [2000, 30], [4000, 25], [8000, 20]]\n      }\n    }\n  },\n  // 高音漸傾型難聴\n  high_frequency: {\n    name: '高音漸傾型難聴',\n    description: '高音域で急激な聴力低下',\n    pattern: {\n      R: {\n        AC: [[125, 5], [250, 10], [500, 15], [1000, 20], [2000, 35], [4000, 55], [8000, 75]],\n        BC: [[125, 5], [250, 10], [500, 15], [1000, 20], [2000, 35], [4000, 55], [8000, 75]]\n      },\n      L: {\n        AC: [[125, 0], [250, 5], [500, 10], [1000, 15], [2000, 30], [4000, 50], [8000, 70]],\n        BC: [[125, 0], [250, 5], [500, 10], [1000, 15], [2000, 30], [4000, 50], [8000, 70]]\n      }\n    }\n  },\n  // 低音漸傾型難聴\n  low_frequency: {\n    name: '低音漸傾型難聴',\n    description: '低音域で聴力低下',\n    pattern: {\n      R: {\n        AC: [[125, 45], [250, 35], [500, 25], [1000, 15], [2000, 10], [4000, 5], [8000, 10]],\n        BC: [[125, 45], [250, 35], [500, 25], [1000, 15], [2000, 10], [4000, 5], [8000, 10]]\n      },\n      L: {\n        AC: [[125, 40], [250, 30], [500, 20], [1000, 10], [2000, 5], [4000, 0], [8000, 5]],\n        BC: [[125, 40], [250, 30], [500, 20], [1000, 10], [2000, 5], [4000, 0], [8000, 5]]\n      }\n    }\n  },\n  // 平坦型難聴\n  flat: {\n    name: '平坦型難聴',\n    description: '全周波数で同程度の聴力低下',\n    pattern: {\n      R: {\n        AC: [[125, 50], [250, 45], [500, 50], [1000, 45], [2000, 50], [4000, 45], [8000, 50]],\n        BC: [[125, 50], [250, 45], [500, 50], [1000, 45], [2000, 50], [4000, 45], [8000, 50]]\n      },\n      L: {\n        AC: [[125, 45], [250, 50], [500, 45], [1000, 50], [2000, 45], [4000, 50], [8000, 45]],\n        BC: [[125, 45], [250, 50], [500, 45], [1000, 50], [2000, 45], [4000, 50], [8000, 45]]\n      }\n    }\n  },\n  // 疾患別オーディオグラムパターン（現実的な変動を含む）\n  mumps: {\n    name: 'ムンプス難聴',\n    description: '片側性の高度感音難聴、高音域で著明',\n    pattern: {\n      R: {\n        AC: [[125, 15], [250, 25], [500, 35], [1000, 45], [2000, 65], [4000, 85], [8000, 95]],\n        BC: [[125, 15], [250, 25], [500, 35], [1000, 45], [2000, 65], [4000, 85], [8000, 95]]\n      },\n      L: {\n        AC: [[125, 5], [250, 0], [500, 5], [1000, 0], [2000, 5], [4000, 10], [8000, 15]],\n        BC: [[125, 5], [250, 0], [500, 5], [1000, 0], [2000, 5], [4000, 10], [8000, 15]]\n      }\n    }\n  },\n  acoustic_trauma: {\n    name: '音響外傷',\n    description: '4000Hz付近のV字型聴力低下（C5 dip）',\n    pattern: {\n      R: {\n        AC: [[125, 5], [250, 10], [500, 15], [1000, 20], [2000, 25], [4000, 65], [8000, 40]],\n        BC: [[125, 5], [250, 10], [500, 15], [1000, 20], [2000, 25], [4000, 65], [8000, 40]]\n      },\n      L: {\n        AC: [[125, 0], [250, 5], [500, 10], [1000, 15], [2000, 20], [4000, 60], [8000, 35]],\n        BC: [[125, 0], [250, 5], [500, 10], [1000, 15], [2000, 20], [4000, 60], [8000, 35]]\n      }\n    }\n  },\n  noise_induced: {\n    name: '騒音性難聴',\n    description: '4000Hzを中心とした両側性高音域難聴',\n    pattern: {\n      R: {\n        AC: [[125, 10], [250, 15], [500, 20], [1000, 25], [2000, 30], [4000, 55], [8000, 35]],\n        BC: [[125, 10], [250, 15], [500, 20], [1000, 25], [2000, 30], [4000, 55], [8000, 35]]\n      },\n      L: {\n        AC: [[125, 5], [250, 10], [500, 15], [1000, 20], [2000, 25], [4000, 50], [8000, 30]],\n        BC: [[125, 5], [250, 10], [500, 15], [1000, 20], [2000, 25], [4000, 50], [8000, 30]]\n      }\n    }\n  },\n  presbycusis: {\n    name: '加齢性難聴',\n    description: '高音域から始まる両側性漸進的難聴',\n    pattern: {\n      R: {\n        AC: [[125, 5], [250, 10], [500, 15], [1000, 20], [2000, 30], [4000, 45], [8000, 70]],\n        BC: [[125, 5], [250, 10], [500, 15], [1000, 20], [2000, 30], [4000, 45], [8000, 70]]\n      },\n      L: {\n        AC: [[125, 0], [250, 5], [500, 10], [1000, 15], [2000, 25], [4000, 40], [8000, 65]],\n        BC: [[125, 0], [250, 5], [500, 10], [1000, 15], [2000, 25], [4000, 40], [8000, 65]]\n      }\n    }\n  },\n  meniere: {\n    name: 'メニエール病',\n    description: '低音域優位の感音難聴、変動性あり',\n    pattern: {\n      R: {\n        AC: [[125, 45], [250, 35], [500, 25], [1000, 20], [2000, 15], [4000, 10], [8000, 25]],\n        BC: [[125, 45], [250, 35], [500, 25], [1000, 20], [2000, 15], [4000, 10], [8000, 25]]\n      },\n      L: {\n        AC: [[125, 40], [250, 30], [500, 20], [1000, 15], [2000, 10], [4000, 5], [8000, 20]],\n        BC: [[125, 40], [250, 30], [500, 20], [1000, 15], [2000, 10], [4000, 5], [8000, 20]]\n      }\n    }\n  },\n  otosclerosis: {\n    name: '耳硬化症',\n    description: '伝音難聴、Carhart notch（2000Hz）',\n    pattern: {\n      R: {\n        AC: [[125, 25], [250, 30], [500, 35], [1000, 40], [2000, 60], [4000, 45], [8000, 40]],\n        BC: [[125, 0], [250, 0], [500, 0], [1000, 0], [2000, 20], [4000, 0], [8000, 0]]\n      },\n      L: {\n        AC: [[125, 20], [250, 25], [500, 30], [1000, 35], [2000, 55], [4000, 40], [8000, 35]],\n        BC: [[125, 0], [250, 0], [500, 0], [1000, 0], [2000, 15], [4000, 0], [8000, 0]]\n      }\n    }\n  },\n  auditory_neuropathy: {\n    name: 'Auditory Neuropathy',\n    description: 'ABR異常、OAE正常、語音弁別不良',\n    pattern: {\n      R: {\n        AC: [[125, 15], [250, 20], [500, 25], [1000, 30], [2000, 35], [4000, 40], [8000, 45]],\n        BC: [[125, 15], [250, 20], [500, 25], [1000, 30], [2000, 35], [4000, 40], [8000, 45]]\n      },\n      L: {\n        AC: [[125, 10], [250, 15], [500, 20], [1000, 25], [2000, 30], [4000, 35], [8000, 40]],\n        BC: [[125, 10], [250, 15], [500, 20], [1000, 25], [2000, 30], [4000, 35], [8000, 40]]\n      }\n    }\n  },\n  sudden_hearing_loss: {\n    name: '突発性難聴',\n    description: '片側性の急激な感音難聴',\n    pattern: {\n      R: {\n        AC: [[125, 55], [250, 65], [500, 70], [1000, 75], [2000, 80], [4000, 85], [8000, 90]],\n        BC: [[125, 55], [250, 65], [500, 70], [1000, 75], [2000, 80], [4000, 85], [8000, 90]]\n      },\n      L: {\n        AC: [[125, 5], [250, 0], [500, 0], [1000, 0], [2000, 0], [4000, 5], [8000, 10]],\n        BC: [[125, 5], [250, 0], [500, 0], [1000, 0], [2000, 0], [4000, 5], [8000, 10]]\n      }\n    }\n  },\n  vestibular_schwannoma: {\n    name: '聴神経腫瘍',\n    description: '高音域優位の片側性感音難聴',\n    pattern: {\n      R: {\n        AC: [[125, 10], [250, 15], [500, 20], [1000, 25], [2000, 35], [4000, 55], [8000, 75]],\n        BC: [[125, 10], [250, 15], [500, 20], [1000, 25], [2000, 35], [4000, 55], [8000, 75]]\n      },\n      L: {\n        AC: [[125, 5], [250, 0], [500, 0], [1000, 0], [2000, 0], [4000, 0], [8000, 5]],\n        BC: [[125, 5], [250, 0], [500, 0], [1000, 0], [2000, 0], [4000, 0], [8000, 5]]\n      }\n    }\n  }\n};\nfunction buildTargetsFromPreset(preset) {\n  if (!preset) return [];\n  return preset.targets.map(t => ({\n    ...t\n  }));\n}\n\n// helpers\nfunction clamp(n, lo, hi) {\n  return Math.max(lo, Math.min(hi, n));\n}\nfunction round5(n) {\n  return Math.round(n / 5) * 5;\n}\nfunction seriesKey(p) {\n  // ACの場合はマスキング状態に関係なく同じ系列として扱う\n  if (p.transducer === 'AC') {\n    return `${p.ear}-${p.transducer}`;\n  }\n  // BCの場合はマスキング状態を区別\n  return `${p.ear}-${p.transducer}-${p.masked ? \"M\" : \"U\"}`;\n}\nfunction isResponse(points, t) {\n  return points.some(p => p.ear === t.ear && p.transducer === t.transducer && p.masked === t.masked && p.freq === t.freq && p.dB >= t.dB);\n}\n// PRESENTATION LIMIT (fix for ReferenceError: maxPresentable is not defined)\nfunction maxPresentable(transKey, f) {\n  var _AC_MAX$f, _BC_MAX$f;\n  return transKey === 'AC' ? (_AC_MAX$f = AC_MAX[f]) !== null && _AC_MAX$f !== void 0 ? _AC_MAX$f : 110 : (_BC_MAX$f = BC_MAX[f]) !== null && _BC_MAX$f !== void 0 ? _BC_MAX$f : 110;\n}\n\n// shape renderer (adds SO arrow if payload.so)\nfunction shapeRenderer(shape, color) {\n  return props => {\n    const {\n      cx,\n      cy,\n      payload\n    } = props;\n    const r = MARK_R;\n    const t = MARK_STROKE;\n    const so = payload && payload.so;\n    const Arrow = so ? /*#__PURE__*/_jsxDEV(\"g\", {\n      children: [/*#__PURE__*/_jsxDEV(\"line\", {\n        x1: cx,\n        y1: cy + r + 2,\n        x2: cx,\n        y2: cy + r + 10,\n        stroke: color,\n        strokeWidth: t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        x1: cx - 4,\n        y1: cy + r + 6,\n        x2: cx,\n        y2: cy + r + 10,\n        stroke: color,\n        strokeWidth: t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        x1: cx + 4,\n        y1: cy + r + 6,\n        x2: cx,\n        y2: cy + r + 10,\n        stroke: color,\n        strokeWidth: t\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this) : null;\n    switch (shape) {\n      case 'O':\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n            cx: cx,\n            cy: cy,\n            r: r,\n            stroke: color,\n            strokeWidth: t,\n            fill: \"white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), Arrow]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this);\n      case 'X':\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          stroke: color,\n          strokeWidth: t,\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx - r,\n            y1: cy - r,\n            x2: cx + r,\n            y2: cy + r\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx - r,\n            y1: cy + r,\n            x2: cx + r,\n            y2: cy - r\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), Arrow]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this);\n      case 'lbracket':\n        // [ (masked BC Right) - 左にずらす\n        const lbracketOffset = -3; // 右耳BCを左に3pxずらす\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          stroke: color,\n          strokeWidth: t,\n          fill: \"none\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx - r + lbracketOffset,\n            y1: cy - r,\n            x2: cx - r + lbracketOffset,\n            y2: cy + r\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx - r + lbracketOffset,\n            y1: cy - r,\n            x2: cx - r / 3 + lbracketOffset,\n            y2: cy - r\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx - r + lbracketOffset,\n            y1: cy + r,\n            x2: cx - r / 3 + lbracketOffset,\n            y2: cy + r\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), Arrow]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this);\n      case 'rbracket':\n        // ] (masked BC Left) - 右にずらす\n        const rbracketOffset = 3; // 左耳BCを右に3pxずらす\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          stroke: color,\n          strokeWidth: t,\n          fill: \"none\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx + r + rbracketOffset,\n            y1: cy - r,\n            x2: cx + r + rbracketOffset,\n            y2: cy + r\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx + r + rbracketOffset,\n            y1: cy - r,\n            x2: cx + r / 3 + rbracketOffset,\n            y2: cy - r\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx + r + rbracketOffset,\n            y1: cy + r,\n            x2: cx + r / 3 + rbracketOffset,\n            y2: cy + r\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this), Arrow]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this);\n      case 'lt':\n        // < (unmasked BC Right) - 左にずらす\n        const ltOffset = -3; // 右耳BCを左に3pxずらす\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          stroke: color,\n          strokeWidth: t,\n          fill: \"none\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx + r + ltOffset,\n            y1: cy - r,\n            x2: cx - r / 3 + ltOffset,\n            y2: cy\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx + r + ltOffset,\n            y1: cy + r,\n            x2: cx - r / 3 + ltOffset,\n            y2: cy\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), Arrow]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this);\n      case 'gt':\n        // > (unmasked BC Left) - 右にずらす\n        const gtOffset = 3; // 左耳BCを右に3pxずらす\n        return /*#__PURE__*/_jsxDEV(\"g\", {\n          stroke: color,\n          strokeWidth: t,\n          fill: \"none\",\n          children: [/*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx - r + gtOffset,\n            y1: cy - r,\n            x2: cx + r / 3 + gtOffset,\n            y2: cy\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: cx - r + gtOffset,\n            y1: cy + r,\n            x2: cx + r / 3 + gtOffset,\n            y2: cy\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), Arrow]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: cx,\n          cy: cy,\n          r: r,\n          fill: color\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 16\n        }, this);\n    }\n  };\n}\n\n// Legend icon that reuses chart shapes instead of color squares\nfunction LegendMark({\n  shape,\n  color\n}) {\n  const size = MARK_R * 2 + 8; // padding around the symbol\n  const render = shapeRenderer(shape, color);\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: size,\n    height: size,\n    viewBox: `0 0 ${size} ${size}`,\n    \"aria-hidden\": true,\n    children: /*#__PURE__*/_jsxDEV(\"g\", {\n      transform: `translate(${size / 2}, ${size / 2})`,\n      children: render({\n        cx: 0,\n        cy: 0,\n        payload: {}\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 418,\n    columnNumber: 5\n  }, this);\n}\n_c = LegendMark;\nexport default function AudiogramMaskingMVP() {\n  _s();\n  // 講習会用パスワード保護\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [password, setPassword] = useState('');\n  const TRAINING_PASSWORD = 'audiogram2024'; // 講習会用パスワード\n\n  // Basic UI state\n  const [ear, setEar] = useState('R'); // 'R' | 'L'\n  const [trans, setTrans] = useState('AC'); // 'AC' | 'BC'\n  const [masked, setMasked] = useState(false);\n  const [freq, setFreq] = useState(1000);\n  const [maskLevel, setMaskLevel] = useState(-15); // masking amount (dB); -15 means no masking\n  const [level, setLevel] = useState(30);\n  const [points, setPoints] = useState([]);\n  const [suppressLamp, setSuppressLamp] = useState(false); // 周波数切替時に一時的にランプ消灯\n\n  // IA設定の状態管理\n  const [iaSettings, setIaSettings] = useState(IA_VALUES);\n  const [showIaSettings, setShowIaSettings] = useState(false);\n\n  // 学習モードの状態管理\n  const [isLearningMode, setIsLearningMode] = useState(false);\n  const [selectedPattern, setSelectedPattern] = useState(null);\n  const [learningProgress, setLearningProgress] = useState({\n    totalSessions: 0,\n    completedCases: [],\n    caseAccuracy: {},\n    // 症例別の精度 {caseId: {total: number, correct: number, accuracy: number}}\n    lastSessionDate: null\n  });\n  const [showLegend, setShowLegend] = useState(true); // ← FIX: define showLegend state\n\n  // Preset targets (secret answer)\n  const [targets, setTargets] = useState([]);\n  const [selectedPreset, setSelectedPreset] = useState('A');\n\n  // Measurement log for masking comparison\n  const [measurementLog, setMeasurementLog] = useState([]);\n\n  // Training mode state\n  const [isTrainingMode, setIsTrainingMode] = useState(false);\n  const [trainingCase, setTrainingCase] = useState(null);\n  const [trainingResults, setTrainingResults] = useState([]);\n\n  // Loading states\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Refs / layout\n  const containerRef = useRef(null);\n  const chartHostRef = useRef(null);\n  const overlayRef = useRef(null);\n  const plotCalRef = useRef({\n    scaleY: 1,\n    deltaTop: 0\n  });\n  // Fixed-size chart: plotting area derived from CELL_PX and margins (no ResponsiveContainer)\n  const chartW = GRID_W + AXIS_LEFT + AXIS_RIGHT; // widened right margin to avoid 8000 label clipping\n  const chartH = GRID_H + AXIS_TOP + AXIS_BOTTOM;\n\n  // Auto-hide legend if plotting box is too small (safety)\n  useEffect(() => {\n    setShowLegend(chartH * CHART_SCALE > 220);\n  }, [chartH]);\n\n  // --- Plot calibration: measure real grid box and align overlay ---\n  useLayoutEffect(() => {\n    const host = chartHostRef.current;\n    const ov = overlayRef.current;\n    if (!host || !ov) return;\n    const gridG = host.querySelector('g.recharts-cartesian-grid');\n    if (!gridG || !gridG.getBoundingClientRect) return;\n    const gridRect = gridG.getBoundingClientRect();\n    const ovRect = ov.getBoundingClientRect();\n    const scaleY = gridRect.height / Math.max(1, ovRect.height);\n    const deltaTop = gridRect.top - ovRect.top; // 上端の差（オーバーレイ→グリッド）\n    plotCalRef.current = {\n      scaleY,\n      deltaTop\n    };\n  });\n\n  // --- Dev sanity checks (non-intrusive) ---\n  useEffect(() => {\n    try {\n      var _tmap$get;\n      console.assert(Array.isArray(FREQS) && FREQS.length === 7, 'FREQS should have 7 items');\n      console.assert(SERIES.every(s => s.key && s.color && s.shape), 'SERIES entries must have key/color/shape');\n      const sampleTicks = Array.from({\n        length: FREQS.length\n      }, (_, i) => i).map(formatFreq);\n      console.assert(sampleTicks.every(t => String(t).length > 0), 'formatFreq should produce labels');\n      // quick unit-like check for getThr mapping using PRESET_A\n      const tmap = new Map();\n      PRESET_A.targets.filter(t => t.masked === false).forEach(t => {\n        var _AC_MAX$t$freq, _BC_MAX$t$freq;\n        const key = `${t.ear}|${t.transducer}|${t.freq}`;\n        const base = t.so ? (t.transducer === 'AC' ? (_AC_MAX$t$freq = AC_MAX[t.freq]) !== null && _AC_MAX$t$freq !== void 0 ? _AC_MAX$t$freq : 110 : (_BC_MAX$t$freq = BC_MAX[t.freq]) !== null && _BC_MAX$t$freq !== void 0 ? _BC_MAX$t$freq : 110) + 50 : t.dB;\n        tmap.set(key, {\n          dB: base\n        });\n      });\n      const k = 'R|AC|1000';\n      console.assert(((_tmap$get = tmap.get(k)) === null || _tmap$get === void 0 ? void 0 : _tmap$get.dB) === 5, 'getThr baseline sanity (R AC 1kHz should be 5 dB)');\n      // helpers\n      console.assert(round5(52) === 50 && round5(53) === 55, 'round5 should snap to nearest 5');\n      console.assert(maxPresentable('AC', 1000) === 110, 'AC max @1k should be 110');\n      // ensure getThr (component-scope) resolves with targetMap in place\n      console.assert(Number.isFinite(getThr('R', 'AC', 1000)), 'getThr should resolve for R AC 1k');\n\n      // === Added self-tests per spec (1) 5dB丸め, (2) -10/120クランプ, (3) 0/50/100整合 ===\n      // Pure mapping test with synthetic geometry\n      const yMin = -10,\n        yMax = 120,\n        gridH = yMax - yMin; // 1px == 1dB for synthetic\n      const mapYToDb = y => yMin + Math.max(0, Math.min(gridH, y)) / gridH * (yMax - yMin);\n      const assertNear5 = (val, expect) => console.assert(Math.abs(round5(val) - expect) <= 0, `round5(${val}) ~= ${expect}`);\n      assertNear5(mapYToDb(0), -10);\n      assertNear5(mapYToDb(gridH * 0.5), 55); // 中央\n      assertNear5(mapYToDb(gridH), 120);\n      // clamp extremes\n      console.assert(Math.min(yMax, Math.max(yMin, -15)) === -10, 'clamp top to -10dB');\n      console.assert(Math.min(yMax, Math.max(yMin, 130)) === 120, 'clamp bottom to 120dB');\n\n      // showLegend presence\n      console.assert(typeof showLegend === 'boolean', 'showLegend should be boolean');\n\n      // masking logic quick checks\n      const targets = PRESET_A.targets;\n      const localMap = new Map();\n      targets.filter(t => t.masked === false).forEach(t => {\n        var _AC_MAX$t$freq2, _BC_MAX$t$freq2;\n        const overMax = (t.transducer === 'AC' ? (_AC_MAX$t$freq2 = AC_MAX[t.freq]) !== null && _AC_MAX$t$freq2 !== void 0 ? _AC_MAX$t$freq2 : 110 : (_BC_MAX$t$freq2 = BC_MAX[t.freq]) !== null && _BC_MAX$t$freq2 !== void 0 ? _BC_MAX$t$freq2 : 110) + 50;\n        localMap.set(`${t.ear}|${t.transducer}|${t.freq}`, {\n          dB: t.so ? overMax : t.dB\n        });\n      });\n      const _getThr = (earKey, transKey, f) => {\n        var _localMap$get$dB, _localMap$get;\n        return (_localMap$get$dB = (_localMap$get = localMap.get(`${earKey}|${transKey}|${f}`)) === null || _localMap$get === void 0 ? void 0 : _localMap$get.dB) !== null && _localMap$get$dB !== void 0 ? _localMap$get$dB : Infinity;\n      };\n      const _hears = (earKey, transKey, f, L, maskedFlag, maskLvl) => {\n        const teThr = _getThr(earKey, transKey, f);\n        const testEarHeard = L >= teThr;\n        const nte = earKey === 'R' ? 'L' : 'R';\n        const ia = getIA(transKey, f);\n        const leakedToNTE = L - ia;\n        const nteBC = _getThr(nte, 'BC', f);\n        const effectiveMask = maskedFlag && maskLvl > nteBC ? maskLvl : nteBC;\n        const crossHeard = leakedToNTE >= effectiveMask;\n        return testEarHeard || crossHeard;\n      };\n      console.assert(_hears('R', 'AC', 1000, 10, false, -15) === true, 'test-ear hears >= thr');\n      console.assert(_hears('R', 'AC', 2000, 70, true, 80) === true, 'effective masking keeps true via test-ear');\n    } catch (e) {\n      console.warn('Sanity check failed:', e);\n    }\n  }, [showLegend]);\n\n  // Overlay answer (blink)\n  const [showAnswer, setShowAnswer] = useState(false);\n  const [overMaskingWarning, setOverMaskingWarning] = useState(true); // オーバーマスキング警告のON/OFF\n  const [crossHearingWarning, setCrossHearingWarning] = useState(true); // クロスヒアリング警告のON/OFF\n  const [blinkOn, setBlinkOn] = useState(true);\n  useEffect(() => {\n    if (!showAnswer) return;\n    const id = setInterval(() => setBlinkOn(b => !b), 700);\n    return () => clearInterval(id);\n  }, [showAnswer]);\n\n  // Debug: log showAnswer state changes\n  useEffect(() => {\n    console.log('showAnswer changed:', showAnswer);\n  }, [showAnswer]);\n\n  // Keyboard: Arrow keys for navigation and level control\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const onKeyDown = e => {\n      const el = e.target;\n      const tag = el && el.tagName ? el.tagName.toUpperCase() : '';\n      const type = el && el.type ? String(el.type).toLowerCase() : '';\n      const isTypingField = tag === 'INPUT' && (type === 'text' || type === 'number' || type === 'search' || type === 'email' || type === 'password') || tag === 'TEXTAREA' || el && el.isContentEditable === true;\n      if (isTypingField) return;\n\n      // 周波数変更（左右キー）\n      if (e.key === 'ArrowRight') {\n        e.preventDefault();\n        console.log('右キー押下');\n        setFreq(prev => {\n          const idx = Math.max(0, FREQS.indexOf(prev));\n          const nextIdx = Math.min(FREQS.length - 1, idx + 1);\n          return FREQS[nextIdx];\n        });\n      }\n      if (e.key === 'ArrowLeft') {\n        e.preventDefault();\n        console.log('左キー押下');\n        setFreq(prev => {\n          const idx = Math.max(0, FREQS.indexOf(prev));\n          const nextIdx = Math.max(0, idx - 1);\n          return FREQS[nextIdx];\n        });\n      }\n\n      // レベル調整（上下キー）- 上下を逆にして、自動打点\n      if (e.key === 'ArrowUp') {\n        e.preventDefault();\n        console.log('上キー押下');\n        setLevel(prev => {\n          const newLevel = Math.min(Y_MAX, prev - 5); // 上キーで-5dB\n          setSuppressLamp(false);\n          // 自動で打点追加（応答ランプが点灯した時のみログ記録）\n          setTimeout(() => {\n            addOrReplacePoint({\n              ear,\n              transducer: trans,\n              masked,\n              freq,\n              dB: round5(newLevel)\n            });\n          }, 50);\n          return newLevel;\n        });\n      }\n      if (e.key === 'ArrowDown') {\n        e.preventDefault();\n        console.log('下キー押下');\n        setLevel(prev => {\n          const newLevel = Math.max(Y_MIN, prev + 5); // 下キーで+5dB\n          setSuppressLamp(false);\n          // 自動で打点追加（応答ランプが点灯した時のみログ記録）\n          setTimeout(() => {\n            addOrReplacePoint({\n              ear,\n              transducer: trans,\n              masked,\n              freq,\n              dB: round5(newLevel)\n            });\n          }, 50);\n          return newLevel;\n        });\n      }\n\n      // Deleteキーで現在の打点削除\n      if (e.key === 'Delete' || e.key === 'Backspace') {\n        e.preventDefault();\n        removePointAtCurrent();\n      }\n    };\n    window.addEventListener('keydown', onKeyDown, {\n      capture: true\n    });\n    return () => {\n      window.removeEventListener('keydown', onKeyDown, {\n        capture: true\n      });\n    };\n  }, [ear, trans, masked, freq, level]);\n\n  // 周波数が変わったら一度ランプを消灯\n  useEffect(() => {\n    setSuppressLamp(true);\n  }, [freq]);\n  const freqIndex = useMemo(() => Math.max(0, FREQS.indexOf(freq)), [freq]);\n  function moveFreq(dir /* -1 | 1 */) {\n    let idx = clamp(freqIndex + dir, 0, FREQS.length - 1);\n    // BC時は125/8000Hzをスキップ\n    if (trans === 'BC') {\n      while (BC_DISABLED.has(FREQS[idx])) {\n        idx = clamp(idx + dir, 0, FREQS.length - 1);\n        if (idx === 0 || idx === FREQS.length - 1) break;\n      }\n    }\n    setFreq(FREQS[idx]);\n  }\n\n  // clicking on chart -> add/replace point for current ear/trans/masked+freq\n  function addOrReplacePoint(p) {\n    if (p.transducer === 'BC' && BC_DISABLED.has(p.freq)) {\n      setSuppressLamp(true);\n      return;\n    }\n    const p2 = {\n      ...p,\n      masked: p.masked\n    };\n    const max = maxPresentable(p2.transducer, p2.freq);\n    const atMax = p2.dB >= max;\n    const heardAtMax = hearsAtLevel(p2.ear, p2.transducer, p2.freq, max);\n    const so = atMax && !heardAtMax;\n    const p3 = {\n      ...p2,\n      dB: atMax ? max : p2.dB,\n      ...(so ? {\n        so: true\n      } : {})\n    };\n    setPoints(prev => {\n      const k = x => `${x.ear}|${x.transducer}|${x.masked ? 'M' : 'U'}|${x.freq}`;\n      const kp = k(p3);\n      const others = prev.filter(q => k(q) !== kp);\n      return [...others, p3].sort((a, b) => a.freq - b.freq || a.dB - b.dB);\n    });\n\n    // Add to measurement log only when lamp is on (response detected)\n    const lampOn = hearsAtLevel(p3.ear, p3.transducer, p3.freq, p3.dB);\n    if (lampOn) {\n      const logEntry = {\n        id: Date.now(),\n        timestamp: new Date().toLocaleTimeString(),\n        ear: p3.ear,\n        transducer: p3.transducer,\n        freq: p3.freq,\n        dB: p3.dB,\n        masked: p3.masked,\n        maskLevel: masked ? maskLevel : -15,\n        so: !!p3.so,\n        caseId: selectedPreset\n      };\n      setMeasurementLog(prev => [...prev, logEntry]);\n\n      // Update learning progress\n      setLearningProgress(prev => ({\n        ...prev,\n        totalMeasurements: prev.totalMeasurements + 1,\n        lastSessionDate: new Date().toISOString().split('T')[0]\n      }));\n    }\n    setSuppressLamp(false);\n  }\n\n  // Precise hit: map overlay click to real grid using measured scale/offset\n  function handlePlotClick(e) {\n    if (trans === 'BC' && BC_DISABLED.has(freq)) {\n      setSuppressLamp(true);\n      return;\n    }\n    const ov = overlayRef.current;\n    if (!ov) return;\n    const ovRect = ov.getBoundingClientRect();\n\n    // クリック位置をオーバーレイ内の相対座標に変換\n    const clickX = e.clientX - ovRect.left;\n    const clickY = e.clientY - ovRect.top;\n\n    // Y軸の範囲を計算（オーディオグラムは上から下に-10dBから120dB）\n    const yRange = Y_MAX - Y_MIN; // 130dB\n    const yRatio = clickY / ovRect.height; // 0から1の比率\n\n    // RechartsのY軸はreversed=trueなので、座標変換を修正\n    // 上（yRatio=0）が120dB、下（yRatio=1）が-10dB\n    let dBraw = Y_MIN + yRatio * yRange;\n    dBraw += CAL_OFFSET_DB; // optional small offset (kept 0 by default)\n    const dBclamped = clamp(round5(dBraw), Y_MIN, Y_MAX);\n    const max = maxPresentable(trans, freq);\n    const atMax = dBclamped >= max;\n    const heardAtMax = hearsAtLevel(ear, trans, freq, max);\n    const so = atMax && !heardAtMax;\n    const p = {\n      ear,\n      transducer: trans,\n      masked,\n      freq,\n      dB: atMax ? max : dBclamped,\n      ...(so ? {\n        so: true\n      } : {})\n    };\n    addOrReplacePoint(p);\n    setLevel(p.dB);\n    setSuppressLamp(false);\n  }\n  function removePointAtCurrent() {\n    setPoints(prev => prev.filter(q => !(q.ear === ear && q.transducer === trans && q.freq === freq && q.masked === masked)));\n  }\n  function clearAll() {\n    setPoints([]);\n  }\n\n  // ---- Target lookup for cross-hearing & lamp logic ----\n  const targetMap = useMemo(() => {\n    const map = new Map();\n    (targets || []).forEach(t => {\n      var _AC_MAX$t$freq3, _BC_MAX$t$freq3;\n      if (!t || t.masked !== false || typeof t.freq !== 'number') return;\n      const overMax = (t.transducer === 'AC' ? (_AC_MAX$t$freq3 = AC_MAX[t.freq]) !== null && _AC_MAX$t$freq3 !== void 0 ? _AC_MAX$t$freq3 : 110 : (_BC_MAX$t$freq3 = BC_MAX[t.freq]) !== null && _BC_MAX$t$freq3 !== void 0 ? _BC_MAX$t$freq3 : 110) + 50;\n      const dB = t.so ? overMax : t.dB;\n      map.set(`${t.ear}|${t.transducer}|${t.freq}`, {\n        dB\n      });\n    });\n    return map;\n  }, [targets]);\n\n  // オーバーマスキング検出\n  const isOverMasking = useMemo(() => {\n    if (!masked || !overMaskingWarning) return false;\n    const testEarBC = getThr(ear, 'BC', freq);\n    if (testEarBC === Infinity) {\n      return false;\n    }\n\n    // マスキングの上限 = 測定耳BC閾値 + 50dB\n    const maskingLimit = testEarBC + 50;\n\n    // マスキングレベルが上限を超えている場合\n    return maskLevel > maskingLimit;\n  }, [masked, maskLevel, ear, freq, overMaskingWarning, targetMap]);\n\n  // クロスヒアリング検出\n  const crossHearingInfo = useMemo(() => {\n    if (!crossHearingWarning) return {\n      isCrossHearing: false,\n      details: null\n    };\n    const testEarThreshold = getThr(ear, trans, freq);\n    if (testEarThreshold === Infinity) {\n      return {\n        isCrossHearing: false,\n        details: null\n      };\n    }\n    const nte = ear === 'R' ? 'L' : 'R';\n    const ia = getIA(trans, freq);\n    const leakedToNTE = level - ia;\n    const nteBC = getThr(nte, 'BC', freq);\n\n    // マスキングが適用されている場合の効果的なマスキングレベル\n    let effectiveMask = nteBC;\n    if (masked && maskLevel > nteBC) {\n      effectiveMask = maskLevel;\n    }\n\n    // クロスヒアリングが発生する条件\n    const isCrossHearing = leakedToNTE >= effectiveMask;\n    if (isCrossHearing) {\n      return {\n        isCrossHearing: true,\n        details: {\n          testEarThreshold,\n          leakedToNTE,\n          nteBC,\n          effectiveMask,\n          ia,\n          nte\n        }\n      };\n    }\n    return {\n      isCrossHearing: false,\n      details: null\n    };\n  }, [level, ear, trans, freq, masked, maskLevel, crossHearingWarning, targetMap]);\n\n  // IA値を取得する関数\n  function getIA(transducer, frequency) {\n    var _iaSettings$transduce, _iaSettings$transduce2;\n    return (_iaSettings$transduce = (_iaSettings$transduce2 = iaSettings[transducer]) === null || _iaSettings$transduce2 === void 0 ? void 0 : _iaSettings$transduce2[frequency]) !== null && _iaSettings$transduce !== void 0 ? _iaSettings$transduce : 0;\n  }\n\n  // 学習パターンをロードする関数\n  function loadLearningPattern(patternKey) {\n    const pattern = LEARNING_PATTERNS[patternKey];\n    if (!pattern) return;\n    const targets = [];\n\n    // 右耳のデータを追加\n    pattern.pattern.R.AC.forEach(([freq, dB]) => {\n      targets.push({\n        ear: 'R',\n        transducer: 'AC',\n        freq,\n        dB,\n        masked: false\n      });\n    });\n    pattern.pattern.R.BC.forEach(([freq, dB]) => {\n      targets.push({\n        ear: 'R',\n        transducer: 'BC',\n        freq,\n        dB,\n        masked: false\n      });\n    });\n\n    // 左耳のデータを追加\n    pattern.pattern.L.AC.forEach(([freq, dB]) => {\n      targets.push({\n        ear: 'L',\n        transducer: 'AC',\n        freq,\n        dB,\n        masked: false\n      });\n    });\n    pattern.pattern.L.BC.forEach(([freq, dB]) => {\n      targets.push({\n        ear: 'L',\n        transducer: 'BC',\n        freq,\n        dB,\n        masked: false\n      });\n    });\n    setTargets(targets);\n    setSelectedPattern(patternKey);\n    setPoints([]);\n    setIsLearningMode(true);\n  }\n  function getThr(earKey, transKey, f) {\n    const key = `${earKey}|${transKey}|${f}`;\n    const v = targetMap.get(key);\n    if (v && typeof v.dB === 'number') {\n      // SO（Scale-Out）の場合は最大値+50dBを返す\n      if (v.dB >= 110) {\n        var _AC_MAX$f2, _BC_MAX$f2;\n        return (transKey === 'AC' ? (_AC_MAX$f2 = AC_MAX[f]) !== null && _AC_MAX$f2 !== void 0 ? _AC_MAX$f2 : 110 : (_BC_MAX$f2 = BC_MAX[f]) !== null && _BC_MAX$f2 !== void 0 ? _BC_MAX$f2 : 110) + 50;\n      }\n      return v.dB;\n    }\n    return Infinity; // missing → treat as no response\n  }\n  function hearsAtLevel(earKey, transKey, f, L) {\n    const teThr = getThr(earKey, transKey, f);\n    const nte = earKey === 'R' ? 'L' : 'R';\n    const ia = getIA(transKey, f);\n    const leakedToNTE = L - ia;\n\n    // マスキングの基本原理：\n    // AC測定時：非測定耳のBC閾値と比較\n    // BC測定時：非測定耳のBC閾値と比較\n    const nteBC = getThr(nte, 'BC', f);\n\n    // マスキングの計算\n    let effectiveMask = nteBC;\n    if (masked && maskLevel > nteBC) {\n      // マスキングレベルが非測定耳BC閾値より高い場合\n      effectiveMask = maskLevel;\n    }\n    const crossHeard = leakedToNTE >= effectiveMask;\n\n    // オーバーマスキングの計算\n    let actualThreshold = teThr;\n    if (masked) {\n      // AC/BC測定時のオーバーマスキング計算\n      // マスキングの上限 = 測定耳BC閾値 + 50dB\n      const testEarBC = getThr(earKey, 'BC', f);\n      const maskingLimit = testEarBC + 50;\n      if (maskLevel > maskingLimit) {\n        // オーバーマスキング発生\n        const overMasking = maskLevel - maskingLimit;\n        actualThreshold = teThr + overMasking;\n      }\n    }\n\n    // 実際の閾値（オーバーマスキング考慮後）で判定\n    const testEarHeard = L >= actualThreshold;\n    return testEarHeard || crossHeard;\n  }\n\n  // series data (user)\n  const seriesData = useMemo(() => {\n    const m = {};\n    SERIES.forEach(s => m[s.key] = []);\n    points.forEach(p => {\n      const key = seriesKey(p);\n      if (!m[key]) m[key] = [];\n      const i = Math.max(0, FREQS.indexOf(p.freq));\n      const xIdx = i;\n      m[key].push({\n        x: xIdx,\n        idx: i,\n        y: p.dB,\n        ...(p.so ? {\n          so: true\n        } : {})\n      });\n    });\n    return m;\n  }, [points]);\n\n  // AC lines (connect) — break at Scale-Out and at gaps\n  const acLineData = useMemo(() => {\n    const out = {};\n    SERIES.filter(s => s.key.includes('-AC')).forEach(s => {\n      out[s.key] = FREQS.map((_, i) => ({\n        x: i,\n        y: null\n      }));\n      const pts = seriesData[s.key] || [];\n      pts.forEach(p => {\n        const i = p.x;\n        if (!p || typeof i !== 'number') return;\n        out[s.key][i] = p.so ? {\n          x: i,\n          y: null\n        } : {\n          x: i,\n          y: p.y\n        };\n      });\n    });\n    return out;\n  }, [seriesData]);\n\n  // Build answer overlay series from loaded targets (markers)\n  const answerSeriesData = useMemo(() => {\n    const m = {};\n    SERIES.forEach(s => m[s.key] = []);\n    (targets || []).forEach(t => {\n      var _AC_MAX$t$freq4, _BC_MAX$t$freq4;\n      if (t.transducer === 'BC' && BC_DISABLED.has(t.freq)) return;\n      const i = Math.max(0, FREQS.indexOf(t.freq));\n      const xIdx = i;\n      const isSO = !!t.so;\n      const yVal = isSO ? t.transducer === 'AC' ? (_AC_MAX$t$freq4 = AC_MAX[t.freq]) !== null && _AC_MAX$t$freq4 !== void 0 ? _AC_MAX$t$freq4 : 110 : (_BC_MAX$t$freq4 = BC_MAX[t.freq]) !== null && _BC_MAX$t$freq4 !== void 0 ? _BC_MAX$t$freq4 : 110 : t.dB;\n      // ACの場合はマスキング状態を区別しない、BCの場合は常にmaskedのキーを使用\n      const key = t.transducer === 'AC' ? `${t.ear}-${t.transducer}` : `${t.ear}-${t.transducer}-M`;\n      m[key] = m[key] || [];\n      m[key].push({\n        x: xIdx,\n        y: yVal,\n        ...(isSO ? {\n          so: true\n        } : {})\n      });\n    });\n    console.log('answerSeriesData generated:', m);\n    return m;\n  }, [targets]);\n\n  // Answer AC lines: break at SO and at gaps by inserting null placeholders\n  const answerLineData = useMemo(() => {\n    const out = {};\n    SERIES.filter(s => s.key.includes('-AC')).forEach(s => {\n      out[s.key] = FREQS.map((_, i) => ({\n        x: i,\n        y: null\n      }));\n      const pts = answerSeriesData[s.key] || [];\n      pts.forEach(p => {\n        const i = p.x;\n        if (!p || typeof i !== 'number') return;\n        out[s.key][i] = p.so ? {\n          x: i,\n          y: null\n        } : {\n          x: i,\n          y: p.y\n        };\n      });\n    });\n    return out;\n  }, [answerSeriesData]);\n\n  // Response lamp (current condition vs target >= OR cross-hearing)\n  const currentTarget = useMemo(() => (targets || []).find(x => x.ear === ear && x.transducer === trans && x.masked === false && x.freq === freq), [targets, ear, trans, freq]);\n  const lampOn = useMemo(() => {\n    if (!currentTarget) return false;\n    if (suppressLamp) return false; // 抑制中は消灯\n    const L = round5(level);\n\n    // オーバーマスキングを考慮した応答判定\n    return hearsAtLevel(ear, trans, freq, L);\n  }, [currentTarget, level, ear, trans, freq, masked, maskLevel, targetMap, suppressLamp]);\n\n  // オーバーマスキングを考慮した実際の閾値を取得\n  function getActualThreshold(earKey, transKey, f) {\n    const baseThreshold = getThr(earKey, transKey, f);\n    if (masked) {\n      // AC/BC測定時のオーバーマスキング計算\n      // マスキングの上限 = 測定耳BC閾値 + 50dB\n      const testEarBC = getThr(earKey, 'BC', f);\n      const maskingLimit = testEarBC + 50;\n      if (maskLevel > maskingLimit) {\n        // オーバーマスキング発生\n        const overMasking = maskLevel - maskingLimit;\n        return baseThreshold + overMasking;\n      }\n    }\n    return baseThreshold;\n  }\n\n  // 正答との比較機能\n  function checkAccuracy() {\n    if (!targets || targets.length === 0) return {\n      total: 0,\n      correct: 0,\n      accuracy: 0\n    };\n    let total = 0;\n    let correct = 0;\n\n    // 各正答に対して、ユーザーの測定結果をチェック\n    targets.forEach(target => {\n      if (target.transducer === 'BC' && BC_DISABLED.has(target.freq)) return;\n      total++;\n\n      // 同じ条件（耳、トランスデューサー、周波数）の測定結果を探す\n      // マスキング状態は問わず、最終的な閾値のみで判定\n      const userMeasurement = points.find(p => p.ear === target.ear && p.transducer === target.transducer && p.freq === target.freq);\n      if (userMeasurement) {\n        // 閾値が完全一致なら正解とする\n        if (userMeasurement.dB === target.dB) {\n          correct++;\n        }\n      }\n    });\n    return {\n      total,\n      correct,\n      accuracy: total > 0 ? Math.round(correct / total * 100) : 0\n    };\n  }\n\n  // セッション完了判定\n  function isSessionComplete() {\n    if (!targets || targets.length === 0) return false;\n    const accuracy = checkAccuracy();\n    // 全ての測定が完了しているか、または80%以上の精度で完了とみなす\n    return accuracy.total === targets.length || accuracy.accuracy >= 80;\n  }\n\n  // CSV出力機能\n  function exportToCSV() {\n    if (measurementLog.length === 0) {\n      alert('出力するデータがありません');\n      return;\n    }\n    const headers = ['No', '時刻', '耳', 'トランスデューサー', '周波数(Hz)', '閾値(dB)', 'マスキング', 'マスキングレベル(dB)', 'Scale-Out'];\n    const csvContent = [headers.join(','), ...measurementLog.map((log, index) => [index + 1, log.timestamp, log.ear, log.transducer, log.freq, log.dB, log.masked ? 'ON' : 'OFF', log.masked ? log.maskLevel : '-', log.so ? 'Yes' : 'No'].join(','))].join('\\n');\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `audiogram_measurement_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n\n  // レポート表示機能\n  function generateReport() {\n    if (Object.keys(learningProgress.caseAccuracy).length === 0) {\n      alert('完了した症例がありません。\\n症例をロードして「正答照合」でセッションを完了してからレポートを生成してください。');\n      return;\n    }\n\n    // レポートデータを準備（学習効果重視）\n    const completedCases = Object.keys(learningProgress.caseAccuracy);\n    const totalAccuracy = completedCases.length > 0 ? Math.round(completedCases.reduce((sum, caseId) => sum + learningProgress.caseAccuracy[caseId].accuracy, 0) / completedCases.length) : 0;\n    const reportData = {\n      title: 'オーディオグラム学習レポート',\n      date: new Date().toLocaleDateString('ja-JP'),\n      completedCases: completedCases.length,\n      totalCases: 8,\n      averageAccuracy: totalAccuracy,\n      caseResults: completedCases.map(caseId => ({\n        caseId,\n        accuracy: learningProgress.caseAccuracy[caseId].accuracy,\n        total: learningProgress.caseAccuracy[caseId].total,\n        correct: learningProgress.caseAccuracy[caseId].correct,\n        completedAt: learningProgress.caseAccuracy[caseId].completedAt\n      })),\n      learningProgress: learningProgress,\n      iaSettings: iaSettings\n    };\n\n    // レポートを新しいウィンドウで表示\n    const reportWindow = window.open('', '_blank', 'width=800,height=600,scrollbars=yes');\n    reportWindow.document.write(`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>オーディオグラム測定レポート</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; }\n          .header { background: #f0f0f0; padding: 20px; border-radius: 8px; margin-bottom: 20px; }\n          .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }\n          .stat-card { background: #e8f4fd; padding: 15px; border-radius: 8px; text-align: center; }\n          .stat-number { font-size: 24px; font-weight: bold; color: #2563eb; }\n          .stat-label { color: #64748b; margin-top: 5px; }\n          .measurements { background: #f8fafc; padding: 15px; border-radius: 8px; }\n          .measurement-item { background: white; margin: 5px 0; padding: 10px; border-radius: 4px; border-left: 4px solid #3b82f6; }\n          .download-btn { background: #10b981; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 10px 0; }\n        </style>\n      </head>\n      <body>\n        <div class=\"header\">\n          <h1>${reportData.title}</h1>\n          <p>生成日時: ${reportData.date}</p>\n        </div>\n        \n        <div class=\"stats\">\n          <div class=\"stat-card\">\n            <div class=\"stat-number\">${reportData.completedCases}/${reportData.totalCases}</div>\n            <div class=\"stat-label\">完了症例数</div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-number\">${reportData.averageAccuracy}%</div>\n            <div class=\"stat-label\">平均精度</div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-number\">${reportData.learningProgress.totalSessions}</div>\n            <div class=\"stat-label\">学習セッション数</div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-number\">${reportData.learningProgress.lastSessionDate || '未実施'}</div>\n            <div class=\"stat-label\">最終学習日</div>\n          </div>\n        </div>\n        \n        <div class=\"measurements\">\n          <h3>症例別学習結果</h3>\n          ${reportData.caseResults.length > 0 ? reportData.caseResults.map(result => `\n            <div class=\"measurement-item\">\n              <strong>症例${result.caseId}</strong> - \n              精度: ${result.accuracy}% (${result.correct}/${result.total}) | \n              完了日: ${new Date(result.completedAt).toLocaleDateString('ja-JP')}\n            </div>\n          `).join('') : '<p>まだ完了した症例がありません。症例をロードして「正答照合」でセッションを完了してください。</p>'}\n        </div>\n        \n        <button class=\"download-btn\" onclick=\"downloadJSON()\">JSONファイルをダウンロード</button>\n        \n        <script>\n          const reportData = ${JSON.stringify(reportData, null, 2)};\n          \n          function downloadJSON() {\n            const blob = new Blob([JSON.stringify(reportData, null, 2)], { type: 'application/json' });\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = 'audiogram_report_${new Date().toISOString().split('T')[0]}.json';\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            URL.revokeObjectURL(url);\n          }\n        </script>\n      </body>\n      </html>\n    `);\n    reportWindow.document.close();\n  }\n\n  // セッション完了機能\n  function completeSession() {\n    const accuracy = checkAccuracy();\n    const caseId = selectedPreset;\n\n    // 症例別の精度を更新\n    setLearningProgress(prev => ({\n      ...prev,\n      caseAccuracy: {\n        ...prev.caseAccuracy,\n        [caseId]: {\n          total: accuracy.total,\n          correct: accuracy.correct,\n          accuracy: accuracy.accuracy,\n          completedAt: new Date().toISOString()\n        }\n      },\n      completedCases: [...prev.completedCases, caseId]\n    }));\n    alert(`症例${caseId}のセッションが完了しました！\\n精度: ${accuracy.accuracy}% (${accuracy.correct}/${accuracy.total})`);\n  }\n\n  // 症例自動生成機能（現実的な難聴パターン）\n  function generateTrainingCase() {\n    const frequencies = [125, 250, 500, 1000, 2000, 4000, 8000];\n    const ears = ['R', 'L'];\n\n    // 難聴のタイプをランダムに選択\n    const hearingLossTypes = ['normal',\n    // 正常聴力\n    'mild',\n    // 軽度難聴\n    'moderate',\n    // 中等度難聴\n    'severe',\n    // 高度難聴\n    'mixed',\n    // 混合性難聴\n    'high_freq' // 高音漸傾型\n    ];\n    const selectedType = hearingLossTypes[Math.floor(Math.random() * hearingLossTypes.length)];\n\n    // 現実的な難聴パターンを生成\n    const caseData = {\n      id: `TRAINING_${Date.now()}`,\n      name: 'トレーニング症例',\n      targets: [],\n      hearingLossType: selectedType\n    };\n    ears.forEach(ear => {\n      // AC閾値を生成\n      frequencies.forEach(freq => {\n        var _AC_MAX$freq;\n        let acThreshold;\n        switch (selectedType) {\n          case 'normal':\n            acThreshold = Math.floor(Math.random() * 3) * 5; // 0-10dB\n            break;\n          case 'mild':\n            acThreshold = 15 + Math.floor(Math.random() * 4) * 5; // 15-30dB\n            break;\n          case 'moderate':\n            acThreshold = 35 + Math.floor(Math.random() * 6) * 5; // 35-60dB\n            break;\n          case 'severe':\n            acThreshold = 65 + Math.floor(Math.random() * 6) * 5; // 65-90dB\n            break;\n          case 'mixed':\n            acThreshold = 25 + Math.floor(Math.random() * 8) * 5; // 25-60dB\n            break;\n          case 'high_freq':\n            // 高音漸傾型：低音は正常〜軽度、高音は中等度〜高度\n            if (freq <= 1000) {\n              acThreshold = Math.floor(Math.random() * 4) * 5; // 0-15dB\n            } else if (freq <= 2000) {\n              acThreshold = 10 + Math.floor(Math.random() * 4) * 5; // 10-25dB\n            } else {\n              acThreshold = 30 + Math.floor(Math.random() * 8) * 5; // 30-65dB\n            }\n            break;\n        }\n\n        // AC閾値を制限内に収める\n        acThreshold = Math.min(acThreshold, (_AC_MAX$freq = AC_MAX[freq]) !== null && _AC_MAX$freq !== void 0 ? _AC_MAX$freq : 110);\n        caseData.targets.push({\n          ear,\n          transducer: 'AC',\n          freq,\n          dB: acThreshold,\n          masked: false\n        });\n      });\n\n      // BC閾値を生成（ACより良いか同じ）\n      frequencies.forEach(freq => {\n        var _BC_MAX$freq;\n        if (BC_DISABLED.has(freq)) return;\n        const acTarget = caseData.targets.find(t => t.ear === ear && t.transducer === 'AC' && t.freq === freq);\n        let bcThreshold;\n        if (selectedType === 'mixed') {\n          // 混合性難聴：BCはACより10-30dB良い\n          bcThreshold = Math.max(0, acTarget.dB - (10 + Math.floor(Math.random() * 4) * 5));\n        } else if (selectedType === 'normal' || selectedType === 'mild') {\n          // 正常〜軽度：BCはACと同じか少し良い\n          bcThreshold = Math.max(0, acTarget.dB - Math.floor(Math.random() * 3) * 5);\n        } else {\n          // その他：BCはACと同じか少し良い（感音難聴）\n          bcThreshold = Math.max(0, acTarget.dB - Math.floor(Math.random() * 2) * 5);\n        }\n\n        // BC閾値を制限内に収める\n        bcThreshold = Math.min(bcThreshold, (_BC_MAX$freq = BC_MAX[freq]) !== null && _BC_MAX$freq !== void 0 ? _BC_MAX$freq : 110);\n        caseData.targets.push({\n          ear,\n          transducer: 'BC',\n          freq,\n          dB: bcThreshold,\n          masked: false\n        });\n      });\n    });\n    return caseData;\n  }\n\n  // トレーニングモード開始\n  function startTrainingMode() {\n    const newCase = generateTrainingCase();\n    setTrainingCase(newCase);\n    setIsTrainingMode(true);\n    setPoints([]);\n    setTargets(buildTargetsFromPreset(newCase));\n    setSelectedPreset('TRAINING');\n  }\n\n  // トレーニングモード終了\n  function endTrainingMode() {\n    setIsTrainingMode(false);\n    setTrainingCase(null);\n    setPoints([]);\n    setTargets([]);\n    setSelectedPreset('A');\n  }\n\n  // トレーニング結果の記録\n  function recordTrainingResult() {\n    if (!trainingCase) return;\n    const accuracy = checkAccuracy();\n    const result = {\n      id: trainingCase.id,\n      timestamp: new Date().toISOString(),\n      accuracy: accuracy.accuracy,\n      total: accuracy.total,\n      correct: accuracy.correct,\n      caseData: trainingCase\n    };\n    setTrainingResults(prev => [...prev, result]);\n\n    // 学習進捗も更新\n    setLearningProgress(prev => ({\n      ...prev,\n      totalSessions: prev.totalSessions + 1,\n      lastSessionDate: new Date().toISOString().split('T')[0]\n    }));\n    alert(`トレーニング完了！\\n精度: ${accuracy.accuracy}% (${accuracy.correct}/${accuracy.total})`);\n  }\n\n  // 正答照合とセッション完了機能\n  function checkAnswersAndCompleteSession() {\n    if (!targets || targets.length === 0) {\n      alert('症例をロードしてから正答照合を行ってください');\n      return;\n    }\n\n    // トレーニングモードの場合は特別処理\n    if (isTrainingMode) {\n      recordTrainingResult();\n      return;\n    }\n    const accuracy = checkAccuracy();\n    const caseId = selectedPreset;\n\n    // 症例別の精度を更新\n    setLearningProgress(prev => ({\n      ...prev,\n      caseAccuracy: {\n        ...prev.caseAccuracy,\n        [caseId]: {\n          total: accuracy.total,\n          correct: accuracy.correct,\n          accuracy: accuracy.accuracy,\n          completedAt: new Date().toISOString()\n        }\n      },\n      completedCases: [...prev.completedCases, caseId]\n    }));\n\n    // 詳細な結果を表示\n    const resultMessage = `症例${caseId}のセッションが完了しました！\n\n【結果】\n・測定項目数: ${accuracy.total}項目\n・正解数: ${accuracy.correct}項目\n・精度: ${accuracy.accuracy}%\n\n【詳細】\n${targets.map((target, index) => {\n      if (target.transducer === 'BC' && BC_DISABLED.has(target.freq)) return '';\n      const userMeasurement = points.find(p => p.ear === target.ear && p.transducer === target.transducer && p.freq === target.freq);\n      const isCorrect = userMeasurement ? userMeasurement.dB === target.dB : false;\n      const diff = userMeasurement ? Math.abs(userMeasurement.dB - target.dB) : null;\n      return `${target.ear} ${target.transducer} ${target.freq}Hz: ${userMeasurement ? `${userMeasurement.dB}dB (正答: ${target.dB}dB, 差: ${diff}dB) ${isCorrect ? '✓' : '✗'}` : '未測定 ✗'}`;\n    }).filter(line => line !== '').join('\\n')}`;\n    alert(resultMessage);\n  }\n\n  // Reset progress function\n  function resetProgress() {\n    if (window.confirm('学習進捗をリセットしますか？この操作は取り消せません。')) {\n      setLearningProgress({\n        totalSessions: 0,\n        completedCases: [],\n        caseAccuracy: {},\n        lastSessionDate: null\n      });\n      setMeasurementLog([]);\n    }\n  }\n\n  // パスワード認証画面\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full min-h-screen flex items-center justify-center bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full mx-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900 mb-2\",\n            children: \"\\u30AA\\u30FC\\u30C7\\u30A3\\u30AA\\u30B0\\u30E9\\u30E0\\u8B1B\\u7FD2\\u4F1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"\\u53C2\\u52A0\\u7528\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1449,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1453,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && password === TRAINING_PASSWORD && setIsAuthenticated(true),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"\\u8B1B\\u7FD2\\u4F1A\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1454,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => password === TRAINING_PASSWORD && setIsAuthenticated(true),\n            disabled: password !== TRAINING_PASSWORD,\n            className: \"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed\",\n            children: \"\\u53C2\\u52A0\\u3059\\u308B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1463,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1451,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 text-center text-sm text-gray-500\",\n          children: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9: audiogram2024\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1471,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1446,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1445,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full min-h-screen p-6 md:p-10 bg-gray-50 text-gray-900\",\n    ref: containerRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto grid gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"flex flex-col md:flex-row md:items-end md:justify-between gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl md:text-3xl font-bold\",\n            children: \"Simple Audiogram builder (Masking simulator)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1484,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: \"\\u8B1B\\u7FD2\\u4F1A\\u53C2\\u52A0\\u4E2D - \\u8B1B\\u5E2B\\u306E\\u6307\\u793A\\u306B\\u5F93\\u3063\\u3066\\u64CD\\u4F5C\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1485,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1483,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsAuthenticated(false),\n          className: \"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\",\n          children: \"\\u9000\\u51FA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1487,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1482,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-200 rounded-2xl p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-blue-600 text-xl\",\n            children: \"\\uD83D\\uDCDA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1498,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-blue-800\",\n              children: \"\\u8B1B\\u7FD2\\u4F1A\\u53C2\\u52A0\\u8005\\u306E\\u65B9\\u3078\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1500,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-700 mt-1\",\n              children: [\"\\u2022 \\u8B1B\\u5E2B\\u306E\\u6307\\u793A\\u306B\\u5F93\\u3063\\u3066\\u75C7\\u4F8B\\u3092\\u9078\\u629E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1502,\n                columnNumber: 39\n              }, this), \"\\u2022 \\u5404\\u81EA\\u3067\\u64CD\\u4F5C\\u3057\\u306A\\u304C\\u3089\\u5B66\\u7FD2\\u3092\\u9032\\u3081\\u3066\\u304F\\u3060\\u3055\\u3044\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1503,\n                columnNumber: 38\n              }, this), \"\\u2022 \\u8CEA\\u554F\\u304C\\u3042\\u308B\\u5834\\u5408\\u306F\\u30C1\\u30E3\\u30C3\\u30C8\\u3067\\u304A\\u805E\\u304D\\u304F\\u3060\\u3055\\u3044\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1504,\n                columnNumber: 39\n              }, this), \"\\u2022 \\u6B63\\u7B54\\u8868\\u793A\\u306F\\u8B1B\\u5E2B\\u306E\\u6307\\u793A\\u304C\\u3042\\u308B\\u307E\\u3067\\u5F85\\u3063\\u3066\\u304F\\u3060\\u3055\\u3044\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1501,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1499,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1497,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1496,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 border border-green-200 rounded-2xl p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-green-600 text-xl\",\n            children: \"\\u2328\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1514,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-green-800\",\n              children: \"\\u30AD\\u30FC\\u30DC\\u30FC\\u30C9\\u64CD\\u4F5C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-green-700 mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u30AB\\u30FC\\u30BD\\u30EB\\u30AD\\u30FC:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1518,\n                columnNumber: 17\n              }, this), \" \\u2190\\u2192\\u5468\\u6CE2\\u6570\\u5909\\u66F4 | \\u2191-5dB\\u8ABF\\u6574(\\u81EA\\u52D5\\u6253\\u70B9) | \\u2193+5dB\\u8ABF\\u6574(\\u81EA\\u52D5\\u6253\\u70B9)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1518,\n                columnNumber: 81\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u524A\\u9664:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1519,\n                columnNumber: 17\n              }, this), \" Delete\\u30AD\\u30FC\\u307E\\u305F\\u306FBackspace\\u30AD\\u30FC\\u3067\\u73FE\\u5728\\u306E\\u6253\\u70B9\\u524A\\u9664\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1519,\n                columnNumber: 68\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u30DE\\u30A6\\u30B9:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1520,\n                columnNumber: 17\n              }, this), \" \\u30C1\\u30E3\\u30FC\\u30C8\\u30AF\\u30EA\\u30C3\\u30AF\\u3067\\u3082\\u6253\\u70B9\\u53EF\\u80FD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1517,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1515,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1513,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1512,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-600\",\n            children: \"\\u75C7\\u4F8B\\u30D7\\u30EA\\u30BB\\u30C3\\u30C8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1529,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"border rounded-xl px-2 py-1 text-sm\",\n            value: selectedPreset,\n            onChange: e => setSelectedPreset(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"A\",\n              children: \"\\u75C7\\u4F8BA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1531,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"B\",\n              children: \"\\u75C7\\u4F8BB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1532,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"C\",\n              children: \"\\u75C7\\u4F8BC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1533,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"D\",\n              children: \"\\u75C7\\u4F8BD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1534,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"E\",\n              children: \"\\u75C7\\u4F8BE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1535,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"F\",\n              children: \"\\u75C7\\u4F8BF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"G\",\n              children: \"\\u75C7\\u4F8BG\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1537,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"H\",\n              children: \"\\u75C7\\u4F8BH\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1538,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1530,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-3 py-2 rounded-xl text-white text-sm flex items-center gap-2 ${isLoading ? 'bg-teal-400 cursor-not-allowed' : 'bg-teal-600 hover:bg-teal-700'}`,\n            onClick: async () => {\n              if (isLoading) return;\n              setIsLoading(true);\n\n              // ローディングアニメーション（1秒）\n              await new Promise(resolve => setTimeout(resolve, 1000));\n              const p = selectedPreset === 'A' ? PRESET_A : selectedPreset === 'B' ? PRESET_B : selectedPreset === 'C' ? PRESET_C : selectedPreset === 'D' ? PRESET_D : selectedPreset === 'E' ? PRESET_E : selectedPreset === 'F' ? PRESET_F : selectedPreset === 'G' ? PRESET_G : selectedPreset === 'H' ? PRESET_H : null;\n              if (!p) {\n                alert('無効な症例が選択されています');\n                setIsLoading(false);\n                return;\n              }\n              setPoints([]);\n              setTargets(buildTargetsFromPreset(p));\n\n              // 学習進捗の更新\n              setLearningProgress(prev => ({\n                ...prev,\n                totalSessions: prev.totalSessions + 1\n              }));\n              setIsLoading(false);\n\n              // 成功メッセージ\n              alert(`症例${selectedPreset}をロードしました！`);\n            },\n            disabled: isLoading,\n            children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1576,\n                columnNumber: 19\n              }, this), \"\\u30ED\\u30FC\\u30C9\\u4E2D...\"]\n            }, void 0, true) : 'LOAD'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1540,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-400\",\n            children: \"\\u203B LOAD\\u3067\\u30D7\\u30ED\\u30C3\\u30C8\\u306F\\u81EA\\u52D5\\u30AF\\u30EA\\u30A2\\u3002\\u6B63\\u7B54\\u306F\\u753B\\u9762\\u306B\\u8868\\u793A\\u3057\\u307E\\u305B\\u3093\\uFF08\\u7167\\u5408/\\u30AA\\u30FC\\u30D0\\u30FC\\u30EC\\u30A4\\u7528\\uFF09\\u3002\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1583,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600 font-medium\",\n              children: \"\\u30C8\\u30EC\\u30FC\\u30CB\\u30F3\\u30B0\\u30E2\\u30FC\\u30C9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1587,\n              columnNumber: 15\n            }, this), !isTrainingMode ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startTrainingMode,\n              className: \"px-3 py-2 rounded-xl text-white text-sm bg-purple-600 hover:bg-purple-700\",\n              children: \"\\u958B\\u59CB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1589,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: endTrainingMode,\n                className: \"px-3 py-2 rounded-xl text-white text-sm bg-red-600 hover:bg-red-700\",\n                children: \"\\u7D42\\u4E86\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1597,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startTrainingMode,\n                className: \"px-3 py-2 rounded-xl text-white text-sm bg-purple-600 hover:bg-purple-700\",\n                children: \"\\u65B0\\u3057\\u3044\\u75C7\\u4F8B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1603,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1596,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1586,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-600 font-medium\",\n              children: \"\\u5B66\\u7FD2\\u30E2\\u30FC\\u30C9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1615,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsLearningMode(!isLearningMode),\n              className: `px-3 py-2 rounded-xl text-sm ${isLearningMode ? 'bg-green-600 hover:bg-green-700 text-white' : 'bg-gray-200 hover:bg-gray-300 text-gray-700'}`,\n              children: isLearningMode ? '学習中' : '学習開始'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1616,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1614,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1528,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1527,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-6 gap-4 text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Control, {\n            label: \"Ear\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setEar('R');\n                  setFreq(1000);\n                  setSuppressLamp(true);\n                },\n                className: `px-3 py-2 rounded-lg border text-base ${ear === 'R' ? 'bg-red-600 text-white border-red-600' : 'bg-white text-red-600 border-red-600'}`,\n                children: \"Right\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1635,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setEar('L');\n                  setFreq(1000);\n                  setSuppressLamp(true);\n                },\n                className: `px-3 py-2 rounded-lg border text-base ${ear === 'L' ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-blue-600 border-blue-600'}`,\n                children: \"Left\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1636,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1634,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1633,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Control, {\n            label: \"Transducer\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(TinyToggle, {\n                active: trans === 'AC',\n                onClick: () => {\n                  setTrans('AC');\n                  setFreq(1000);\n                  setSuppressLamp(true);\n                },\n                children: \"AC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1641,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TinyToggle, {\n                active: trans === 'BC',\n                onClick: () => {\n                  setTrans('BC');\n                  setFreq(1000);\n                  setSuppressLamp(true);\n                },\n                children: \"BC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1642,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1640,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1639,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Control, {\n            label: \"Frequency\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => moveFreq(-1),\n                className: \"px-2 py-1 rounded-lg border\",\n                children: \"\\u25C0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1647,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono w-24 text-center\",\n                children: [freq, \" Hz\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1648,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => moveFreq(1),\n                className: \"px-2 py-1 rounded-lg border\",\n                children: \"\\u25B6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1649,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1646,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1645,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Control, {\n            label: \"Level (dB HL)\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: Y_MIN,\n                max: Y_MAX,\n                step: 5,\n                value: level,\n                onChange: e => {\n                  setLevel(parseInt(e.target.value));\n                  setSuppressLamp(false);\n                },\n                className: \"w-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1654,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-mono w-16 text-right\",\n                children: level\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1655,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1653,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1652,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Control, {\n            label: \"\\u6253\\u70B9\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => addOrReplacePoint({\n                  ear,\n                  transducer: trans,\n                  masked,\n                  freq,\n                  dB: round5(level)\n                }),\n                className: \"px-3 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700 transition-colors active:scale-95 transform\",\n                children: \"\\u8FFD\\u52A0/\\u66F4\\u65B0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1660,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: removePointAtCurrent,\n                className: \"px-3 py-2 rounded-xl bg-white border hover:bg-gray-50 transition-colors active:scale-95 transform\",\n                children: \"\\u524A\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1666,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: clearAll,\n                className: \"px-3 py-2 rounded-xl bg-white border hover:bg-gray-50 transition-colors active:scale-95 transform\",\n                children: \"\\u5168\\u30AF\\u30EA\\u30A2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1672,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1659,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1658,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1632,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-2\",\n          children: [\"\\u203B \\u30C1\\u30E3\\u30FC\\u30C8\\u3092\\u30AF\\u30EA\\u30C3\\u30AF\\u3057\\u3066\\u3082\\u6253\\u70B9\\u3067\\u304D\\u307E\\u3059\\uFF08\\u73FE\\u5728\\u9078\\u629E\\u4E2D\\u306EEar/Transducer/Masking\\u30FB\\u5468\\u6CE2\\u6570\\u5217\\u306B\\u5BFE\\u3057\\u3066\\uFF09\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1682,\n            columnNumber: 73\n          }, this), \"\\u203B \\u30AD\\u30FC\\u30DC\\u30FC\\u30C9\\u64CD\\u4F5C: \\u2190\\u2192\\u5468\\u6CE2\\u6570\\u5909\\u66F4 | \\u2191-5dB\\u8ABF\\u6574(\\u81EA\\u52D5\\u6253\\u70B9) | \\u2193+5dB\\u8ABF\\u6574(\\u81EA\\u52D5\\u6253\\u70B9) | Delete\\u6253\\u70B9\\u524A\\u9664\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1681,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1631,\n        columnNumber: 9\n      }, this), isOverMasking && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-2xl p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-600 text-xl\",\n            children: \"\\u26A0\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1691,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-red-800\",\n              children: \"\\u30AA\\u30FC\\u30D0\\u30FC\\u30DE\\u30B9\\u30AD\\u30F3\\u30B0\\u306E\\u53EF\\u80FD\\u6027\\u3042\\u308A\\uFF01\\uFF01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1693,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1692,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1690,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1689,\n        columnNumber: 11\n      }, this), crossHearingInfo.isCrossHearing && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-orange-50 border border-orange-200 rounded-2xl p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-orange-600 text-xl\",\n            children: \"\\uD83D\\uDD0A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1703,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-orange-800 mb-2\",\n              children: \"\\u30AF\\u30ED\\u30B9\\u30D2\\u30A2\\u30EA\\u30F3\\u30B0\\u306E\\u53EF\\u80FD\\u6027\\u3042\\u308A\\uFF01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1705,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-orange-700 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u2022 \\u73FE\\u5728\\u306E\\u30EC\\u30D9\\u30EB\\uFF08\", level, \"dB\\uFF09\\u304C\\u975E\\u6E2C\\u5B9A\\u8033\\u306E\\u9AA8\\u5C0E\\uFF08\", crossHearingInfo.details.nte, \" BC\\uFF09\\u306B\\u6D41\\u308C\\u30AF\\u30ED\\u30B9\\u30D2\\u30A2\\u30EA\\u30F3\\u30B0\\u3057\\u3066\\u3044\\u307E\\u3059\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1707,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u2022 \\u6F0F\\u308C\\u30EC\\u30D9\\u30EB: \", crossHearingInfo.details.leakedToNTE.toFixed(1), \"dB\\uFF08IA: \", crossHearingInfo.details.ia, \"dB\\u6E1B\\u8870\\u5F8C\\uFF09\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1708,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u2022 \\u975E\\u6E2C\\u5B9A\\u8033BC\\u95BE\\u5024: \", crossHearingInfo.details.nteBC === Infinity ? '未測定' : crossHearingInfo.details.nteBC + 'dB']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1709,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u2022 \\u5B9F\\u52B9\\u30DE\\u30B9\\u30AD\\u30F3\\u30B0\\u30EC\\u30D9\\u30EB: \", crossHearingInfo.details.effectiveMask === Infinity ? 'なし' : crossHearingInfo.details.effectiveMask + 'dB']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1710,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 text-xs text-orange-600\",\n                children: \"\\uD83D\\uDCA1 \\u30DE\\u30B9\\u30AD\\u30F3\\u30B0\\u30EC\\u30D9\\u30EB\\u3092\\u4E0A\\u3052\\u308B\\u304B\\u3001\\u6E2C\\u5B9A\\u30EC\\u30D9\\u30EB\\u3092\\u4E0B\\u3052\\u308B\\u3053\\u3068\\u3092\\u691C\\u8A0E\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1711,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1706,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1704,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1702,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1701,\n        columnNumber: 11\n      }, this), showIaSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-200 rounded-2xl p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-blue-600 text-xl\",\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1724,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-blue-800 mb-3\",\n              children: \"\\u4E21\\u8033\\u9593\\u79FB\\u884C\\u6E1B\\u8870\\u91CF\\uFF08IA\\uFF09\\u8A2D\\u5B9A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1726,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-700 mb-4\",\n              children: \"\\u5404\\u5468\\u6CE2\\u6570\\u30FB\\u30C8\\u30E9\\u30F3\\u30B9\\u30C7\\u30E5\\u30FC\\u30B5\\u30FC\\u3054\\u3068\\u306EIA\\u5024\\u3092\\u8A2D\\u5B9A\\u3067\\u304D\\u307E\\u3059\\u3002\\u73FE\\u5B9F\\u7684\\u306A\\u5024\\u306B\\u57FA\\u3065\\u3044\\u3066\\u8ABF\\u6574\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1727,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-blue-800 mb-2\",\n                children: \"\\u6C17\\u5C0E\\uFF08AC\\uFF09\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1733,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2\",\n                children: [125, 250, 500, 1000, 2000, 4000, 8000].map(freq => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-xs text-blue-600 font-medium\",\n                    children: [freq, \"Hz\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1737,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: \"0\",\n                    max: \"100\",\n                    step: \"5\",\n                    value: iaSettings.AC[freq],\n                    onChange: e => setIaSettings(prev => ({\n                      ...prev,\n                      AC: {\n                        ...prev.AC,\n                        [freq]: parseInt(e.target.value) || 0\n                      }\n                    })),\n                    className: \"w-16 px-2 py-1 text-xs border border-blue-300 rounded text-center\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1738,\n                    columnNumber: 25\n                  }, this)]\n                }, `AC-${freq}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1736,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1734,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1732,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-blue-800 mb-2\",\n                children: \"\\u9AA8\\u5C0E\\uFF08BC\\uFF09\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1757,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2\",\n                children: [125, 250, 500, 1000, 2000, 4000, 8000].map(freq => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-xs text-blue-600 font-medium\",\n                    children: [freq, \"Hz\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1761,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    min: \"0\",\n                    max: \"100\",\n                    step: \"5\",\n                    value: iaSettings.BC[freq],\n                    onChange: e => setIaSettings(prev => ({\n                      ...prev,\n                      BC: {\n                        ...prev.BC,\n                        [freq]: parseInt(e.target.value) || 0\n                      }\n                    })),\n                    className: \"w-16 px-2 py-1 text-xs border border-blue-300 rounded text-center\",\n                    disabled: BC_DISABLED.has(freq)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1762,\n                    columnNumber: 25\n                  }, this)]\n                }, `BC-${freq}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1760,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1758,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-blue-600 mt-1\",\n                children: \"\\u203B 125Hz\\u30688000Hz\\u306EBC\\u306F\\u6E2C\\u5B9A\\u5BFE\\u8C61\\u5916\\u306E\\u305F\\u3081\\u7121\\u52B9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1778,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1756,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setIaSettings(IA_VALUES),\n                className: \"px-3 py-1 rounded-lg border text-xs bg-blue-100 hover:bg-blue-200 text-blue-700\",\n                children: \"\\u30C7\\u30D5\\u30A9\\u30EB\\u30C8\\u306B\\u623B\\u3059\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1785,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  const realisticIA = {\n                    AC: {\n                      125: 50,\n                      250: 50,\n                      500: 50,\n                      1000: 50,\n                      2000: 50,\n                      4000: 50,\n                      8000: 50\n                    },\n                    BC: {\n                      125: 0,\n                      250: 0,\n                      500: 0,\n                      1000: 0,\n                      2000: 0,\n                      4000: 0,\n                      8000: 0\n                    }\n                  };\n                  setIaSettings(realisticIA);\n                },\n                className: \"px-3 py-1 rounded-lg border text-xs bg-green-100 hover:bg-green-200 text-green-700\",\n                children: \"\\u73FE\\u5B9F\\u7684\\u306A\\u5024\\u306B\\u8A2D\\u5B9A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1791,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1784,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-blue-600\",\n              children: \"\\uD83D\\uDCA1 \\u4E00\\u822C\\u7684\\u306AIA\\u5024\\uFF1AAC 50dB\\u3001BC 0dB\\uFF08\\u9AA8\\u5C0E\\u306F\\u982D\\u84CB\\u9AA8\\u3092\\u4F1D\\u64AD\\u3059\\u308B\\u305F\\u3081\\u6E1B\\u8870\\u306A\\u3057\\uFF09\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1805,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1725,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1723,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1722,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold\",\n            children: \"Audiogram\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1816,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex items-center gap-2 px-2 py-1 rounded-full border ${lampOn ? 'bg-orange-50 border-orange-300' : 'bg-white border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-3.5 h-3.5 rounded-full ${lampOn ? 'bg-orange-500' : 'bg-gray-300'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1818,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs\",\n              children: \"\\u5FDC\\u7B54\\u30E9\\u30F3\\u30D7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1819,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1817,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-600\",\n              children: [\"Masking (NTE: \", ear === 'R' ? 'L' : 'R', \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1822,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(TinyToggle, {\n                active: !masked,\n                onClick: () => {\n                  setMasked(false);\n                  setMaskLevel(-15);\n                },\n                children: \"Unmasked\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1824,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TinyToggle, {\n                active: masked,\n                onClick: () => {\n                  setMasked(true);\n                  if (maskLevel < 0) setMaskLevel(0);\n                },\n                children: \"Masked\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1825,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1823,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 min-w-[180px]\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: -15,\n                max: 110,\n                step: 5,\n                value: maskLevel,\n                onChange: e => setMaskLevel(parseInt(e.target.value)),\n                className: \"w-40\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1828,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 text-right text-xs font-mono\",\n                children: [maskLevel, \" dB\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1829,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1827,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowAnswer(a => !a),\n              className: `px-2 py-1 rounded-lg border text-xs ${showAnswer ? 'bg-emerald-600 text-white border-emerald-600' : 'bg-white text-gray-800'}`,\n              title: \"\\u6B63\\u7B54\\uFF08\\u30AA\\u30FC\\u30D0\\u30FC\\u30EC\\u30A4\\uFF09\\u3092\\u8868\\u793A/\\u975E\\u8868\\u793A\",\n              children: showAnswer ? '正答表示: ON' : '正答表示: OFF'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1831,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => checkAnswersAndCompleteSession(),\n              className: \"px-3 py-1 rounded-lg border text-xs bg-purple-600 text-white border-purple-600 hover:bg-purple-700\",\n              title: \"\\u6B63\\u7B54\\u3068\\u7167\\u5408\\u3057\\u3066\\u30BB\\u30C3\\u30B7\\u30E7\\u30F3\\u3092\\u5B8C\\u4E86\",\n              children: \"\\u6B63\\u7B54\\u7167\\u5408\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1834,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setOverMaskingWarning(w => !w),\n              className: `px-2 py-1 rounded-lg border text-xs ${overMaskingWarning ? 'bg-yellow-600 text-white border-yellow-600' : 'bg-white text-gray-800'}`,\n              title: \"\\u30AA\\u30FC\\u30D0\\u30FC\\u30DE\\u30B9\\u30AD\\u30F3\\u30B0\\u8B66\\u544A\\u306EON/OFF\",\n              children: overMaskingWarning ? 'オーバーマスキング: ON' : 'オーバーマスキング: OFF'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1841,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCrossHearingWarning(w => !w),\n              className: `px-2 py-1 rounded-lg border text-xs ${crossHearingWarning ? 'bg-orange-600 text-white border-orange-600' : 'bg-white text-gray-800'}`,\n              title: \"\\u30AF\\u30ED\\u30B9\\u30D2\\u30A2\\u30EA\\u30F3\\u30B0\\u8B66\\u544A\\u306EON/OFF\",\n              children: crossHearingWarning ? 'クロスヒアリング: ON' : 'クロスヒアリング: OFF'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1844,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowIaSettings(s => !s),\n              className: `px-2 py-1 rounded-lg border text-xs ${showIaSettings ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-gray-800'}`,\n              title: \"IA\\u8A2D\\u5B9A\\u306E\\u8868\\u793A/\\u975E\\u8868\\u793A\",\n              children: \"IA\\u8A2D\\u5B9A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1847,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1821,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1815,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-stretch gap-0 items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            ref: chartHostRef,\n            className: \"relative chart-host\",\n            style: {\n              width: chartW,\n              height: chartH,\n              overflow: 'visible'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              ref: overlayRef,\n              className: \"absolute\",\n              style: {\n                left: CHART_MARGIN.left,\n                top: CHART_MARGIN.top,\n                width: GRID_W,\n                height: GRID_H,\n                cursor: 'crosshair',\n                zIndex: 10,\n                pointerEvents: 'auto',\n                background: 'transparent'\n              },\n              onPointerUp: handlePlotClick,\n              onPointerDown: e => e.preventDefault()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1855,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ComposedChart, {\n              width: chartW,\n              height: chartH,\n              data: [],\n              margin: CHART_MARGIN,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1863,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                type: \"number\",\n                dataKey: \"x\",\n                domain: X_DOMAIN,\n                ticks: Array.from({\n                  length: FREQS.length\n                }, (_, i) => i),\n                tickFormatter: formatFreq,\n                label: {\n                  value: 'Frequency (Hz) - 1 octave/grid',\n                  position: 'bottom',\n                  offset: 6,\n                  style: {\n                    fontSize: 18\n                  }\n                },\n                tick: {\n                  fontSize: 18\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1864,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                type: \"number\",\n                dataKey: \"y\",\n                domain: [Y_MIN, Y_MAX],\n                ticks: Array.from({\n                  length: (Y_MAX - Y_MIN) / 10 + 1\n                }, (_, i) => Y_MIN + i * 10),\n                reversed: true,\n                tickMargin: 6,\n                label: {\n                  value: 'Hearing Level (dB HL) - 10 dB/grid',\n                  angle: -90,\n                  position: 'left',\n                  offset: 0,\n                  dy: -100,\n                  style: {\n                    fontSize: 18\n                  }\n                },\n                tick: {\n                  fontSize: 18\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1865,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Line, {\n                data: [{\n                  x: 0,\n                  y: 0\n                }, {\n                  x: FREQS.length - 1,\n                  y: 0\n                }],\n                dataKey: \"y\",\n                xAxisId: 0,\n                yAxisId: 0,\n                type: \"monotone\",\n                dot: false,\n                stroke: \"#94a3b8\",\n                strokeWidth: 2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1866,\n                columnNumber: 19\n              }, this), SERIES.map(s => /*#__PURE__*/_jsxDEV(Scatter, {\n                name: s.label,\n                data: (seriesData[s.key] || []).map(d => ({\n                  x: d.x,\n                  y: d.y,\n                  ...(d.so ? {\n                    so: true\n                  } : {})\n                })),\n                fill: s.color,\n                shape: shapeRenderer(s.shape, s.color)\n              }, s.key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1869,\n                columnNumber: 21\n              }, this)), SERIES.filter(s => s.key.includes('-AC')).map(s => /*#__PURE__*/_jsxDEV(Line, {\n                data: acLineData[s.key] || [],\n                dataKey: \"y\",\n                stroke: s.color,\n                strokeWidth: 2,\n                dot: false,\n                strokeDasharray: s.key.startsWith('L-') ? '6 4' : undefined,\n                type: \"linear\",\n                connectNulls: false\n              }, `line-${s.key}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1873,\n                columnNumber: 21\n              }, this)), showAnswer && SERIES.map(s => /*#__PURE__*/_jsxDEV(Scatter, {\n                name: `${s.label} (answer)`,\n                data: answerSeriesData[s.key] || [],\n                fill: \"#10b981\",\n                shape: props => /*#__PURE__*/_jsxDEV(\"g\", {\n                  style: {\n                    opacity: blinkOn ? 1 : 0\n                  },\n                  children: shapeRenderer(s.shape, '#10b981')(props)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1877,\n                  columnNumber: 151\n                }, this),\n                isAnimationActive: false\n              }, `ans-${s.key}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1877,\n                columnNumber: 21\n              }, this)), showAnswer && SERIES.filter(s => s.key.includes('-AC')).map(s => /*#__PURE__*/_jsxDEV(Line, {\n                data: answerLineData[s.key] || [],\n                dataKey: \"y\",\n                stroke: \"#10b981\",\n                strokeOpacity: 0.35,\n                isAnimationActive: false,\n                strokeWidth: 2,\n                dot: false,\n                strokeDasharray: '4 6',\n                type: \"linear\",\n                connectNulls: false\n              }, `ans-line-${s.key}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1880,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1862,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1854,\n            columnNumber: 13\n          }, this), showLegend && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shrink-0 pl-2\",\n            style: {\n              display: 'flex',\n              alignItems: 'flex-start'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"space-y-0.5 text-[16px] leading-tight pr-1\",\n              children: SERIES.map(s => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(LegendMark, {\n                  shape: s.shape,\n                  color: s.color\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1889,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: s.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1890,\n                  columnNumber: 23\n                }, this)]\n              }, s.key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1888,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1886,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1885,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1853,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1814,\n        columnNumber: 9\n      }, this), isLearningMode && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 border border-green-200 rounded-2xl p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-green-600 text-xl\",\n            children: \"\\uD83D\\uDCDA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1903,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-green-800 mb-3\",\n              children: \"\\u30AA\\u30FC\\u30C7\\u30A3\\u30AA\\u30B0\\u30E9\\u30E0\\u5B66\\u7FD2\\u30E2\\u30FC\\u30C9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1905,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-green-700 mb-4\",\n              children: \"\\u57FA\\u672C\\u7684\\u306A\\u30AA\\u30FC\\u30C7\\u30A3\\u30AA\\u30B0\\u30E9\\u30E0\\u30D1\\u30BF\\u30FC\\u30F3\\u3068\\u75BE\\u60A3\\u5225\\u306E\\u7279\\u5FB4\\u3092\\u5B66\\u7FD2\\u3067\\u304D\\u307E\\u3059\\u3002\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1906,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\",\n              children: Object.entries(LEARNING_PATTERNS).map(([key, pattern]) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => loadLearningPattern(key),\n                className: `p-3 rounded-lg border text-left transition-colors ${selectedPattern === key ? 'bg-green-200 border-green-400 text-green-800' : 'bg-white border-green-300 text-green-700 hover:bg-green-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold text-sm\",\n                  children: pattern.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1922,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-green-600 mt-1\",\n                  children: pattern.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1923,\n                  columnNumber: 23\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1913,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1911,\n              columnNumber: 17\n            }, this), selectedPattern && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 p-3 bg-white rounded-lg border border-green-300\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-semibold text-green-800 mb-2\",\n                children: [\"\\u73FE\\u5728\\u5B66\\u7FD2\\u4E2D: \", LEARNING_PATTERNS[selectedPattern].name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1931,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-green-700\",\n                children: \"\\uD83D\\uDCA1 \\u6B63\\u7B54\\u8868\\u793A\\u30DC\\u30BF\\u30F3\\u3067\\u6B63\\u3057\\u3044\\u30AA\\u30FC\\u30C7\\u30A3\\u30AA\\u30B0\\u30E9\\u30E0\\u3092\\u78BA\\u8A8D\\u3067\\u304D\\u307E\\u3059\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1934,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1930,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1904,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1902,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1901,\n        columnNumber: 11\n      }, this), isTrainingMode && trainingCase && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-purple-50 border border-purple-200 rounded-2xl p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-purple-600 text-xl\",\n            children: \"\\uD83C\\uDFAF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1948,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold text-purple-800 mb-2\",\n              children: \"\\u30C8\\u30EC\\u30FC\\u30CB\\u30F3\\u30B0\\u75C7\\u4F8B\\u60C5\\u5831\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1950,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-purple-700 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u2022 \\u96E3\\u8074\\u30BF\\u30A4\\u30D7: \", trainingCase.hearingLossType === 'normal' ? '正常聴力' : trainingCase.hearingLossType === 'mild' ? '軽度難聴' : trainingCase.hearingLossType === 'moderate' ? '中等度難聴' : trainingCase.hearingLossType === 'severe' ? '高度難聴' : trainingCase.hearingLossType === 'mixed' ? '混合性難聴' : trainingCase.hearingLossType === 'high_freq' ? '高音漸傾型' : '不明']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1952,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u2022 \\u75C7\\u4F8BID: \", trainingCase.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1960,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 text-xs text-purple-600\",\n                children: \"\\uD83D\\uDCA1 \\u73FE\\u5B9F\\u7684\\u306A\\u96E3\\u8074\\u30D1\\u30BF\\u30FC\\u30F3\\u3067\\u751F\\u6210\\u3055\\u308C\\u3066\\u3044\\u307E\\u3059\\u3002AC/BC\\u306E\\u5236\\u9650\\u3082\\u8003\\u616E\\u6E08\\u307F\\u3067\\u3059\\u3002\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1961,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1951,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1949,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1947,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1946,\n        columnNumber: 11\n      }, this), isTrainingMode && trainingResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-purple-50 border border-purple-200 rounded-2xl p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-purple-800\",\n            children: \"\\u30C8\\u30EC\\u30FC\\u30CB\\u30F3\\u30B0\\u7D50\\u679C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1974,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setTrainingResults([]),\n            className: \"px-3 py-1 rounded-lg border text-sm bg-purple-100 hover:bg-purple-200 text-purple-700\",\n            children: \"\\u7D50\\u679C\\u30AF\\u30EA\\u30A2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1975,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1973,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-md font-semibold text-purple-800 mb-3\",\n            children: \"\\u30C8\\u30EC\\u30FC\\u30CB\\u30F3\\u30B0\\u7CBE\\u5EA6\\u7D71\\u8A08\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1985,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg p-3 border border-purple-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-purple-600 font-medium\",\n                children: \"\\u7DCF\\u30C8\\u30EC\\u30FC\\u30CB\\u30F3\\u30B0\\u6570\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1988,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xl font-bold text-purple-800\",\n                children: trainingResults.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1989,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1987,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg p-3 border border-purple-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-purple-600 font-medium\",\n                children: \"\\u5E73\\u5747\\u7CBE\\u5EA6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1992,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xl font-bold text-purple-800\",\n                children: [Math.round(trainingResults.reduce((sum, result) => sum + result.accuracy, 0) / trainingResults.length), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1993,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1991,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg p-3 border border-purple-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-purple-600 font-medium\",\n                children: \"\\u6700\\u9AD8\\u7CBE\\u5EA6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1998,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xl font-bold text-purple-800\",\n                children: [Math.max(...trainingResults.map(r => r.accuracy)), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1999,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1997,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-lg p-3 border border-purple-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-purple-600 font-medium\",\n                children: \"80%\\u4EE5\\u4E0A\\u9054\\u6210\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2004,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xl font-bold text-purple-800\",\n                children: [trainingResults.filter(r => r.accuracy >= 80).length, \"\\u56DE\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2005,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2003,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1986,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1984,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\",\n          children: trainingResults.length > 0 ? trainingResults.slice(-6).reverse().map((result, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg p-3 border border-purple-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-purple-600 font-medium\",\n                children: [\"#\", trainingResults.length - index]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2016,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: new Date(result.timestamp).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2019,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2015,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `text-lg font-bold ${result.accuracy >= 80 ? 'text-green-600' : result.accuracy >= 60 ? 'text-yellow-600' : 'text-red-600'}`,\n                children: [result.accuracy, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2024,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-600\",\n                children: [result.correct, \"/\", result.total, \" \\u6B63\\u89E3\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2030,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2023,\n              columnNumber: 19\n            }, this)]\n          }, result.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2014,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-full text-center text-gray-500 py-4\",\n            children: \"\\u307E\\u3060\\u30C8\\u30EC\\u30FC\\u30CB\\u30F3\\u30B0\\u7D50\\u679C\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2036,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2012,\n          columnNumber: 13\n        }, this), trainingResults.length > 6 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-sm text-purple-600 mt-3\",\n          children: [\"\\u6700\\u65B06\\u4EF6\\u3092\\u8868\\u793A\\u4E2D\\uFF08\\u5168\", trainingResults.length, \"\\u4EF6\\uFF09\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2043,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-md font-semibold text-purple-800 mb-3\",\n            children: \"\\u30C8\\u30EC\\u30FC\\u30CB\\u30F3\\u30B0\\u9032\\u6357\\u5206\\u6790\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2050,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg p-4 border border-purple-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-purple-600\",\n                  children: \"\\u6700\\u8FD15\\u56DE\\u306E\\u5E73\\u5747\\u7CBE\\u5EA6:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2054,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-purple-800\",\n                  children: [trainingResults.length >= 5 ? Math.round(trainingResults.slice(-5).reduce((sum, result) => sum + result.accuracy, 0) / 5) : 'データ不足', \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2055,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2053,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-purple-600\",\n                  children: \"\\u7CBE\\u5EA6\\u5411\\u4E0A\\u50BE\\u5411:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2063,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-semibold ${trainingResults.length >= 3 ? trainingResults.slice(-3).reduce((sum, result) => sum + result.accuracy, 0) / 3 > trainingResults.slice(0, 3).reduce((sum, result) => sum + result.accuracy, 0) / 3 ? 'text-green-600' : 'text-red-600' : 'text-gray-500'}`,\n                  children: trainingResults.length >= 3 ? trainingResults.slice(-3).reduce((sum, result) => sum + result.accuracy, 0) / 3 > trainingResults.slice(0, 3).reduce((sum, result) => sum + result.accuracy, 0) / 3 ? '向上中' : '要改善' : 'データ不足'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2064,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2062,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-purple-600\",\n                  children: \"\\u9023\\u7D9A80%\\u4EE5\\u4E0A:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2078,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-purple-800\",\n                  children: [(() => {\n                    let count = 0;\n                    for (let i = trainingResults.length - 1; i >= 0; i--) {\n                      if (trainingResults[i].accuracy >= 80) count++;else break;\n                    }\n                    return count;\n                  })(), \"\\u56DE\\u9023\\u7D9A\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2079,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2077,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2052,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2051,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2049,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1972,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold\",\n            children: \"\\u6E2C\\u5B9A\\u30ED\\u30B0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2099,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setMeasurementLog([]),\n              className: \"px-3 py-1 rounded-lg border text-sm bg-gray-100 hover:bg-gray-200\",\n              children: \"\\u30ED\\u30B0\\u30AF\\u30EA\\u30A2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => exportToCSV(),\n              className: \"px-3 py-1 rounded-lg border text-sm bg-blue-100 hover:bg-blue-200 text-blue-700\",\n              children: \"CSV\\u51FA\\u529B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-gray-500\",\n              children: [measurementLog.length, \"\\u4EF6\\u306E\\u8A18\\u9332\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2113,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2098,\n          columnNumber: 11\n        }, this), measurementLog.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500 py-8\",\n          children: [\"\\u307E\\u3060\\u5FDC\\u7B54\\u8A18\\u9332\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2121,\n            columnNumber: 28\n          }, this), \"\\u5FDC\\u7B54\\u30E9\\u30F3\\u30D7\\u304C\\u70B9\\u706F\\u3057\\u305F\\u6642\\u306B\\u8A18\\u9332\\u304C\\u8FFD\\u52A0\\u3055\\u308C\\u307E\\u3059\\u3002\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2120,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-h-64 overflow-y-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\",\n            children: measurementLog.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-3 rounded-lg border text-sm ${entry.masked ? 'bg-blue-50 border-blue-200' : 'bg-green-50 border-green-200'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-mono text-xs text-gray-500\",\n                  children: [\"#\", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2137,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500\",\n                  children: entry.timestamp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2140,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2136,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: [entry.freq, \"Hz \", entry.dB, \"dB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2145,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs\",\n                  children: [entry.ear, \" \", entry.transducer, \" |\", entry.masked ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-blue-700\",\n                    children: [\"\\u30DE\\u30B9\\u30AD\\u30F3\\u30B0 \", entry.maskLevel, \"dB\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2151,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-green-700\",\n                    children: \"\\u30DE\\u30B9\\u30AD\\u30F3\\u30B0 OFF\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2155,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2148,\n                  columnNumber: 23\n                }, this), entry.so && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-red-600 font-semibold\",\n                  children: \"Scale-Out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2161,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2144,\n                columnNumber: 21\n              }, this)]\n            }, entry.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2128,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2126,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2125,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2097,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold\",\n            children: \"\\u30BB\\u30C3\\u30B7\\u30E7\\u30F3\\u72B6\\u6CC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => generateReport(),\n              className: \"px-3 py-1 rounded-lg border text-sm bg-green-100 hover:bg-green-200 text-green-700\",\n              children: \"\\u30EC\\u30DD\\u30FC\\u30C8\\u751F\\u6210\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2178,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2175,\n          columnNumber: 11\n        }, this), !targets || targets.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500 py-8\",\n          children: \"\\u75C7\\u4F8B\\u3092\\u30ED\\u30FC\\u30C9\\u3057\\u3066\\u304B\\u3089\\u6E2C\\u5B9A\\u3092\\u958B\\u59CB\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2188,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-600 py-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-medium mb-2\",\n            children: [\"\\u75C7\\u4F8B\", selectedPreset, \"\\u306E\\u6E2C\\u5B9A\\u4E2D\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: [\"\\u6E2C\\u5B9A\\u304C\\u5B8C\\u4E86\\u3057\\u305F\\u3089\\u300C\\u6B63\\u7B54\\u7167\\u5408\\u300D\\u30DC\\u30BF\\u30F3\\u3092\\u30AF\\u30EA\\u30C3\\u30AF\\u3057\\u3066\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2195,\n              columnNumber: 41\n            }, this), \"\\u30BB\\u30C3\\u30B7\\u30E7\\u30F3\\u3092\\u5B8C\\u4E86\\u3057\\u3001\\u7CBE\\u5EA6\\u3092\\u78BA\\u8A8D\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2192,\n          columnNumber: 13\n        }, this), measurementLog.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-md font-semibold mb-3\",\n            children: \"\\u8A73\\u7D30\\u5206\\u6790\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2204,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium mb-3\",\n                children: \"\\u5468\\u6CE2\\u6570\\u5225\\u6E2C\\u5B9A\\u56DE\\u6570\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: FREQS.map(freq => {\n                  const count = measurementLog.filter(log => log.freq === freq).length;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm\",\n                      children: [freq, \"Hz\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2214,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-20 bg-gray-200 rounded-full h-2\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"bg-blue-500 h-2 rounded-full\",\n                          style: {\n                            width: `${count / Math.max(...FREQS.map(f => measurementLog.filter(log => log.freq === f).length)) * 100}%`\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2217,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2216,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm font-medium w-8 text-right\",\n                        children: count\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2222,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2215,\n                      columnNumber: 27\n                    }, this)]\n                  }, freq, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2213,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2209,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 rounded-lg p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium mb-3\",\n                children: \"\\u8033\\u5225\\u6E2C\\u5B9A\\u56DE\\u6570\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: \"\\u53F3\\u8033 (R)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2235,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-20 bg-gray-200 rounded-full h-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-red-500 h-2 rounded-full\",\n                        style: {\n                          width: `${measurementLog.filter(log => log.ear === 'R').length / measurementLog.length * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2238,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2237,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium w-8 text-right\",\n                      children: measurementLog.filter(log => log.ear === 'R').length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2243,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2236,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2234,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: \"\\u5DE6\\u8033 (L)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2249,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-20 bg-gray-200 rounded-full h-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-blue-500 h-2 rounded-full\",\n                        style: {\n                          width: `${measurementLog.filter(log => log.ear === 'L').length / measurementLog.length * 100}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2252,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2251,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium w-8 text-right\",\n                      children: measurementLog.filter(log => log.ear === 'L').length\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2257,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2250,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2248,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2233,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2205,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2203,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow p-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold\",\n            children: \"\\u5B66\\u7FD2\\u9032\\u6357\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => resetProgress(),\n            className: \"px-3 py-1 rounded-lg border text-sm bg-red-100 hover:bg-red-200 text-red-700\",\n            children: \"\\u9032\\u6357\\u30EA\\u30BB\\u30C3\\u30C8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2273,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-indigo-50 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-indigo-600 font-medium\",\n              children: \"\\u7DCF\\u30BB\\u30C3\\u30B7\\u30E7\\u30F3\\u6570\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-indigo-800\",\n              children: learningProgress.totalSessions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-teal-50 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-teal-600 font-medium\",\n              children: \"\\u5B8C\\u4E86\\u75C7\\u4F8B\\u6570\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2288,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-teal-800\",\n              children: [learningProgress.completedCases.length, \"/8\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2289,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-amber-50 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-amber-600 font-medium\",\n              children: \"\\u5E73\\u5747\\u7CBE\\u5EA6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-amber-800\",\n              children: [Object.keys(learningProgress.caseAccuracy).length > 0 ? Math.round(Object.values(learningProgress.caseAccuracy).reduce((sum, acc) => sum + acc.accuracy, 0) / Object.keys(learningProgress.caseAccuracy).length) : 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2294,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-rose-50 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-rose-600 font-medium\",\n              children: \"\\u6700\\u7D42\\u30BB\\u30C3\\u30B7\\u30E7\\u30F3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-bold text-rose-800\",\n              children: learningProgress.lastSessionDate || '未実施'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2302,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-md font-semibold mb-3\",\n            children: \"\\u75C7\\u4F8B\\u5225\\u9032\\u6357\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-8 gap-3\",\n            children: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'].map(caseId => {\n              const caseData = learningProgress.caseAccuracy[caseId];\n              const isCompleted = learningProgress.completedCases.includes(caseId);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-3 rounded-lg border text-center ${isCompleted ? 'bg-green-50 border-green-200 text-green-800' : 'bg-gray-50 border-gray-200 text-gray-600'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold\",\n                  children: [\"\\u75C7\\u4F8B\", caseId]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2325,\n                  columnNumber: 21\n                }, this), isCompleted ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm font-bold\",\n                    children: [caseData.accuracy, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2328,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-green-600 font-medium\",\n                    children: \"\\u2713 \\u5B8C\\u4E86\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2329,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm\",\n                  children: \"\\u672A\\u5B8C\\u4E86\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2332,\n                  columnNumber: 23\n                }, this)]\n              }, caseId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2317,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1481,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1480,\n    columnNumber: 5\n  }, this);\n}\n\n// small UI helpers\n_s(AudiogramMaskingMVP, \"qR8a/MSTYTSFuWvdpkMZofB0zPM=\");\n_c2 = AudiogramMaskingMVP;\nfunction Control({\n  label,\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-gray-700 mb-1 text-base\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2349,\n      columnNumber: 7\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2348,\n    columnNumber: 5\n  }, this);\n}\n_c3 = Control;\nfunction TinyToggle({\n  active,\n  onClick,\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: onClick,\n    className: `px-3 py-2 rounded-lg border text-base ${active ? 'bg-black text-white border-black' : 'bg-white text-gray-800'}`,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2357,\n    columnNumber: 5\n  }, this);\n}\n_c4 = TinyToggle;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"LegendMark\");\n$RefreshReg$(_c2, \"AudiogramMaskingMVP\");\n$RefreshReg$(_c3, \"Control\");\n$RefreshReg$(_c4, \"TinyToggle\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useRef","useLayoutEffect","ResponsiveContainer","ComposedChart","XAxis","YAxis","CartesianGrid","Scatter","Line","jsxDEV","_jsxDEV","Fragment","_Fragment","CAL_OFFSET_DB","BC_DISABLED","Set","FREQS","X_DOMAIN","length","Y_MIN","Y_MAX","CHART_SCALE","CELL_PX","GRID_W","GRID_H","AXIS_LEFT","AXIS_RIGHT","AXIS_TOP","AXIS_BOTTOM","CHART_MARGIN","top","right","bottom","left","IA_VALUES","AC","BC","AC_MAX","BC_MAX","MARK_R","MARK_STROKE","formatFreq","v","i","Math","round","String","SERIES","key","label","color","shape","mk","ear","transducer","list","map","freq","dB","so","masked","preset","name","parts","targets","flat","PRESET_A","PRESET_B","PRESET_C","PRESET_D","PRESET_E","PRESET_F","PRESET_G","PRESET_H","LEARNING_PATTERNS","normal","description","pattern","R","L","sensorineural_mild","sensorineural_moderate","conductive","mixed","high_frequency","low_frequency","mumps","acoustic_trauma","noise_induced","presbycusis","meniere","otosclerosis","auditory_neuropathy","sudden_hearing_loss","vestibular_schwannoma","buildTargetsFromPreset","t","clamp","n","lo","hi","max","min","round5","seriesKey","p","isResponse","points","some","maxPresentable","transKey","f","_AC_MAX$f","_BC_MAX$f","shapeRenderer","props","cx","cy","payload","r","Arrow","children","x1","y1","x2","y2","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","fill","lbracketOffset","rbracketOffset","ltOffset","gtOffset","LegendMark","size","render","width","height","viewBox","transform","_c","AudiogramMaskingMVP","_s","isAuthenticated","setIsAuthenticated","password","setPassword","TRAINING_PASSWORD","setEar","trans","setTrans","setMasked","setFreq","maskLevel","setMaskLevel","level","setLevel","setPoints","suppressLamp","setSuppressLamp","iaSettings","setIaSettings","showIaSettings","setShowIaSettings","isLearningMode","setIsLearningMode","selectedPattern","setSelectedPattern","learningProgress","setLearningProgress","totalSessions","completedCases","caseAccuracy","lastSessionDate","showLegend","setShowLegend","setTargets","selectedPreset","setSelectedPreset","measurementLog","setMeasurementLog","isTrainingMode","setIsTrainingMode","trainingCase","setTrainingCase","trainingResults","setTrainingResults","isLoading","setIsLoading","containerRef","chartHostRef","overlayRef","plotCalRef","scaleY","deltaTop","chartW","chartH","host","current","ov","gridG","querySelector","getBoundingClientRect","gridRect","ovRect","_tmap$get","console","assert","Array","isArray","every","s","sampleTicks","from","_","tmap","Map","filter","forEach","_AC_MAX$t$freq","_BC_MAX$t$freq","base","set","k","get","Number","isFinite","getThr","yMin","yMax","gridH","mapYToDb","y","assertNear5","val","expect","abs","localMap","_AC_MAX$t$freq2","_BC_MAX$t$freq2","overMax","_getThr","earKey","_localMap$get$dB","_localMap$get","Infinity","_hears","maskedFlag","maskLvl","teThr","testEarHeard","nte","ia","getIA","leakedToNTE","nteBC","effectiveMask","crossHeard","e","warn","showAnswer","setShowAnswer","overMaskingWarning","setOverMaskingWarning","crossHearingWarning","setCrossHearingWarning","blinkOn","setBlinkOn","id","setInterval","b","clearInterval","log","window","onKeyDown","el","target","tag","tagName","toUpperCase","type","toLowerCase","isTypingField","isContentEditable","preventDefault","prev","idx","indexOf","nextIdx","newLevel","setTimeout","addOrReplacePoint","removePointAtCurrent","addEventListener","capture","removeEventListener","freqIndex","moveFreq","dir","has","p2","atMax","heardAtMax","hearsAtLevel","p3","x","kp","others","q","sort","a","lampOn","logEntry","Date","now","timestamp","toLocaleTimeString","caseId","totalMeasurements","toISOString","split","handlePlotClick","clickX","clientX","clickY","clientY","yRange","yRatio","dBraw","dBclamped","clearAll","targetMap","_AC_MAX$t$freq3","_BC_MAX$t$freq3","isOverMasking","testEarBC","maskingLimit","crossHearingInfo","isCrossHearing","details","testEarThreshold","frequency","_iaSettings$transduce","_iaSettings$transduce2","loadLearningPattern","patternKey","push","_AC_MAX$f2","_BC_MAX$f2","actualThreshold","overMasking","seriesData","m","xIdx","acLineData","out","includes","pts","answerSeriesData","_AC_MAX$t$freq4","_BC_MAX$t$freq4","isSO","yVal","answerLineData","currentTarget","find","getActualThreshold","baseThreshold","checkAccuracy","total","correct","accuracy","userMeasurement","isSessionComplete","exportToCSV","alert","headers","csvContent","join","index","blob","Blob","link","document","createElement","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","generateReport","Object","keys","totalAccuracy","reduce","sum","reportData","title","date","toLocaleDateString","totalCases","averageAccuracy","caseResults","completedAt","reportWindow","open","write","result","JSON","stringify","close","completeSession","generateTrainingCase","frequencies","ears","hearingLossTypes","selectedType","floor","random","caseData","hearingLossType","_AC_MAX$freq","acThreshold","_BC_MAX$freq","acTarget","bcThreshold","startTrainingMode","newCase","endTrainingMode","recordTrainingResult","checkAnswersAndCompleteSession","resultMessage","isCorrect","diff","line","resetProgress","confirm","className","value","onChange","onKeyPress","placeholder","onClick","disabled","ref","Promise","resolve","Control","TinyToggle","active","step","parseInt","toFixed","realisticIA","w","overflow","cursor","zIndex","pointerEvents","background","onPointerUp","onPointerDown","data","margin","strokeDasharray","dataKey","domain","ticks","tickFormatter","position","offset","fontSize","tick","reversed","tickMargin","angle","dy","xAxisId","yAxisId","dot","d","startsWith","undefined","connectNulls","opacity","isAnimationActive","strokeOpacity","display","alignItems","entries","slice","reverse","count","entry","values","acc","isCompleted","_c2","_c3","_c4","$RefreshReg$"],"sources":["/Users/maedahidehiko/Documents/myAudiogram builder/src/AudiogramMaskingMVP.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef, useLayoutEffect } from \"react\";\nimport { ResponsiveContainer, ComposedChart, XAxis, YAxis, CartesianGrid, Scatter, Line } from \"recharts\";\n\n// Audiogram-first Masking Trainer (MVP v2.4.9)\n// - 1oct/grid x 10dB ticks; 1oct == 20dB; AC O/X, BC </> []\n// - Overlay blink; legend right-side panel; masking slider in header\n// - Fix: add targetMap + getThr() → resolves \"getThr is not defined\"\n\n// --- constants ---\n// Optional click→dB calibration offset (kept 0 as per spec 1/2/3)\nconst CAL_OFFSET_DB = 0;\nconst BC_DISABLED = new Set([125, 8000]); // BCは125Hz/8000Hzは測定対象外\nconst FREQS = [125, 250, 500, 1000, 2000, 4000, 8000]; // 7 points -> 6 octaves\n// Slight domain padding to prevent edge clipping without changing visible tick positions\nconst X_DOMAIN = [0, FREQS.length - 1];\nconst Y_MIN = -10;  // dB HL (top small, bottom large)\nconst Y_MAX = 120;  // 10 dB ticks (render squares use 20 dB cells)\nconst CHART_SCALE = 1;\n// Geometry to force 1 octave (X) == 20 dB (Y)\nconst CELL_PX = 100; // px per 1 octave (== 20 dB) — larger, keeps square cells\nconst GRID_W = CELL_PX * (FREQS.length - 1); // 6 octaves\nconst GRID_H = CELL_PX * ((Y_MAX - Y_MIN) / 20); // vertical cells of 20 dB\nconst AXIS_LEFT = 64, AXIS_RIGHT = 40, AXIS_TOP = 20, AXIS_BOTTOM = 48; // increase top to avoid clipping -10 dB tick\nconst CHART_MARGIN = { top: AXIS_TOP, right: AXIS_RIGHT, bottom: AXIS_BOTTOM, left: AXIS_LEFT }; // plotting box = GRID_W x GRID_H\n\n// Interaural Attenuation (IA) values by frequency and transducer\nconst IA_VALUES = {\n  AC: {\n    125: 50,   // AC 125Hz\n    250: 50,   // AC 250Hz\n    500: 50,   // AC 500Hz\n    1000: 50,  // AC 1000Hz\n    2000: 50,  // AC 2000Hz\n    4000: 50,  // AC 4000Hz\n    8000: 50   // AC 8000Hz\n  },\n  BC: {\n    125: 0,    // BC 125Hz (disabled)\n    250: 0,    // BC 250Hz\n    500: 0,    // BC 500Hz\n    1000: 0,   // BC 1000Hz\n    2000: 0,   // BC 2000Hz\n    4000: 0,   // BC 4000Hz\n    8000: 0    // BC 8000Hz (disabled)\n  }\n};\n\n\n// Max presentable levels (for Scale-Out logic)\nconst AC_MAX = { 125: 70, 250: 90, 500: 110, 1000: 110, 2000: 110, 4000: 110, 8000: 100 };\nconst BC_MAX = { 250: 55, 500: 65, 1000: 70, 2000: 70, 4000: 60 };\n\n// Marker size for AC/BC symbols (px). 24px target → radius 12, thicker stroke.\nconst MARK_R = 8; // radius (smaller markers)\nconst MARK_STROKE = 2;\n\n// Safe tick formatter for X axis (1 octave grid labels)\nfunction formatFreq(v) {\n  const i = Math.round(typeof v === 'number' ? v : 0);\n  return String((FREQS && FREQS[i] != null) ? FREQS[i] : \"\");\n}\n\n// Legend / rendering series\nconst SERIES = [\n  { key: \"R-AC\", label: \"Right AC\", color: \"#ef4444\", shape: \"O\" },\n  { key: \"L-AC\", label: \"Left  AC\", color: \"#3b82f6\", shape: \"X\" },\n  { key: \"R-BC-U\", label: \"Right BC (unmasked)\", color: \"#ef4444\", shape: \"lt\" },\n  { key: \"R-BC-M\", label: \"Right BC (masked)\",   color: \"#b91c1c\", shape: \"lbracket\" },\n  { key: \"L-BC-U\", label: \"Left  BC (unmasked)\",  color: \"#3b82f6\", shape: \"gt\" },\n  { key: \"L-BC-M\", label: \"Left  BC (masked)\",    color: \"#1d4ed8\", shape: \"rbracket\" },\n];\n\n// --- preset helpers (compress verbose targets to keep file small) --- (compress verbose targets to keep file small) ---\nconst mk = (ear, transducer, list) =>\n  list.map(([freq, dB, so=false]) => ({ ear, transducer, masked:false, freq, dB, ...(so?{so:true}:{}) }));\nconst preset = (name, parts) => ({ name, targets: parts.flat() });\n\n// --- Preset cases (targets kept \"secret\"; used for overlay/validation only) ---\n// Each target: { ear:'R'|'L', transducer:'AC'|'BC', masked:false, freq:number, dB:number, so?:true }\nconst PRESET_A = preset('症例A', [\n  mk('R','AC', [[125,5],[250,5],[500,5],[1000,5],[2000,5],[4000,0],[8000,0]]),\n  mk('L','AC', [[125,10],[250,10],[500,5],[1000,5],[2000,5],[4000,0],[8000,-5]]),\n  mk('R','BC', [[250,5],[500,10],[1000,5],[2000,5],[4000,-5]]),\n  mk('L','BC', [[250,5],[500,5],[1000,0],[2000,5],[4000,0]])\n]);\n\nconst PRESET_B = preset('症例B', [\n  // Right AC / BC\n  mk('R','AC', [[125,10],[250,10],[500,30],[1000,50],[2000,70],[4000,90],[8000,100]]),\n  mk('R','BC', [[125,10],[250,15],[500,30],[1000,50],[2000,70],[4000,90],[8000,100]]),\n  // Left AC / BC\n  mk('L','AC', [[125,15],[250,15],[500,10],[1000,10],[2000,5],[4000,5],[8000,10]]),\n  mk('L','BC', [[250,15],[500,10],[1000,10],[2000,5],[4000,5]])\n]);\n\nconst PRESET_C = preset('症例C', [\n  // Right AC / BC\n  mk('R','AC', [[125,20],[250,20],[500,15],[1000,10],[2000,10],[4000,5],[8000,5]]),\n  mk('R','BC', [[250,15],[500,15],[1000,10],[2000,5],[4000,10]]),\n  // Left AC/BC (SO)\n  mk('L','AC', [[125,110,true],[250,110,true],[500,110,true],[1000,110,true],[2000,110,true],[4000,110,true],[8000,110,true]]),\n  mk('L','BC', [[250,110,true],[500,110,true],[1000,110,true],[2000,110,true],[4000,110,true]])\n]);\n\nconst PRESET_D = preset('症例D', [\n  // Right AC / BC - 高音域の聴力低下\n  mk('R','AC', [[125,5],[250,5],[500,5],[1000,10],[2000,25],[4000,45],[8000,65]]),\n  mk('R','BC', [[125,5],[250,5],[500,5],[1000,10],[2000,20],[4000,35],[8000,50]]),\n  // Left AC / BC - 低音域の聴力低下\n  mk('L','AC', [[125,25],[250,30],[500,20],[1000,10],[2000,5],[4000,5],[8000,10]]),\n  mk('L','BC', [[125,20],[250,25],[500,20],[1000,10],[2000,5],[4000,5],[8000,10]])\n]);\n\nconst PRESET_E = preset('症例E', [\n  // Right AC / BC - 混合性難聴パターン\n  mk('R','AC', [[125,15],[250,20],[500,20],[1000,30],[2000,35],[4000,35],[8000,45]]),\n  mk('R','BC', [[125,10],[250,15],[500,20],[1000,25],[2000,30],[4000,35],[8000,40]]),\n  // Left AC / BC - 感音性難聴パターン\n  mk('L','AC', [[125,40],[250,45],[500,40],[1000,55],[2000,60],[4000,60],[8000,70]]),\n  mk('L','BC', [[125,35],[250,40],[500,45],[1000,50],[2000,55],[4000,60],[8000,65]])\n]);\n\nconst PRESET_F = preset('症例F', [\n  // Right AC / BC - 感音難聴（高音漸傾型）\n  mk('R','AC', [[125,10],[250,15],[500,20],[1000,30],[2000,45],[4000,65],[8000,80]]),\n  mk('R','BC', [[125,10],[250,15],[500,20],[1000,30],[2000,45],[4000,65],[8000,80]]),\n  // Left AC / BC - 感音難聴（高音漸傾型、左右同じ）\n  mk('L','AC', [[125,10],[250,15],[500,20],[1000,30],[2000,45],[4000,65],[8000,80]]),\n  mk('L','BC', [[125,10],[250,15],[500,20],[1000,30],[2000,45],[4000,65],[8000,80]])\n]);\n\nconst PRESET_G = preset('症例G', [\n  // Right AC / BC - 軽度の感音難聴\n  mk('R','AC', [[125,10],[250,10],[500,5],[1000,5],[2000,5],[4000,0],[8000,0]]),\n  mk('R','BC', [[125,5],[250,15],[500,10],[1000,5],[2000,5],[4000,0],[8000,5]]),\n  // Left AC / BC - 軽度の伝音難聴\n  mk('L','AC', [[125,35],[250,40],[500,30],[1000,35],[2000,30],[4000,25],[8000,35]]),\n  mk('L','BC', [[125,5],[250,10],[500,5],[1000,5],[2000,10],[4000,5],[8000,5]])\n]);\n\nconst PRESET_H = preset('症例H', [\n  // Right AC / BC - 伝音難聴（両耳）\n  mk('R','AC', [[125,30],[250,35],[500,25],[1000,20],[2000,10],[4000,15],[8000,15]]),\n  mk('R','BC', [[125,5],[250,5],[500,10],[1000,10],[2000,15],[4000,5],[8000,5]]),\n  // Left AC / BC - 伝音難聴（両耳）\n  mk('L','AC', [[125,30],[250,35],[500,20],[1000,30],[2000,20],[4000,20],[8000,30]]),\n  mk('L','BC', [[125,5],[250,10],[500,5],[1000,5],[2000,10],[4000,5],[8000,5]])\n]);\n\n// 学習用オーディオグラムパターン\nconst LEARNING_PATTERNS = {\n  // 基本的なパターン\n  normal: {\n    name: '正常聴力',\n    description: 'すべての周波数で20dB以下の聴力',\n    pattern: {\n      R: { AC: [[125,5],[250,0],[500,0],[1000,0],[2000,0],[4000,5],[8000,10]], BC: [[125,0],[250,0],[500,0],[1000,0],[2000,0],[4000,0],[8000,5]] },\n      L: { AC: [[125,10],[250,5],[500,0],[1000,0],[2000,0],[4000,5],[8000,15]], BC: [[125,5],[250,0],[500,0],[1000,0],[2000,0],[4000,0],[8000,10]] }\n    }\n  },\n  \n  // 感音難聴パターン\n  sensorineural_mild: {\n    name: '軽度感音難聴',\n    description: 'ACとBCが同程度の軽度低下',\n    pattern: {\n      R: { AC: [[125,20],[250,25],[500,30],[1000,35],[2000,40],[4000,45],[8000,50]], BC: [[125,20],[250,25],[500,30],[1000,35],[2000,40],[4000,45],[8000,50]] },\n      L: { AC: [[125,15],[250,20],[500,25],[1000,30],[2000,35],[4000,40],[8000,45]], BC: [[125,15],[250,20],[500,25],[1000,30],[2000,35],[4000,40],[8000,45]] }\n    }\n  },\n  \n  sensorineural_moderate: {\n    name: '中等度感音難聴',\n    description: 'ACとBCが同程度の中等度低下',\n    pattern: {\n      R: { AC: [[125,35],[250,40],[500,45],[1000,50],[2000,55],[4000,60],[8000,65]], BC: [[125,35],[250,40],[500,45],[1000,50],[2000,55],[4000,60],[8000,65]] },\n      L: { AC: [[125,30],[250,35],[500,40],[1000,45],[2000,50],[4000,55],[8000,60]], BC: [[125,30],[250,35],[500,40],[1000,45],[2000,50],[4000,55],[8000,60]] }\n    }\n  },\n  \n  // 伝音難聴パターン\n  conductive: {\n    name: '伝音難聴',\n    description: 'ACは低下、BCは正常',\n    pattern: {\n      R: { AC: [[125,40],[250,45],[500,50],[1000,55],[2000,50],[4000,45],[8000,40]], BC: [[125,0],[250,0],[500,0],[1000,0],[2000,0],[4000,0],[8000,0]] },\n      L: { AC: [[125,35],[250,40],[500,45],[1000,50],[2000,45],[4000,40],[8000,35]], BC: [[125,0],[250,0],[500,0],[1000,0],[2000,0],[4000,0],[8000,0]] }\n    }\n  },\n  \n  // 混合性難聴パターン\n  mixed: {\n    name: '混合性難聴',\n    description: 'ACとBCともに低下、ACの方が高度',\n    pattern: {\n      R: { AC: [[125,50],[250,55],[500,60],[1000,65],[2000,60],[4000,55],[8000,50]], BC: [[125,25],[250,30],[500,35],[1000,40],[2000,35],[4000,30],[8000,25]] },\n      L: { AC: [[125,45],[250,50],[500,55],[1000,60],[2000,55],[4000,50],[8000,45]], BC: [[125,20],[250,25],[500,30],[1000,35],[2000,30],[4000,25],[8000,20]] }\n    }\n  },\n  \n  // 高音漸傾型難聴\n  high_frequency: {\n    name: '高音漸傾型難聴',\n    description: '高音域で急激な聴力低下',\n    pattern: {\n      R: { AC: [[125,5],[250,10],[500,15],[1000,20],[2000,35],[4000,55],[8000,75]], BC: [[125,5],[250,10],[500,15],[1000,20],[2000,35],[4000,55],[8000,75]] },\n      L: { AC: [[125,0],[250,5],[500,10],[1000,15],[2000,30],[4000,50],[8000,70]], BC: [[125,0],[250,5],[500,10],[1000,15],[2000,30],[4000,50],[8000,70]] }\n    }\n  },\n  \n  // 低音漸傾型難聴\n  low_frequency: {\n    name: '低音漸傾型難聴',\n    description: '低音域で聴力低下',\n    pattern: {\n      R: { AC: [[125,45],[250,35],[500,25],[1000,15],[2000,10],[4000,5],[8000,10]], BC: [[125,45],[250,35],[500,25],[1000,15],[2000,10],[4000,5],[8000,10]] },\n      L: { AC: [[125,40],[250,30],[500,20],[1000,10],[2000,5],[4000,0],[8000,5]], BC: [[125,40],[250,30],[500,20],[1000,10],[2000,5],[4000,0],[8000,5]] }\n    }\n  },\n  \n  // 平坦型難聴\n  flat: {\n    name: '平坦型難聴',\n    description: '全周波数で同程度の聴力低下',\n    pattern: {\n      R: { AC: [[125,50],[250,45],[500,50],[1000,45],[2000,50],[4000,45],[8000,50]], BC: [[125,50],[250,45],[500,50],[1000,45],[2000,50],[4000,45],[8000,50]] },\n      L: { AC: [[125,45],[250,50],[500,45],[1000,50],[2000,45],[4000,50],[8000,45]], BC: [[125,45],[250,50],[500,45],[1000,50],[2000,45],[4000,50],[8000,45]] }\n    }\n  },\n  \n  // 疾患別オーディオグラムパターン（現実的な変動を含む）\n  mumps: {\n    name: 'ムンプス難聴',\n    description: '片側性の高度感音難聴、高音域で著明',\n    pattern: {\n      R: { AC: [[125,15],[250,25],[500,35],[1000,45],[2000,65],[4000,85],[8000,95]], BC: [[125,15],[250,25],[500,35],[1000,45],[2000,65],[4000,85],[8000,95]] },\n      L: { AC: [[125,5],[250,0],[500,5],[1000,0],[2000,5],[4000,10],[8000,15]], BC: [[125,5],[250,0],[500,5],[1000,0],[2000,5],[4000,10],[8000,15]] }\n    }\n  },\n  \n  acoustic_trauma: {\n    name: '音響外傷',\n    description: '4000Hz付近のV字型聴力低下（C5 dip）',\n    pattern: {\n      R: { AC: [[125,5],[250,10],[500,15],[1000,20],[2000,25],[4000,65],[8000,40]], BC: [[125,5],[250,10],[500,15],[1000,20],[2000,25],[4000,65],[8000,40]] },\n      L: { AC: [[125,0],[250,5],[500,10],[1000,15],[2000,20],[4000,60],[8000,35]], BC: [[125,0],[250,5],[500,10],[1000,15],[2000,20],[4000,60],[8000,35]] }\n    }\n  },\n  \n  noise_induced: {\n    name: '騒音性難聴',\n    description: '4000Hzを中心とした両側性高音域難聴',\n    pattern: {\n      R: { AC: [[125,10],[250,15],[500,20],[1000,25],[2000,30],[4000,55],[8000,35]], BC: [[125,10],[250,15],[500,20],[1000,25],[2000,30],[4000,55],[8000,35]] },\n      L: { AC: [[125,5],[250,10],[500,15],[1000,20],[2000,25],[4000,50],[8000,30]], BC: [[125,5],[250,10],[500,15],[1000,20],[2000,25],[4000,50],[8000,30]] }\n    }\n  },\n  \n  presbycusis: {\n    name: '加齢性難聴',\n    description: '高音域から始まる両側性漸進的難聴',\n    pattern: {\n      R: { AC: [[125,5],[250,10],[500,15],[1000,20],[2000,30],[4000,45],[8000,70]], BC: [[125,5],[250,10],[500,15],[1000,20],[2000,30],[4000,45],[8000,70]] },\n      L: { AC: [[125,0],[250,5],[500,10],[1000,15],[2000,25],[4000,40],[8000,65]], BC: [[125,0],[250,5],[500,10],[1000,15],[2000,25],[4000,40],[8000,65]] }\n    }\n  },\n  \n  meniere: {\n    name: 'メニエール病',\n    description: '低音域優位の感音難聴、変動性あり',\n    pattern: {\n      R: { AC: [[125,45],[250,35],[500,25],[1000,20],[2000,15],[4000,10],[8000,25]], BC: [[125,45],[250,35],[500,25],[1000,20],[2000,15],[4000,10],[8000,25]] },\n      L: { AC: [[125,40],[250,30],[500,20],[1000,15],[2000,10],[4000,5],[8000,20]], BC: [[125,40],[250,30],[500,20],[1000,15],[2000,10],[4000,5],[8000,20]] }\n    }\n  },\n  \n  otosclerosis: {\n    name: '耳硬化症',\n    description: '伝音難聴、Carhart notch（2000Hz）',\n    pattern: {\n      R: { AC: [[125,25],[250,30],[500,35],[1000,40],[2000,60],[4000,45],[8000,40]], BC: [[125,0],[250,0],[500,0],[1000,0],[2000,20],[4000,0],[8000,0]] },\n      L: { AC: [[125,20],[250,25],[500,30],[1000,35],[2000,55],[4000,40],[8000,35]], BC: [[125,0],[250,0],[500,0],[1000,0],[2000,15],[4000,0],[8000,0]] }\n    }\n  },\n  \n  auditory_neuropathy: {\n    name: 'Auditory Neuropathy',\n    description: 'ABR異常、OAE正常、語音弁別不良',\n    pattern: {\n      R: { AC: [[125,15],[250,20],[500,25],[1000,30],[2000,35],[4000,40],[8000,45]], BC: [[125,15],[250,20],[500,25],[1000,30],[2000,35],[4000,40],[8000,45]] },\n      L: { AC: [[125,10],[250,15],[500,20],[1000,25],[2000,30],[4000,35],[8000,40]], BC: [[125,10],[250,15],[500,20],[1000,25],[2000,30],[4000,35],[8000,40]] }\n    }\n  },\n  \n  sudden_hearing_loss: {\n    name: '突発性難聴',\n    description: '片側性の急激な感音難聴',\n    pattern: {\n      R: { AC: [[125,55],[250,65],[500,70],[1000,75],[2000,80],[4000,85],[8000,90]], BC: [[125,55],[250,65],[500,70],[1000,75],[2000,80],[4000,85],[8000,90]] },\n      L: { AC: [[125,5],[250,0],[500,0],[1000,0],[2000,0],[4000,5],[8000,10]], BC: [[125,5],[250,0],[500,0],[1000,0],[2000,0],[4000,5],[8000,10]] }\n    }\n  },\n  \n  vestibular_schwannoma: {\n    name: '聴神経腫瘍',\n    description: '高音域優位の片側性感音難聴',\n    pattern: {\n      R: { AC: [[125,10],[250,15],[500,20],[1000,25],[2000,35],[4000,55],[8000,75]], BC: [[125,10],[250,15],[500,20],[1000,25],[2000,35],[4000,55],[8000,75]] },\n      L: { AC: [[125,5],[250,0],[500,0],[1000,0],[2000,0],[4000,0],[8000,5]], BC: [[125,5],[250,0],[500,0],[1000,0],[2000,0],[4000,0],[8000,5]] }\n    }\n  }\n};\n\nfunction buildTargetsFromPreset(preset){\n  if (!preset) return [];\n  return preset.targets.map(t => ({...t}));\n}\n\n// helpers\nfunction clamp(n, lo, hi) { return Math.max(lo, Math.min(hi, n)); }\nfunction round5(n) { return Math.round(n / 5) * 5; }\nfunction seriesKey(p) { \n  // ACの場合はマスキング状態に関係なく同じ系列として扱う\n  if (p.transducer === 'AC') {\n    return `${p.ear}-${p.transducer}`;\n  }\n  // BCの場合はマスキング状態を区別\n  return `${p.ear}-${p.transducer}-${p.masked ? \"M\" : \"U\"}`; \n}\nfunction isResponse(points, t) {\n  return points.some(p => p.ear===t.ear && p.transducer===t.transducer && p.masked===t.masked && p.freq===t.freq && p.dB >= t.dB);\n}\n// PRESENTATION LIMIT (fix for ReferenceError: maxPresentable is not defined)\nfunction maxPresentable(transKey, f) {\n  return transKey === 'AC' ? (AC_MAX[f] ?? 110) : (BC_MAX[f] ?? 110);\n}\n\n// shape renderer (adds SO arrow if payload.so)\nfunction shapeRenderer(shape, color) {\n  return (props) => {\n    const { cx, cy, payload } = props;\n    const r = MARK_R;\n    const t = MARK_STROKE;\n    const so = payload && payload.so;\n    const Arrow = so ? (\n      <g>\n        <line x1={cx} y1={cy + r + 2} x2={cx} y2={cy + r + 10} stroke={color} strokeWidth={t} />\n        <line x1={cx - 4} y1={cy + r + 6} x2={cx} y2={cy + r + 10} stroke={color} strokeWidth={t} />\n        <line x1={cx + 4} y1={cy + r + 6} x2={cx} y2={cy + r + 10} stroke={color} strokeWidth={t} />\n      </g>\n    ) : null;\n\n    switch (shape) {\n      case 'O':\n        return (\n          <g>\n            <circle cx={cx} cy={cy} r={r} stroke={color} strokeWidth={t} fill=\"white\" />\n            {Arrow}\n          </g>\n        );\n      case 'X':\n        return (\n          <g stroke={color} strokeWidth={t}>\n            <line x1={cx - r} y1={cy - r} x2={cx + r} y2={cy + r} />\n            <line x1={cx - r} y1={cy + r} x2={cx + r} y2={cy - r} />\n            {Arrow}\n          </g>\n        );\n      case 'lbracket': // [ (masked BC Right) - 左にずらす\n        const lbracketOffset = -3; // 右耳BCを左に3pxずらす\n        return (\n          <g stroke={color} strokeWidth={t} fill=\"none\">\n            <line x1={cx - r + lbracketOffset} y1={cy - r} x2={cx - r + lbracketOffset} y2={cy + r} />\n            <line x1={cx - r + lbracketOffset} y1={cy - r} x2={cx - r/3 + lbracketOffset} y2={cy - r} />\n            <line x1={cx - r + lbracketOffset} y1={cy + r} x2={cx - r/3 + lbracketOffset} y2={cy + r} />\n            {Arrow}\n          </g>\n        );\n      case 'rbracket': // ] (masked BC Left) - 右にずらす\n        const rbracketOffset = 3; // 左耳BCを右に3pxずらす\n        return (\n          <g stroke={color} strokeWidth={t} fill=\"none\">\n            <line x1={cx + r + rbracketOffset} y1={cy - r} x2={cx + r + rbracketOffset} y2={cy + r} />\n            <line x1={cx + r + rbracketOffset} y1={cy - r} x2={cx + r/3 + rbracketOffset} y2={cy - r} />\n            <line x1={cx + r + rbracketOffset} y1={cy + r} x2={cx + r/3 + rbracketOffset} y2={cy + r} />\n            {Arrow}\n          </g>\n        );\n      case 'lt': // < (unmasked BC Right) - 左にずらす\n        const ltOffset = -3; // 右耳BCを左に3pxずらす\n        return (\n          <g stroke={color} strokeWidth={t} fill=\"none\">\n            <line x1={cx + r + ltOffset} y1={cy - r} x2={cx - r/3 + ltOffset} y2={cy} />\n            <line x1={cx + r + ltOffset} y1={cy + r} x2={cx - r/3 + ltOffset} y2={cy} />\n            {Arrow}\n          </g>\n        );\n      case 'gt': // > (unmasked BC Left) - 右にずらす\n        const gtOffset = 3; // 左耳BCを右に3pxずらす\n        return (\n          <g stroke={color} strokeWidth={t} fill=\"none\">\n            <line x1={cx - r + gtOffset} y1={cy - r} x2={cx + r/3 + gtOffset} y2={cy} />\n            <line x1={cx - r + gtOffset} y1={cy + r} x2={cx + r/3 + gtOffset} y2={cy} />\n            {Arrow}\n          </g>\n        );\n      default:\n        return <circle cx={cx} cy={cy} r={r} fill={color} />;\n    }\n  };\n}\n\n// Legend icon that reuses chart shapes instead of color squares\nfunction LegendMark({ shape, color }) {\n  const size = MARK_R * 2 + 8; // padding around the symbol\n  const render = shapeRenderer(shape, color);\n  return (\n    <svg width={size} height={size} viewBox={`0 0 ${size} ${size}`} aria-hidden>\n      <g transform={`translate(${size/2}, ${size/2})`}>\n        {render({ cx: 0, cy: 0, payload: {} })}\n      </g>\n    </svg>\n  );\n}\n\nexport default function AudiogramMaskingMVP() {\n  // 講習会用パスワード保護\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [password, setPassword] = useState('');\n  const TRAINING_PASSWORD = 'audiogram2024'; // 講習会用パスワード\n\n  // Basic UI state\n  const [ear, setEar] = useState('R'); // 'R' | 'L'\n  const [trans, setTrans] = useState('AC'); // 'AC' | 'BC'\n  const [masked, setMasked] = useState(false);\n  const [freq, setFreq] = useState(1000);\n  const [maskLevel, setMaskLevel] = useState(-15); // masking amount (dB); -15 means no masking\n  const [level, setLevel] = useState(30);\n  const [points, setPoints] = useState([]);\n  const [suppressLamp, setSuppressLamp] = useState(false); // 周波数切替時に一時的にランプ消灯\n  \n  // IA設定の状態管理\n  const [iaSettings, setIaSettings] = useState(IA_VALUES);\n  const [showIaSettings, setShowIaSettings] = useState(false);\n  \n  // 学習モードの状態管理\n  const [isLearningMode, setIsLearningMode] = useState(false);\n  const [selectedPattern, setSelectedPattern] = useState(null);\n  const [learningProgress, setLearningProgress] = useState({\n    totalSessions: 0,\n    completedCases: [],\n    caseAccuracy: {}, // 症例別の精度 {caseId: {total: number, correct: number, accuracy: number}}\n    lastSessionDate: null\n  });\n  const [showLegend, setShowLegend] = useState(true); // ← FIX: define showLegend state\n\n  // Preset targets (secret answer)\n  const [targets, setTargets] = useState([]);\n  const [selectedPreset, setSelectedPreset] = useState('A');\n\n  // Measurement log for masking comparison\n  const [measurementLog, setMeasurementLog] = useState([]);\n  \n\n  // Training mode state\n  const [isTrainingMode, setIsTrainingMode] = useState(false);\n  const [trainingCase, setTrainingCase] = useState(null);\n  const [trainingResults, setTrainingResults] = useState([]);\n\n  // Loading states\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Refs / layout\n  const containerRef = useRef(null);\n  const chartHostRef = useRef(null);\n  const overlayRef = useRef(null);\n  const plotCalRef = useRef({ scaleY: 1, deltaTop: 0 });\n  // Fixed-size chart: plotting area derived from CELL_PX and margins (no ResponsiveContainer)\n  const chartW = GRID_W + AXIS_LEFT + AXIS_RIGHT; // widened right margin to avoid 8000 label clipping\n  const chartH = GRID_H + AXIS_TOP + AXIS_BOTTOM;\n\n  // Auto-hide legend if plotting box is too small (safety)\n  useEffect(() => {\n    setShowLegend(chartH * CHART_SCALE > 220);\n  }, [chartH]);\n\n  // --- Plot calibration: measure real grid box and align overlay ---\n  useLayoutEffect(() => {\n    const host = chartHostRef.current;\n    const ov = overlayRef.current;\n    if (!host || !ov) return;\n    const gridG = host.querySelector('g.recharts-cartesian-grid');\n    if (!gridG || !gridG.getBoundingClientRect) return;\n    const gridRect = gridG.getBoundingClientRect();\n    const ovRect = ov.getBoundingClientRect();\n    const scaleY = gridRect.height / Math.max(1, ovRect.height);\n    const deltaTop = gridRect.top - ovRect.top; // 上端の差（オーバーレイ→グリッド）\n    plotCalRef.current = { scaleY, deltaTop };\n  });\n\n  // --- Dev sanity checks (non-intrusive) ---\n  useEffect(() => {\n    try {\n      console.assert(Array.isArray(FREQS) && FREQS.length === 7, 'FREQS should have 7 items');\n      console.assert(SERIES.every(s => s.key && s.color && s.shape), 'SERIES entries must have key/color/shape');\n      const sampleTicks = Array.from({length: FREQS.length}, (_,i)=> i).map(formatFreq);\n      console.assert(sampleTicks.every(t => String(t).length > 0), 'formatFreq should produce labels');\n      // quick unit-like check for getThr mapping using PRESET_A\n      const tmap = new Map();\n      PRESET_A.targets.filter(t=>t.masked===false).forEach(t=>{\n        const key = `${t.ear}|${t.transducer}|${t.freq}`;\n        const base = t.so ? ((t.transducer==='AC'?(AC_MAX[t.freq]??110):(BC_MAX[t.freq]??110))+50) : t.dB;\n        tmap.set(key, {dB: base});\n      });\n      const k = 'R|AC|1000';\n      console.assert(tmap.get(k)?.dB === 5, 'getThr baseline sanity (R AC 1kHz should be 5 dB)');\n      // helpers\n      console.assert(round5(52) === 50 && round5(53) === 55, 'round5 should snap to nearest 5');\n      console.assert(maxPresentable('AC', 1000) === 110, 'AC max @1k should be 110');\n      // ensure getThr (component-scope) resolves with targetMap in place\n      console.assert(Number.isFinite(getThr('R','AC',1000)), 'getThr should resolve for R AC 1k');\n\n      // === Added self-tests per spec (1) 5dB丸め, (2) -10/120クランプ, (3) 0/50/100整合 ===\n      // Pure mapping test with synthetic geometry\n      const yMin=-10, yMax=120, gridH= (yMax - yMin); // 1px == 1dB for synthetic\n      const mapYToDb = (y)=> yMin + (Math.max(0, Math.min(gridH, y)) / gridH) * (yMax - yMin);\n      const assertNear5 = (val, expect)=> console.assert(Math.abs(round5(val) - expect) <= 0, `round5(${val}) ~= ${expect}`);\n      assertNear5(mapYToDb( (0) ), -10);\n      assertNear5(mapYToDb( gridH*0.5 ), 55); // 中央\n      assertNear5(mapYToDb( gridH ), 120);\n      // clamp extremes\n      console.assert(Math.min(yMax, Math.max(yMin, -15)) === -10, 'clamp top to -10dB');\n      console.assert(Math.min(yMax, Math.max(yMin, 130)) === 120, 'clamp bottom to 120dB');\n\n      // showLegend presence\n      console.assert(typeof showLegend === 'boolean', 'showLegend should be boolean');\n\n      // masking logic quick checks\n      const targets = PRESET_A.targets;\n      const localMap = new Map();\n      targets.filter(t=>t.masked===false).forEach(t=>{\n        const overMax = (t.transducer==='AC' ? (AC_MAX[t.freq] ?? 110) : (BC_MAX[t.freq] ?? 110)) + 50;\n        localMap.set(`${t.ear}|${t.transducer}|${t.freq}`, { dB: t.so ? overMax : t.dB });\n      });\n      const _getThr = (earKey, transKey, f)=> (localMap.get(`${earKey}|${transKey}|${f}`)?.dB ?? Infinity);\n      const _hears = (earKey, transKey, f, L, maskedFlag, maskLvl)=>{\n        const teThr = _getThr(earKey, transKey, f);\n        const testEarHeard = L >= teThr;\n        const nte = earKey === 'R' ? 'L' : 'R';\n        const ia = getIA(transKey, f);\n        const leakedToNTE = L - ia;\n        const nteBC = _getThr(nte, 'BC', f);\n        const effectiveMask = (maskedFlag && maskLvl > nteBC) ? maskLvl : nteBC;\n        const crossHeard = leakedToNTE >= effectiveMask;\n        return testEarHeard || crossHeard;\n      };\n      console.assert(_hears('R','AC',1000,10,false,-15) === true, 'test-ear hears >= thr');\n      console.assert(_hears('R','AC',2000,70,true,80) === true, 'effective masking keeps true via test-ear');\n    } catch (e) {\n      console.warn('Sanity check failed:', e);\n    }\n  }, [showLegend]);\n\n  // Overlay answer (blink)\n  const [showAnswer, setShowAnswer] = useState(false);\n  const [overMaskingWarning, setOverMaskingWarning] = useState(true); // オーバーマスキング警告のON/OFF\n  const [crossHearingWarning, setCrossHearingWarning] = useState(true); // クロスヒアリング警告のON/OFF\n  const [blinkOn, setBlinkOn] = useState(true);\n\n  useEffect(() => {\n    if (!showAnswer) return;\n    const id = setInterval(() => setBlinkOn(b => !b), 700);\n    return () => clearInterval(id);\n  }, [showAnswer]);\n\n  // Debug: log showAnswer state changes\n  useEffect(() => {\n    console.log('showAnswer changed:', showAnswer);\n  }, [showAnswer]);\n\n  // Keyboard: Arrow keys for navigation and level control\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const onKeyDown = (e) => {\n      const el = e.target;\n      const tag = (el && el.tagName) ? el.tagName.toUpperCase() : '';\n      const type = (el && el.type) ? String(el.type).toLowerCase() : '';\n      const isTypingField = (tag === 'INPUT' && (type === 'text' || type === 'number' || type === 'search' || type === 'email' || type === 'password'))\n                           || tag === 'TEXTAREA'\n                           || (el && el.isContentEditable === true);\n      if (isTypingField) return;\n\n      // 周波数変更（左右キー）\n      if (e.key === 'ArrowRight') {\n        e.preventDefault();\n        console.log('右キー押下');\n        setFreq((prev) => {\n          const idx = Math.max(0, FREQS.indexOf(prev));\n          const nextIdx = Math.min(FREQS.length - 1, idx + 1);\n          return FREQS[nextIdx];\n        });\n      }\n      if (e.key === 'ArrowLeft') {\n        e.preventDefault();\n        console.log('左キー押下');\n        setFreq((prev) => {\n          const idx = Math.max(0, FREQS.indexOf(prev));\n          const nextIdx = Math.max(0, idx - 1);\n          return FREQS[nextIdx];\n        });\n      }\n\n      // レベル調整（上下キー）- 上下を逆にして、自動打点\n      if (e.key === 'ArrowUp') {\n        e.preventDefault();\n        console.log('上キー押下');\n        setLevel((prev) => {\n          const newLevel = Math.min(Y_MAX, prev - 5); // 上キーで-5dB\n          setSuppressLamp(false);\n          // 自動で打点追加（応答ランプが点灯した時のみログ記録）\n          setTimeout(() => {\n            addOrReplacePoint({ ear, transducer: trans, masked, freq, dB: round5(newLevel) });\n          }, 50);\n          return newLevel;\n        });\n      }\n      if (e.key === 'ArrowDown') {\n        e.preventDefault();\n        console.log('下キー押下');\n        setLevel((prev) => {\n          const newLevel = Math.max(Y_MIN, prev + 5); // 下キーで+5dB\n          setSuppressLamp(false);\n          // 自動で打点追加（応答ランプが点灯した時のみログ記録）\n          setTimeout(() => {\n            addOrReplacePoint({ ear, transducer: trans, masked, freq, dB: round5(newLevel) });\n          }, 50);\n          return newLevel;\n        });\n      }\n\n      // Deleteキーで現在の打点削除\n      if (e.key === 'Delete' || e.key === 'Backspace') {\n        e.preventDefault();\n        removePointAtCurrent();\n      }\n    };\n    window.addEventListener('keydown', onKeyDown, { capture: true });\n    return () => {\n      window.removeEventListener('keydown', onKeyDown, { capture: true });\n    };\n  }, [ear, trans, masked, freq, level]);\n\n  // 周波数が変わったら一度ランプを消灯\n  useEffect(() => { setSuppressLamp(true); }, [freq]);\n\n  const freqIndex = useMemo(() => Math.max(0, FREQS.indexOf(freq)), [freq]);\n  function moveFreq(dir /* -1 | 1 */) {\n    let idx = clamp(freqIndex + dir, 0, FREQS.length - 1);\n    // BC時は125/8000Hzをスキップ\n    if (trans === 'BC') {\n      while (BC_DISABLED.has(FREQS[idx])) {\n        idx = clamp(idx + dir, 0, FREQS.length - 1);\n        if (idx === 0 || idx === FREQS.length - 1) break;\n      }\n    }\n    setFreq(FREQS[idx]);\n  }\n\n  // clicking on chart -> add/replace point for current ear/trans/masked+freq\n  function addOrReplacePoint(p) {\n    if (p.transducer === 'BC' && BC_DISABLED.has(p.freq)) {\n      setSuppressLamp(true);\n      return;\n    }\n    const p2 = { ...p, masked: p.masked };\n    const max = maxPresentable(p2.transducer, p2.freq);\n    const atMax = p2.dB >= max;\n    const heardAtMax = hearsAtLevel(p2.ear, p2.transducer, p2.freq, max);\n    const so = atMax && !heardAtMax;\n    const p3 = { ...p2, dB: atMax ? max : p2.dB, ...(so ? { so: true } : {}) };\n\n    setPoints(prev => {\n      const k = (x) => `${x.ear}|${x.transducer}|${x.masked ? 'M' : 'U'}|${x.freq}`;\n      const kp = k(p3);\n      const others = prev.filter(q => k(q) !== kp);\n      return [...others, p3].sort((a,b)=> (a.freq-b.freq) || (a.dB-b.dB));\n    });\n\n    // Add to measurement log only when lamp is on (response detected)\n    const lampOn = hearsAtLevel(p3.ear, p3.transducer, p3.freq, p3.dB);\n    if (lampOn) {\n      const logEntry = {\n        id: Date.now(),\n        timestamp: new Date().toLocaleTimeString(),\n        ear: p3.ear,\n        transducer: p3.transducer,\n        freq: p3.freq,\n        dB: p3.dB,\n        masked: p3.masked,\n        maskLevel: masked ? maskLevel : -15,\n        so: !!p3.so,\n        caseId: selectedPreset\n      };\n      setMeasurementLog(prev => [...prev, logEntry]);\n      \n      // Update learning progress\n      setLearningProgress(prev => ({\n        ...prev,\n        totalMeasurements: prev.totalMeasurements + 1,\n        lastSessionDate: new Date().toISOString().split('T')[0]\n      }));\n    }\n    \n    setSuppressLamp(false);\n  }\n\n  // Precise hit: map overlay click to real grid using measured scale/offset\n  function handlePlotClick(e){\n    if (trans === 'BC' && BC_DISABLED.has(freq)) { setSuppressLamp(true); return; }\n    const ov = overlayRef.current;\n    if (!ov) return;\n    const ovRect = ov.getBoundingClientRect();\n    \n    // クリック位置をオーバーレイ内の相対座標に変換\n    const clickX = e.clientX - ovRect.left;\n    const clickY = e.clientY - ovRect.top;\n    \n    // Y軸の範囲を計算（オーディオグラムは上から下に-10dBから120dB）\n    const yRange = Y_MAX - Y_MIN; // 130dB\n    const yRatio = clickY / ovRect.height; // 0から1の比率\n    \n    // RechartsのY軸はreversed=trueなので、座標変換を修正\n    // 上（yRatio=0）が120dB、下（yRatio=1）が-10dB\n    let dBraw = Y_MIN + (yRatio * yRange);\n    dBraw += CAL_OFFSET_DB; // optional small offset (kept 0 by default)\n    const dBclamped = clamp(round5(dBraw), Y_MIN, Y_MAX);\n\n    const max = maxPresentable(trans, freq);\n    const atMax = dBclamped >= max;\n    const heardAtMax = hearsAtLevel(ear, trans, freq, max);\n    const so = atMax && !heardAtMax;\n\n    const p = { ear, transducer: trans, masked, freq, dB: atMax ? max : dBclamped, ...(so ? { so: true } : {}) };\n    addOrReplacePoint(p);\n    setLevel(p.dB);\n    setSuppressLamp(false);\n  }\n\n  function removePointAtCurrent() {\n    setPoints(prev => prev.filter(q => !(\n      q.ear===ear && q.transducer===trans && q.freq===freq && q.masked===masked\n    )));\n  }\n  function clearAll() { setPoints([]); }\n\n  // ---- Target lookup for cross-hearing & lamp logic ----\n  const targetMap = useMemo(() => {\n    const map = new Map();\n    (targets||[]).forEach(t => {\n      if (!t || t.masked !== false || typeof t.freq !== 'number') return;\n      const overMax = (t.transducer==='AC' ? (AC_MAX[t.freq] ?? 110) : (BC_MAX[t.freq] ?? 110)) + 50;\n      const dB = t.so ? overMax : t.dB;\n      map.set(`${t.ear}|${t.transducer}|${t.freq}`, { dB });\n    });\n    return map;\n  }, [targets]);\n\n  // オーバーマスキング検出\n  const isOverMasking = useMemo(() => {\n    if (!masked || !overMaskingWarning) return false;\n    \n    const testEarBC = getThr(ear, 'BC', freq);\n    if (testEarBC === Infinity) {\n      return false;\n    }\n    \n    // マスキングの上限 = 測定耳BC閾値 + 50dB\n    const maskingLimit = testEarBC + 50;\n    \n    // マスキングレベルが上限を超えている場合\n    return maskLevel > maskingLimit;\n  }, [masked, maskLevel, ear, freq, overMaskingWarning, targetMap]);\n\n  // クロスヒアリング検出\n  const crossHearingInfo = useMemo(() => {\n    if (!crossHearingWarning) return { isCrossHearing: false, details: null };\n    \n    const testEarThreshold = getThr(ear, trans, freq);\n    if (testEarThreshold === Infinity) {\n      return { isCrossHearing: false, details: null };\n    }\n    \n    const nte = ear === 'R' ? 'L' : 'R';\n    const ia = getIA(trans, freq);\n    const leakedToNTE = level - ia;\n    const nteBC = getThr(nte, 'BC', freq);\n    \n    // マスキングが適用されている場合の効果的なマスキングレベル\n    let effectiveMask = nteBC;\n    if (masked && maskLevel > nteBC) {\n      effectiveMask = maskLevel;\n    }\n    \n    // クロスヒアリングが発生する条件\n    const isCrossHearing = leakedToNTE >= effectiveMask;\n    \n    if (isCrossHearing) {\n      return {\n        isCrossHearing: true,\n        details: {\n          testEarThreshold,\n          leakedToNTE,\n          nteBC,\n          effectiveMask,\n          ia,\n          nte\n        }\n      };\n    }\n    \n    return { isCrossHearing: false, details: null };\n  }, [level, ear, trans, freq, masked, maskLevel, crossHearingWarning, targetMap]);\n\n  // IA値を取得する関数\n  function getIA(transducer, frequency) {\n    return iaSettings[transducer]?.[frequency] ?? 0;\n  }\n\n  // 学習パターンをロードする関数\n  function loadLearningPattern(patternKey) {\n    const pattern = LEARNING_PATTERNS[patternKey];\n    if (!pattern) return;\n    \n    const targets = [];\n    \n    // 右耳のデータを追加\n    pattern.pattern.R.AC.forEach(([freq, dB]) => {\n      targets.push({ ear: 'R', transducer: 'AC', freq, dB, masked: false });\n    });\n    pattern.pattern.R.BC.forEach(([freq, dB]) => {\n      targets.push({ ear: 'R', transducer: 'BC', freq, dB, masked: false });\n    });\n    \n    // 左耳のデータを追加\n    pattern.pattern.L.AC.forEach(([freq, dB]) => {\n      targets.push({ ear: 'L', transducer: 'AC', freq, dB, masked: false });\n    });\n    pattern.pattern.L.BC.forEach(([freq, dB]) => {\n      targets.push({ ear: 'L', transducer: 'BC', freq, dB, masked: false });\n    });\n    \n    setTargets(targets);\n    setSelectedPattern(patternKey);\n    setPoints([]);\n    setIsLearningMode(true);\n  }\n\n  function getThr(earKey, transKey, f) {\n    const key = `${earKey}|${transKey}|${f}`;\n    const v = targetMap.get(key);\n    \n    \n    if (v && typeof v.dB === 'number') {\n      // SO（Scale-Out）の場合は最大値+50dBを返す\n      if (v.dB >= 110) {\n        return (transKey === 'AC' ? (AC_MAX[f] ?? 110) : (BC_MAX[f] ?? 110)) + 50;\n      }\n      return v.dB;\n    }\n    return Infinity; // missing → treat as no response\n  }\n\n  function hearsAtLevel(earKey, transKey, f, L) {\n    const teThr = getThr(earKey, transKey, f);\n    const nte = earKey === 'R' ? 'L' : 'R';\n    const ia = getIA(transKey, f);\n    const leakedToNTE = L - ia;\n    \n    // マスキングの基本原理：\n    // AC測定時：非測定耳のBC閾値と比較\n    // BC測定時：非測定耳のBC閾値と比較\n    const nteBC = getThr(nte, 'BC', f);\n    \n    // マスキングの計算\n    let effectiveMask = nteBC;\n    if (masked && maskLevel > nteBC) {\n      // マスキングレベルが非測定耳BC閾値より高い場合\n      effectiveMask = maskLevel;\n    }\n    \n    const crossHeard = leakedToNTE >= effectiveMask;\n    \n    // オーバーマスキングの計算\n    let actualThreshold = teThr;\n    if (masked) {\n      // AC/BC測定時のオーバーマスキング計算\n      // マスキングの上限 = 測定耳BC閾値 + 50dB\n      const testEarBC = getThr(earKey, 'BC', f);\n      const maskingLimit = testEarBC + 50;\n      \n      if (maskLevel > maskingLimit) {\n        // オーバーマスキング発生\n        const overMasking = maskLevel - maskingLimit;\n        actualThreshold = teThr + overMasking;\n      }\n    }\n    \n    // 実際の閾値（オーバーマスキング考慮後）で判定\n    const testEarHeard = L >= actualThreshold;\n    \n    return testEarHeard || crossHeard;\n  }\n\n  // series data (user)\n  const seriesData = useMemo(() => {\n    const m = {}; SERIES.forEach(s => m[s.key] = []);\n    points.forEach(p => {\n      const key = seriesKey(p);\n      if (!m[key]) m[key] = [];\n      const i = Math.max(0, FREQS.indexOf(p.freq));\n      const xIdx = i;\n      m[key].push({ x: xIdx, idx: i, y: p.dB, ...(p.so ? { so: true } : {}) });\n    });\n    return m;\n  }, [points]);\n\n  // AC lines (connect) — break at Scale-Out and at gaps\n  const acLineData = useMemo(() => {\n    const out = {};\n    SERIES.filter(s => s.key.includes('-AC')).forEach(s => {\n      out[s.key] = FREQS.map((_, i) => ({ x: i, y: null }));\n      const pts = seriesData[s.key] || [];\n      pts.forEach(p => {\n        const i = p.x;\n        if (!p || typeof i !== 'number') return;\n        out[s.key][i] = p.so ? { x: i, y: null } : { x: i, y: p.y };\n      });\n    });\n    return out;\n  }, [seriesData]);\n\n  // Build answer overlay series from loaded targets (markers)\n  const answerSeriesData = useMemo(() => {\n    const m = {}; SERIES.forEach(s => m[s.key] = []);\n    (targets||[]).forEach(t => {\n      if (t.transducer === 'BC' && BC_DISABLED.has(t.freq)) return;\n      const i = Math.max(0, FREQS.indexOf(t.freq));\n      const xIdx = i;\n      const isSO = !!t.so;\n      const yVal = isSO\n        ? (t.transducer === 'AC' ? (AC_MAX[t.freq] ?? 110) : (BC_MAX[t.freq] ?? 110))\n        : t.dB;\n      // ACの場合はマスキング状態を区別しない、BCの場合は常にmaskedのキーを使用\n      const key = t.transducer === 'AC' \n        ? `${t.ear}-${t.transducer}` \n        : `${t.ear}-${t.transducer}-M`;\n      m[key] = m[key] || [];\n      m[key].push({ x: xIdx, y: yVal, ...(isSO ? { so:true } : {}) });\n    });\n    console.log('answerSeriesData generated:', m);\n    return m;\n  }, [targets]);\n\n  // Answer AC lines: break at SO and at gaps by inserting null placeholders\n  const answerLineData = useMemo(() => {\n    const out = {};\n    SERIES.filter(s => s.key.includes('-AC')).forEach(s => {\n      out[s.key] = FREQS.map((_, i) => ({ x: i, y: null }));\n      const pts = (answerSeriesData[s.key] || []);\n      pts.forEach(p => {\n        const i = p.x;\n        if (!p || typeof i !== 'number') return;\n        out[s.key][i] = p.so ? { x: i, y: null } : { x: i, y: p.y };\n      });\n    });\n    return out;\n  }, [answerSeriesData]);\n\n  // Response lamp (current condition vs target >= OR cross-hearing)\n  const currentTarget = useMemo(() => (targets||[]).find(x => x.ear===ear && x.transducer===trans && x.masked===false && x.freq===freq), [targets, ear, trans, freq]);\n  const lampOn = useMemo(() => {\n    if (!currentTarget) return false;\n    if (suppressLamp) return false; // 抑制中は消灯\n    const L = round5(level);\n    \n    // オーバーマスキングを考慮した応答判定\n    return hearsAtLevel(ear, trans, freq, L);\n  }, [currentTarget, level, ear, trans, freq, masked, maskLevel, targetMap, suppressLamp]);\n\n  // オーバーマスキングを考慮した実際の閾値を取得\n  function getActualThreshold(earKey, transKey, f) {\n    const baseThreshold = getThr(earKey, transKey, f);\n    \n    if (masked) {\n      // AC/BC測定時のオーバーマスキング計算\n      // マスキングの上限 = 測定耳BC閾値 + 50dB\n      const testEarBC = getThr(earKey, 'BC', f);\n      const maskingLimit = testEarBC + 50;\n      \n      if (maskLevel > maskingLimit) {\n        // オーバーマスキング発生\n        const overMasking = maskLevel - maskingLimit;\n        return baseThreshold + overMasking;\n      }\n    }\n    \n    return baseThreshold;\n  }\n\n  // 正答との比較機能\n  function checkAccuracy() {\n    if (!targets || targets.length === 0) return { total: 0, correct: 0, accuracy: 0 };\n    \n    let total = 0;\n    let correct = 0;\n    \n    // 各正答に対して、ユーザーの測定結果をチェック\n    targets.forEach(target => {\n      if (target.transducer === 'BC' && BC_DISABLED.has(target.freq)) return;\n      \n      total++;\n      \n      // 同じ条件（耳、トランスデューサー、周波数）の測定結果を探す\n      // マスキング状態は問わず、最終的な閾値のみで判定\n      const userMeasurement = points.find(p => \n        p.ear === target.ear && \n        p.transducer === target.transducer && \n        p.freq === target.freq\n      );\n      \n      if (userMeasurement) {\n        // 閾値が完全一致なら正解とする\n        if (userMeasurement.dB === target.dB) {\n          correct++;\n        }\n      }\n    });\n    \n    return {\n      total,\n      correct,\n      accuracy: total > 0 ? Math.round((correct / total) * 100) : 0\n    };\n  }\n\n  // セッション完了判定\n  function isSessionComplete() {\n    if (!targets || targets.length === 0) return false;\n    \n    const accuracy = checkAccuracy();\n    // 全ての測定が完了しているか、または80%以上の精度で完了とみなす\n    return accuracy.total === targets.length || accuracy.accuracy >= 80;\n  }\n\n  // CSV出力機能\n  function exportToCSV() {\n    if (measurementLog.length === 0) {\n      alert('出力するデータがありません');\n      return;\n    }\n    \n    const headers = ['No', '時刻', '耳', 'トランスデューサー', '周波数(Hz)', '閾値(dB)', 'マスキング', 'マスキングレベル(dB)', 'Scale-Out'];\n    const csvContent = [\n      headers.join(','),\n      ...measurementLog.map((log, index) => [\n        index + 1,\n        log.timestamp,\n        log.ear,\n        log.transducer,\n        log.freq,\n        log.dB,\n        log.masked ? 'ON' : 'OFF',\n        log.masked ? log.maskLevel : '-',\n        log.so ? 'Yes' : 'No'\n      ].join(','))\n    ].join('\\n');\n    \n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `audiogram_measurement_${new Date().toISOString().split('T')[0]}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n\n  // レポート表示機能\n  function generateReport() {\n    if (Object.keys(learningProgress.caseAccuracy).length === 0) {\n      alert('完了した症例がありません。\\n症例をロードして「正答照合」でセッションを完了してからレポートを生成してください。');\n      return;\n    }\n    \n    // レポートデータを準備（学習効果重視）\n    const completedCases = Object.keys(learningProgress.caseAccuracy);\n    const totalAccuracy = completedCases.length > 0 ? \n      Math.round(completedCases.reduce((sum, caseId) => sum + learningProgress.caseAccuracy[caseId].accuracy, 0) / completedCases.length) : 0;\n    \n    const reportData = {\n      title: 'オーディオグラム学習レポート',\n      date: new Date().toLocaleDateString('ja-JP'),\n      completedCases: completedCases.length,\n      totalCases: 8,\n      averageAccuracy: totalAccuracy,\n      caseResults: completedCases.map(caseId => ({\n        caseId,\n        accuracy: learningProgress.caseAccuracy[caseId].accuracy,\n        total: learningProgress.caseAccuracy[caseId].total,\n        correct: learningProgress.caseAccuracy[caseId].correct,\n        completedAt: learningProgress.caseAccuracy[caseId].completedAt\n      })),\n      learningProgress: learningProgress,\n      iaSettings: iaSettings\n    };\n    \n    // レポートを新しいウィンドウで表示\n    const reportWindow = window.open('', '_blank', 'width=800,height=600,scrollbars=yes');\n    reportWindow.document.write(`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>オーディオグラム測定レポート</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; }\n          .header { background: #f0f0f0; padding: 20px; border-radius: 8px; margin-bottom: 20px; }\n          .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }\n          .stat-card { background: #e8f4fd; padding: 15px; border-radius: 8px; text-align: center; }\n          .stat-number { font-size: 24px; font-weight: bold; color: #2563eb; }\n          .stat-label { color: #64748b; margin-top: 5px; }\n          .measurements { background: #f8fafc; padding: 15px; border-radius: 8px; }\n          .measurement-item { background: white; margin: 5px 0; padding: 10px; border-radius: 4px; border-left: 4px solid #3b82f6; }\n          .download-btn { background: #10b981; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 10px 0; }\n        </style>\n      </head>\n      <body>\n        <div class=\"header\">\n          <h1>${reportData.title}</h1>\n          <p>生成日時: ${reportData.date}</p>\n        </div>\n        \n        <div class=\"stats\">\n          <div class=\"stat-card\">\n            <div class=\"stat-number\">${reportData.completedCases}/${reportData.totalCases}</div>\n            <div class=\"stat-label\">完了症例数</div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-number\">${reportData.averageAccuracy}%</div>\n            <div class=\"stat-label\">平均精度</div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-number\">${reportData.learningProgress.totalSessions}</div>\n            <div class=\"stat-label\">学習セッション数</div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-number\">${reportData.learningProgress.lastSessionDate || '未実施'}</div>\n            <div class=\"stat-label\">最終学習日</div>\n          </div>\n        </div>\n        \n        <div class=\"measurements\">\n          <h3>症例別学習結果</h3>\n          ${reportData.caseResults.length > 0 ? reportData.caseResults.map(result => `\n            <div class=\"measurement-item\">\n              <strong>症例${result.caseId}</strong> - \n              精度: ${result.accuracy}% (${result.correct}/${result.total}) | \n              完了日: ${new Date(result.completedAt).toLocaleDateString('ja-JP')}\n            </div>\n          `).join('') : '<p>まだ完了した症例がありません。症例をロードして「正答照合」でセッションを完了してください。</p>'}\n        </div>\n        \n        <button class=\"download-btn\" onclick=\"downloadJSON()\">JSONファイルをダウンロード</button>\n        \n        <script>\n          const reportData = ${JSON.stringify(reportData, null, 2)};\n          \n          function downloadJSON() {\n            const blob = new Blob([JSON.stringify(reportData, null, 2)], { type: 'application/json' });\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = 'audiogram_report_${new Date().toISOString().split('T')[0]}.json';\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            URL.revokeObjectURL(url);\n          }\n        </script>\n      </body>\n      </html>\n    `);\n    reportWindow.document.close();\n  }\n\n  // セッション完了機能\n  function completeSession() {\n    const accuracy = checkAccuracy();\n    const caseId = selectedPreset;\n    \n    // 症例別の精度を更新\n    setLearningProgress(prev => ({\n      ...prev,\n      caseAccuracy: {\n        ...prev.caseAccuracy,\n        [caseId]: {\n          total: accuracy.total,\n          correct: accuracy.correct,\n          accuracy: accuracy.accuracy,\n          completedAt: new Date().toISOString()\n        }\n      },\n      completedCases: [...prev.completedCases, caseId]\n    }));\n    \n    alert(`症例${caseId}のセッションが完了しました！\\n精度: ${accuracy.accuracy}% (${accuracy.correct}/${accuracy.total})`);\n  }\n\n  // 症例自動生成機能（現実的な難聴パターン）\n  function generateTrainingCase() {\n    const frequencies = [125, 250, 500, 1000, 2000, 4000, 8000];\n    const ears = ['R', 'L'];\n    \n    // 難聴のタイプをランダムに選択\n    const hearingLossTypes = [\n      'normal',      // 正常聴力\n      'mild',        // 軽度難聴\n      'moderate',    // 中等度難聴\n      'severe',      // 高度難聴\n      'mixed',       // 混合性難聴\n      'high_freq'    // 高音漸傾型\n    ];\n    \n    const selectedType = hearingLossTypes[Math.floor(Math.random() * hearingLossTypes.length)];\n    \n    // 現実的な難聴パターンを生成\n    const caseData = {\n      id: `TRAINING_${Date.now()}`,\n      name: 'トレーニング症例',\n      targets: [],\n      hearingLossType: selectedType\n    };\n    \n    ears.forEach(ear => {\n      // AC閾値を生成\n      frequencies.forEach(freq => {\n        let acThreshold;\n        \n        switch (selectedType) {\n          case 'normal':\n            acThreshold = Math.floor(Math.random() * 3) * 5; // 0-10dB\n            break;\n          case 'mild':\n            acThreshold = 15 + Math.floor(Math.random() * 4) * 5; // 15-30dB\n            break;\n          case 'moderate':\n            acThreshold = 35 + Math.floor(Math.random() * 6) * 5; // 35-60dB\n            break;\n          case 'severe':\n            acThreshold = 65 + Math.floor(Math.random() * 6) * 5; // 65-90dB\n            break;\n          case 'mixed':\n            acThreshold = 25 + Math.floor(Math.random() * 8) * 5; // 25-60dB\n            break;\n          case 'high_freq':\n            // 高音漸傾型：低音は正常〜軽度、高音は中等度〜高度\n            if (freq <= 1000) {\n              acThreshold = Math.floor(Math.random() * 4) * 5; // 0-15dB\n            } else if (freq <= 2000) {\n              acThreshold = 10 + Math.floor(Math.random() * 4) * 5; // 10-25dB\n            } else {\n              acThreshold = 30 + Math.floor(Math.random() * 8) * 5; // 30-65dB\n            }\n            break;\n        }\n        \n        // AC閾値を制限内に収める\n        acThreshold = Math.min(acThreshold, AC_MAX[freq] ?? 110);\n        \n        caseData.targets.push({\n          ear,\n          transducer: 'AC',\n          freq,\n          dB: acThreshold,\n          masked: false\n        });\n      });\n      \n      // BC閾値を生成（ACより良いか同じ）\n      frequencies.forEach(freq => {\n        if (BC_DISABLED.has(freq)) return;\n        \n        const acTarget = caseData.targets.find(t => \n          t.ear === ear && t.transducer === 'AC' && t.freq === freq\n        );\n        \n        let bcThreshold;\n        \n        if (selectedType === 'mixed') {\n          // 混合性難聴：BCはACより10-30dB良い\n          bcThreshold = Math.max(0, acTarget.dB - (10 + Math.floor(Math.random() * 4) * 5));\n        } else if (selectedType === 'normal' || selectedType === 'mild') {\n          // 正常〜軽度：BCはACと同じか少し良い\n          bcThreshold = Math.max(0, acTarget.dB - Math.floor(Math.random() * 3) * 5);\n        } else {\n          // その他：BCはACと同じか少し良い（感音難聴）\n          bcThreshold = Math.max(0, acTarget.dB - Math.floor(Math.random() * 2) * 5);\n        }\n        \n        // BC閾値を制限内に収める\n        bcThreshold = Math.min(bcThreshold, BC_MAX[freq] ?? 110);\n        \n        caseData.targets.push({\n          ear,\n          transducer: 'BC',\n          freq,\n          dB: bcThreshold,\n          masked: false\n        });\n      });\n    });\n    \n    return caseData;\n  }\n\n  // トレーニングモード開始\n  function startTrainingMode() {\n    const newCase = generateTrainingCase();\n    setTrainingCase(newCase);\n    setIsTrainingMode(true);\n    setPoints([]);\n    setTargets(buildTargetsFromPreset(newCase));\n    setSelectedPreset('TRAINING');\n  }\n\n  // トレーニングモード終了\n  function endTrainingMode() {\n    setIsTrainingMode(false);\n    setTrainingCase(null);\n    setPoints([]);\n    setTargets([]);\n    setSelectedPreset('A');\n  }\n\n  // トレーニング結果の記録\n  function recordTrainingResult() {\n    if (!trainingCase) return;\n    \n    const accuracy = checkAccuracy();\n    const result = {\n      id: trainingCase.id,\n      timestamp: new Date().toISOString(),\n      accuracy: accuracy.accuracy,\n      total: accuracy.total,\n      correct: accuracy.correct,\n      caseData: trainingCase\n    };\n    \n    setTrainingResults(prev => [...prev, result]);\n    \n    // 学習進捗も更新\n    setLearningProgress(prev => ({\n      ...prev,\n      totalSessions: prev.totalSessions + 1,\n      lastSessionDate: new Date().toISOString().split('T')[0]\n    }));\n    \n    alert(`トレーニング完了！\\n精度: ${accuracy.accuracy}% (${accuracy.correct}/${accuracy.total})`);\n  }\n\n  // 正答照合とセッション完了機能\n  function checkAnswersAndCompleteSession() {\n    if (!targets || targets.length === 0) {\n      alert('症例をロードしてから正答照合を行ってください');\n      return;\n    }\n\n    // トレーニングモードの場合は特別処理\n    if (isTrainingMode) {\n      recordTrainingResult();\n      return;\n    }\n\n    const accuracy = checkAccuracy();\n    const caseId = selectedPreset;\n    \n    // 症例別の精度を更新\n    setLearningProgress(prev => ({\n      ...prev,\n      caseAccuracy: {\n        ...prev.caseAccuracy,\n        [caseId]: {\n          total: accuracy.total,\n          correct: accuracy.correct,\n          accuracy: accuracy.accuracy,\n          completedAt: new Date().toISOString()\n        }\n      },\n      completedCases: [...prev.completedCases, caseId]\n    }));\n    \n    // 詳細な結果を表示\n    const resultMessage = `症例${caseId}のセッションが完了しました！\n\n【結果】\n・測定項目数: ${accuracy.total}項目\n・正解数: ${accuracy.correct}項目\n・精度: ${accuracy.accuracy}%\n\n【詳細】\n${targets.map((target, index) => {\n  if (target.transducer === 'BC' && BC_DISABLED.has(target.freq)) return '';\n  \n  const userMeasurement = points.find(p => \n    p.ear === target.ear && \n    p.transducer === target.transducer && \n    p.freq === target.freq\n  );\n  \n  const isCorrect = userMeasurement ? userMeasurement.dB === target.dB : false;\n  const diff = userMeasurement ? Math.abs(userMeasurement.dB - target.dB) : null;\n  \n  return `${target.ear} ${target.transducer} ${target.freq}Hz: ${userMeasurement ? `${userMeasurement.dB}dB (正答: ${target.dB}dB, 差: ${diff}dB) ${isCorrect ? '✓' : '✗'}` : '未測定 ✗'}`;\n}).filter(line => line !== '').join('\\n')}`;\n\n    alert(resultMessage);\n  }\n\n  // Reset progress function\n  function resetProgress() {\n    if (window.confirm('学習進捗をリセットしますか？この操作は取り消せません。')) {\n      setLearningProgress({\n        totalSessions: 0,\n        completedCases: [],\n        caseAccuracy: {},\n        lastSessionDate: null\n      });\n      setMeasurementLog([]);\n    }\n  }\n\n  // パスワード認証画面\n  if (!isAuthenticated) {\n    return (\n      <div className=\"w-full min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full mx-4\">\n          <div className=\"text-center mb-6\">\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">オーディオグラム講習会</h1>\n            <p className=\"text-gray-600\">参加用パスワードを入力してください</p>\n          </div>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">パスワード</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && password === TRAINING_PASSWORD && setIsAuthenticated(true)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"講習会パスワード\"\n              />\n            </div>\n            <button\n              onClick={() => password === TRAINING_PASSWORD && setIsAuthenticated(true)}\n              disabled={password !== TRAINING_PASSWORD}\n              className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed\"\n            >\n              参加する\n            </button>\n          </div>\n          <div className=\"mt-6 text-center text-sm text-gray-500\">\n            パスワード: audiogram2024\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full min-h-screen p-6 md:p-10 bg-gray-50 text-gray-900\" ref={containerRef}>\n      <div className=\"max-w-7xl mx-auto grid gap-6\">\n        <header className=\"flex flex-col md:flex-row md:items-end md:justify-between gap-3\">\n          <div>\n            <h1 className=\"text-2xl md:text-3xl font-bold\">Simple Audiogram builder (Masking simulator)</h1>\n            <p className=\"text-sm text-gray-600 mt-1\">講習会参加中 - 講師の指示に従って操作してください</p>\n          </div>\n          <button\n            onClick={() => setIsAuthenticated(false)}\n            className=\"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\"\n          >\n            退出\n          </button>\n        </header>\n\n        {/* 講習会用説明 */}\n        <div className=\"bg-blue-50 border border-blue-200 rounded-2xl p-4\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"text-blue-600 text-xl\">📚</div>\n            <div>\n              <div className=\"font-semibold text-blue-800\">講習会参加者の方へ</div>\n              <div className=\"text-sm text-blue-700 mt-1\">\n                • 講師の指示に従って症例を選択してください<br/>\n                • 各自で操作しながら学習を進めてください<br/>\n                • 質問がある場合はチャットでお聞きください<br/>\n                • 正答表示は講師の指示があるまで待ってください\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* キーボード操作説明 */}\n        <div className=\"bg-green-50 border border-green-200 rounded-2xl p-4\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"text-green-600 text-xl\">⌨️</div>\n            <div>\n              <div className=\"font-semibold text-green-800\">キーボード操作</div>\n              <div className=\"text-sm text-green-700 mt-1\">\n                <strong>カーソルキー:</strong> ←→周波数変更 | ↑-5dB調整(自動打点) | ↓+5dB調整(自動打点)<br/>\n                <strong>削除:</strong> DeleteキーまたはBackspaceキーで現在の打点削除<br/>\n                <strong>マウス:</strong> チャートクリックでも打点可能\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Preset loader (secret) */}\n        <div className=\"bg-white rounded-2xl shadow p-4\">\n          <div className=\"flex flex-wrap items-center gap-3\">\n            <span className=\"text-sm text-gray-600\">症例プリセット</span>\n            <select className=\"border rounded-xl px-2 py-1 text-sm\" value={selectedPreset} onChange={(e)=> setSelectedPreset(e.target.value)}>\n              <option value=\"A\">症例A</option>\n              <option value=\"B\">症例B</option>\n              <option value=\"C\">症例C</option>\n              <option value=\"D\">症例D</option>\n              <option value=\"E\">症例E</option>\n              <option value=\"F\">症例F</option>\n              <option value=\"G\">症例G</option>\n              <option value=\"H\">症例H</option>\n            </select>\n            <button \n              className={`px-3 py-2 rounded-xl text-white text-sm flex items-center gap-2 ${\n                isLoading ? 'bg-teal-400 cursor-not-allowed' : 'bg-teal-600 hover:bg-teal-700'\n              }`} \n              onClick={async ()=>{\n                if (isLoading) return;\n                \n                setIsLoading(true);\n                \n                // ローディングアニメーション（1秒）\n                await new Promise(resolve => setTimeout(resolve, 1000));\n                \n                const p = selectedPreset==='A' ? PRESET_A : selectedPreset==='B' ? PRESET_B : selectedPreset==='C' ? PRESET_C : selectedPreset==='D' ? PRESET_D : selectedPreset==='E' ? PRESET_E : selectedPreset==='F' ? PRESET_F : selectedPreset==='G' ? PRESET_G : selectedPreset==='H' ? PRESET_H : null;\n                if (!p) {\n                  alert('無効な症例が選択されています');\n                  setIsLoading(false);\n                  return;\n                }\n                setPoints([]);\n                setTargets(buildTargetsFromPreset(p));\n                \n                // 学習進捗の更新\n                setLearningProgress(prev => ({\n                  ...prev,\n                  totalSessions: prev.totalSessions + 1\n                }));\n                \n                setIsLoading(false);\n                \n                // 成功メッセージ\n                alert(`症例${selectedPreset}をロードしました！`);\n              }}\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <>\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                  ロード中...\n                </>\n              ) : (\n                'LOAD'\n              )}\n            </button>\n            <span className=\"text-xs text-gray-400\">※ LOADでプロットは自動クリア。正答は画面に表示しません（照合/オーバーレイ用）。</span>\n            \n            {/* トレーニングモードボタン */}\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-gray-600 font-medium\">トレーニングモード:</span>\n              {!isTrainingMode ? (\n                <button \n                  onClick={startTrainingMode}\n                  className=\"px-3 py-2 rounded-xl text-white text-sm bg-purple-600 hover:bg-purple-700\"\n                >\n                  開始\n                </button>\n              ) : (\n                <div className=\"flex gap-2\">\n                  <button \n                    onClick={endTrainingMode}\n                    className=\"px-3 py-2 rounded-xl text-white text-sm bg-red-600 hover:bg-red-700\"\n                  >\n                    終了\n                  </button>\n                  <button \n                    onClick={startTrainingMode}\n                    className=\"px-3 py-2 rounded-xl text-white text-sm bg-purple-600 hover:bg-purple-700\"\n                  >\n                    新しい症例\n                  </button>\n                </div>\n              )}\n            </div>\n\n            {/* 学習モードボタン */}\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-sm text-gray-600 font-medium\">学習モード:</span>\n              <button\n                onClick={() => setIsLearningMode(!isLearningMode)}\n                className={`px-3 py-2 rounded-xl text-sm ${\n                  isLearningMode \n                    ? 'bg-green-600 hover:bg-green-700 text-white' \n                    : 'bg-gray-200 hover:bg-gray-300 text-gray-700'\n                }`}\n              >\n                {isLearningMode ? '学習中' : '学習開始'}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Controls */}\n        <div className=\"bg-white rounded-2xl shadow p-5\">\n          <div className=\"grid md:grid-cols-6 gap-4 text-sm\">\n            <Control label=\"Ear\">\n              <div className=\"flex gap-2\">\n                <button onClick={() => { setEar('R'); setFreq(1000); setSuppressLamp(true); }} className={`px-3 py-2 rounded-lg border text-base ${ear==='R' ? 'bg-red-600 text-white border-red-600' : 'bg-white text-red-600 border-red-600'}`}>Right</button>\n                <button onClick={() => { setEar('L'); setFreq(1000); setSuppressLamp(true); }} className={`px-3 py-2 rounded-lg border text-base ${ear==='L' ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-blue-600 border-blue-600'}`}>Left</button>\n              </div>\n            </Control>\n            <Control label=\"Transducer\">\n              <div className=\"flex gap-2\">\n                <TinyToggle active={trans==='AC'} onClick={() => { setTrans('AC'); setFreq(1000); setSuppressLamp(true); }}>AC</TinyToggle>\n                <TinyToggle active={trans==='BC'} onClick={() => { setTrans('BC'); setFreq(1000); setSuppressLamp(true); }}>BC</TinyToggle>\n              </div>\n            </Control>\n            <Control label=\"Frequency\">\n              <div className=\"flex items-center gap-2\">\n                <button onClick={() => moveFreq(-1)} className=\"px-2 py-1 rounded-lg border\">◀</button>\n                <div className=\"font-mono w-24 text-center\">{freq} Hz</div>\n                <button onClick={() => moveFreq(1)} className=\"px-2 py-1 rounded-lg border\">▶</button>\n              </div>\n            </Control>\n            <Control label=\"Level (dB HL)\">\n              <div className=\"flex items-center gap-3\">\n                <input type=\"range\" min={Y_MIN} max={Y_MAX} step={5} value={level} onChange={e => { setLevel(parseInt(e.target.value)); setSuppressLamp(false); }} className=\"w-full\" />\n                <div className=\"font-mono w-16 text-right\">{level}</div>\n              </div>\n            </Control>\n            <Control label=\"打点\">\n              <div className=\"flex gap-2\">\n                <button \n                  onClick={() => addOrReplacePoint({ ear, transducer: trans, masked, freq, dB: round5(level) })} \n                  className=\"px-3 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700 transition-colors active:scale-95 transform\"\n                >\n                  追加/更新\n                </button>\n                <button \n                  onClick={removePointAtCurrent} \n                  className=\"px-3 py-2 rounded-xl bg-white border hover:bg-gray-50 transition-colors active:scale-95 transform\"\n                >\n                  削除\n                </button>\n                <button \n                  onClick={clearAll} \n                  className=\"px-3 py-2 rounded-xl bg-white border hover:bg-gray-50 transition-colors active:scale-95 transform\"\n                >\n                  全クリア\n                </button>\n              </div>\n            </Control>\n          </div>\n          <p className=\"text-xs text-gray-500 mt-2\">\n            ※ チャートをクリックしても打点できます（現在選択中のEar/Transducer/Masking・周波数列に対して）。<br/>\n            ※ キーボード操作: ←→周波数変更 | ↑-5dB調整(自動打点) | ↓+5dB調整(自動打点) | Delete打点削除\n          </p>\n        </div>\n\n        {/* オーバーマスキング警告 */}\n        {isOverMasking && (\n          <div className=\"bg-red-50 border border-red-200 rounded-2xl p-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"text-red-600 text-xl\">⚠️</div>\n              <div>\n                <div className=\"font-semibold text-red-800\">オーバーマスキングの可能性あり！！</div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* クロスヒアリング警告 */}\n        {crossHearingInfo.isCrossHearing && (\n          <div className=\"bg-orange-50 border border-orange-200 rounded-2xl p-4\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"text-orange-600 text-xl\">🔊</div>\n              <div className=\"flex-1\">\n                <div className=\"font-semibold text-orange-800 mb-2\">クロスヒアリングの可能性あり！</div>\n                <div className=\"text-sm text-orange-700 space-y-1\">\n                  <div>• 現在のレベル（{level}dB）が非測定耳の骨導（{crossHearingInfo.details.nte} BC）に流れクロスヒアリングしています</div>\n                  <div>• 漏れレベル: {crossHearingInfo.details.leakedToNTE.toFixed(1)}dB（IA: {crossHearingInfo.details.ia}dB減衰後）</div>\n                  <div>• 非測定耳BC閾値: {crossHearingInfo.details.nteBC === Infinity ? '未測定' : crossHearingInfo.details.nteBC + 'dB'}</div>\n                  <div>• 実効マスキングレベル: {crossHearingInfo.details.effectiveMask === Infinity ? 'なし' : crossHearingInfo.details.effectiveMask + 'dB'}</div>\n                  <div className=\"mt-2 text-xs text-orange-600\">\n                    💡 マスキングレベルを上げるか、測定レベルを下げることを検討してください\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* IA設定パネル */}\n        {showIaSettings && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded-2xl p-4\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"text-blue-600 text-xl\">⚙️</div>\n              <div className=\"flex-1\">\n                <div className=\"font-semibold text-blue-800 mb-3\">両耳間移行減衰量（IA）設定</div>\n                <div className=\"text-sm text-blue-700 mb-4\">\n                  各周波数・トランスデューサーごとのIA値を設定できます。現実的な値に基づいて調整してください。\n                </div>\n                \n                {/* AC設定 */}\n                <div className=\"mb-4\">\n                  <h4 className=\"font-semibold text-blue-800 mb-2\">気導（AC）</h4>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2\">\n                    {[125, 250, 500, 1000, 2000, 4000, 8000].map(freq => (\n                      <div key={`AC-${freq}`} className=\"flex flex-col items-center\">\n                        <label className=\"text-xs text-blue-600 font-medium\">{freq}Hz</label>\n                        <input\n                          type=\"number\"\n                          min=\"0\"\n                          max=\"100\"\n                          step=\"5\"\n                          value={iaSettings.AC[freq]}\n                          onChange={(e) => setIaSettings(prev => ({\n                            ...prev,\n                            AC: { ...prev.AC, [freq]: parseInt(e.target.value) || 0 }\n                          }))}\n                          className=\"w-16 px-2 py-1 text-xs border border-blue-300 rounded text-center\"\n                        />\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* BC設定 */}\n                <div className=\"mb-4\">\n                  <h4 className=\"font-semibold text-blue-800 mb-2\">骨導（BC）</h4>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2\">\n                    {[125, 250, 500, 1000, 2000, 4000, 8000].map(freq => (\n                      <div key={`BC-${freq}`} className=\"flex flex-col items-center\">\n                        <label className=\"text-xs text-blue-600 font-medium\">{freq}Hz</label>\n                        <input\n                          type=\"number\"\n                          min=\"0\"\n                          max=\"100\"\n                          step=\"5\"\n                          value={iaSettings.BC[freq]}\n                          onChange={(e) => setIaSettings(prev => ({\n                            ...prev,\n                            BC: { ...prev.BC, [freq]: parseInt(e.target.value) || 0 }\n                          }))}\n                          className=\"w-16 px-2 py-1 text-xs border border-blue-300 rounded text-center\"\n                          disabled={BC_DISABLED.has(freq)}\n                        />\n                      </div>\n                    ))}\n                  </div>\n                  <div className=\"text-xs text-blue-600 mt-1\">\n                    ※ 125Hzと8000HzのBCは測定対象外のため無効\n                  </div>\n                </div>\n\n                {/* プリセットボタン */}\n                <div className=\"flex gap-2 mb-3\">\n                  <button\n                    onClick={() => setIaSettings(IA_VALUES)}\n                    className=\"px-3 py-1 rounded-lg border text-xs bg-blue-100 hover:bg-blue-200 text-blue-700\"\n                  >\n                    デフォルトに戻す\n                  </button>\n                  <button\n                    onClick={() => {\n                      const realisticIA = {\n                        AC: { 125: 50, 250: 50, 500: 50, 1000: 50, 2000: 50, 4000: 50, 8000: 50 },\n                        BC: { 125: 0, 250: 0, 500: 0, 1000: 0, 2000: 0, 4000: 0, 8000: 0 }\n                      };\n                      setIaSettings(realisticIA);\n                    }}\n                    className=\"px-3 py-1 rounded-lg border text-xs bg-green-100 hover:bg-green-200 text-green-700\"\n                  >\n                    現実的な値に設定\n                  </button>\n                </div>\n\n                <div className=\"text-xs text-blue-600\">\n                  💡 一般的なIA値：AC 50dB、BC 0dB（骨導は頭蓋骨を伝播するため減衰なし）\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Audiogram */}\n        <div className=\"bg-white rounded-2xl shadow p-5\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <h2 className=\"text-lg font-semibold\">Audiogram</h2>\n            <div className={`flex items-center gap-2 px-2 py-1 rounded-full border ${lampOn ? 'bg-orange-50 border-orange-300' : 'bg-white border-gray-300'}`}>\n              <div className={`w-3.5 h-3.5 rounded-full ${lampOn ? 'bg-orange-500' : 'bg-gray-300'}`} />\n              <span className=\"text-xs\">応答ランプ</span>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-xs text-gray-600\">Masking (NTE: {ear === 'R' ? 'L' : 'R'})</span>\n              <div className=\"flex items-center gap-2\">\n                <TinyToggle active={!masked} onClick={() => { setMasked(false); setMaskLevel(-15); }}>Unmasked</TinyToggle>\n                <TinyToggle active={masked} onClick={() => { setMasked(true); if (maskLevel < 0) setMaskLevel(0); }}>Masked</TinyToggle>\n              </div>\n              <div className=\"flex items-center gap-2 min-w-[180px]\">\n                <input type=\"range\" min={-15} max={110} step={5} value={maskLevel} onChange={e => setMaskLevel(parseInt(e.target.value))} className=\"w-40\" />\n                <div className=\"w-16 text-right text-xs font-mono\">{maskLevel} dB</div>\n              </div>\n              <button onClick={() => setShowAnswer(a => !a)} className={`px-2 py-1 rounded-lg border text-xs ${showAnswer ? 'bg-emerald-600 text-white border-emerald-600' : 'bg-white text-gray-800'}`} title=\"正答（オーバーレイ）を表示/非表示\">\n                {showAnswer ? '正答表示: ON' : '正答表示: OFF'}\n              </button>\n              <button \n                onClick={() => checkAnswersAndCompleteSession()} \n                className=\"px-3 py-1 rounded-lg border text-xs bg-purple-600 text-white border-purple-600 hover:bg-purple-700\"\n                title=\"正答と照合してセッションを完了\"\n              >\n                正答照合\n              </button>\n              <button onClick={() => setOverMaskingWarning(w => !w)} className={`px-2 py-1 rounded-lg border text-xs ${overMaskingWarning ? 'bg-yellow-600 text-white border-yellow-600' : 'bg-white text-gray-800'}`} title=\"オーバーマスキング警告のON/OFF\">\n                {overMaskingWarning ? 'オーバーマスキング: ON' : 'オーバーマスキング: OFF'}\n              </button>\n          <button onClick={() => setCrossHearingWarning(w => !w)} className={`px-2 py-1 rounded-lg border text-xs ${crossHearingWarning ? 'bg-orange-600 text-white border-orange-600' : 'bg-white text-gray-800'}`} title=\"クロスヒアリング警告のON/OFF\">\n            {crossHearingWarning ? 'クロスヒアリング: ON' : 'クロスヒアリング: OFF'}\n          </button>\n          <button onClick={() => setShowIaSettings(s => !s)} className={`px-2 py-1 rounded-lg border text-xs ${showIaSettings ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-gray-800'}`} title=\"IA設定の表示/非表示\">\n            IA設定\n          </button>\n            </div>\n          </div>\n\n          <div className=\"flex items-stretch gap-0 items-start\">\n            <div ref={chartHostRef} className=\"relative chart-host\" style={{ width: chartW, height: chartH, overflow: 'visible' }}>\n              <div\n                ref={overlayRef}\n                className=\"absolute\"\n                style={{ left: CHART_MARGIN.left, top: CHART_MARGIN.top, width: GRID_W, height: GRID_H, cursor: 'crosshair', zIndex: 10, pointerEvents: 'auto', background: 'transparent' }}\n                onPointerUp={handlePlotClick}\n                onPointerDown={(e)=>e.preventDefault()}\n              />\n              <ComposedChart width={chartW} height={chartH} data={[]} margin={CHART_MARGIN}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis type=\"number\" dataKey=\"x\" domain={X_DOMAIN} ticks={Array.from({ length: FREQS.length }, (_, i) => i)} tickFormatter={formatFreq} label={{ value: 'Frequency (Hz) - 1 octave/grid', position: 'bottom', offset: 6, style: { fontSize: 18 } }} tick={{ fontSize: 18 }} />\n                  <YAxis type=\"number\" dataKey=\"y\" domain={[Y_MIN, Y_MAX]} ticks={Array.from({ length: (Y_MAX - Y_MIN) / 10 + 1 }, (_, i) => Y_MIN + i * 10)} reversed={true} tickMargin={6} label={{ value: 'Hearing Level (dB HL) - 10 dB/grid', angle: -90, position: 'left', offset: 0, dy: -100, style: { fontSize: 18 } }} tick={{ fontSize: 18 }} />\n                  <Line data={[{ x: 0, y: 0 }, { x: FREQS.length - 1, y: 0 }]} dataKey=\"y\" xAxisId={0} yAxisId={0} type=\"monotone\" dot={false} stroke=\"#94a3b8\" strokeWidth={2} />\n\n                  {SERIES.map(s => (\n                    <Scatter key={s.key} name={s.label} data={(seriesData[s.key] || []).map(d => ({ x: d.x, y: d.y, ...(d.so ? { so: true } : {}) }))} fill={s.color} shape={shapeRenderer(s.shape, s.color)} />\n                  ))}\n\n                  {SERIES.filter(s => s.key.includes('-AC')).map(s => (\n                    <Line key={`line-${s.key}`} data={acLineData[s.key] || []} dataKey=\"y\" stroke={s.color} strokeWidth={2} dot={false} strokeDasharray={s.key.startsWith('L-') ? '6 4' : undefined} type=\"linear\" connectNulls={false} />\n                  ))}\n\n                  {showAnswer && SERIES.map(s => (\n                    <Scatter key={`ans-${s.key}`} name={`${s.label} (answer)`} data={answerSeriesData[s.key] || []} fill=\"#10b981\" shape={(props) => (<g style={{ opacity: blinkOn ? 1 : 0 }}>{shapeRenderer(s.shape, '#10b981')(props)}</g>)} isAnimationActive={false} />\n                  ))}\n                  {showAnswer && SERIES.filter(s => s.key.includes('-AC')).map(s => (\n                    <Line key={`ans-line-${s.key}`} data={answerLineData[s.key] || []} dataKey=\"y\" stroke=\"#10b981\" strokeOpacity={0.35} isAnimationActive={false} strokeWidth={2} dot={false} strokeDasharray={'4 6'} type=\"linear\" connectNulls={false} />\n                  ))}\n                </ComposedChart>\n            </div>\n            {showLegend && (\n              <div className=\"shrink-0 pl-2\" style={{ display: 'flex', alignItems: 'flex-start' }}>\n                <ul className=\"space-y-0.5 text-[16px] leading-tight pr-1\">\n                  {SERIES.map(s => (\n                    <li key={s.key} className=\"flex items-center gap-2\">\n                      <LegendMark shape={s.shape} color={s.color} />\n                      <span>{s.label}</span>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Learning Mode Panel */}\n        {isLearningMode && (\n          <div className=\"bg-green-50 border border-green-200 rounded-2xl p-4\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"text-green-600 text-xl\">📚</div>\n              <div className=\"flex-1\">\n                <div className=\"font-semibold text-green-800 mb-3\">オーディオグラム学習モード</div>\n                <div className=\"text-sm text-green-700 mb-4\">\n                  基本的なオーディオグラムパターンと疾患別の特徴を学習できます。\n                </div>\n                \n                {/* パターン選択 */}\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n                  {Object.entries(LEARNING_PATTERNS).map(([key, pattern]) => (\n                    <button\n                      key={key}\n                      onClick={() => loadLearningPattern(key)}\n                      className={`p-3 rounded-lg border text-left transition-colors ${\n                        selectedPattern === key\n                          ? 'bg-green-200 border-green-400 text-green-800'\n                          : 'bg-white border-green-300 text-green-700 hover:bg-green-100'\n                      }`}\n                    >\n                      <div className=\"font-semibold text-sm\">{pattern.name}</div>\n                      <div className=\"text-xs text-green-600 mt-1\">{pattern.description}</div>\n                    </button>\n                  ))}\n                </div>\n                \n                {/* 学習進捗 */}\n                {selectedPattern && (\n                  <div className=\"mt-4 p-3 bg-white rounded-lg border border-green-300\">\n                    <div className=\"text-sm font-semibold text-green-800 mb-2\">\n                      現在学習中: {LEARNING_PATTERNS[selectedPattern].name}\n                    </div>\n                    <div className=\"text-xs text-green-700\">\n                      💡 正答表示ボタンで正しいオーディオグラムを確認できます\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Training Case Info */}\n        {isTrainingMode && trainingCase && (\n          <div className=\"bg-purple-50 border border-purple-200 rounded-2xl p-4\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"text-purple-600 text-xl\">🎯</div>\n              <div className=\"flex-1\">\n                <div className=\"font-semibold text-purple-800 mb-2\">トレーニング症例情報</div>\n                <div className=\"text-sm text-purple-700 space-y-1\">\n                  <div>• 難聴タイプ: {\n                    trainingCase.hearingLossType === 'normal' ? '正常聴力' :\n                    trainingCase.hearingLossType === 'mild' ? '軽度難聴' :\n                    trainingCase.hearingLossType === 'moderate' ? '中等度難聴' :\n                    trainingCase.hearingLossType === 'severe' ? '高度難聴' :\n                    trainingCase.hearingLossType === 'mixed' ? '混合性難聴' :\n                    trainingCase.hearingLossType === 'high_freq' ? '高音漸傾型' : '不明'\n                  }</div>\n                  <div>• 症例ID: {trainingCase.id}</div>\n                  <div className=\"mt-2 text-xs text-purple-600\">\n                    💡 現実的な難聴パターンで生成されています。AC/BCの制限も考慮済みです。\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Training Results */}\n        {isTrainingMode && trainingResults.length > 0 && (\n          <div className=\"bg-purple-50 border border-purple-200 rounded-2xl p-5\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold text-purple-800\">トレーニング結果</h2>\n              <button \n                onClick={() => setTrainingResults([])}\n                className=\"px-3 py-1 rounded-lg border text-sm bg-purple-100 hover:bg-purple-200 text-purple-700\"\n              >\n                結果クリア\n              </button>\n            </div>\n            \n            {/* トレーニング精度統計 */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-md font-semibold text-purple-800 mb-3\">トレーニング精度統計</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <div className=\"bg-white rounded-lg p-3 border border-purple-200\">\n                  <div className=\"text-sm text-purple-600 font-medium\">総トレーニング数</div>\n                  <div className=\"text-xl font-bold text-purple-800\">{trainingResults.length}</div>\n                </div>\n                <div className=\"bg-white rounded-lg p-3 border border-purple-200\">\n                  <div className=\"text-sm text-purple-600 font-medium\">平均精度</div>\n                  <div className=\"text-xl font-bold text-purple-800\">\n                    {Math.round(trainingResults.reduce((sum, result) => sum + result.accuracy, 0) / trainingResults.length)}%\n                  </div>\n                </div>\n                <div className=\"bg-white rounded-lg p-3 border border-purple-200\">\n                  <div className=\"text-sm text-purple-600 font-medium\">最高精度</div>\n                  <div className=\"text-xl font-bold text-purple-800\">\n                    {Math.max(...trainingResults.map(r => r.accuracy))}%\n                  </div>\n                </div>\n                <div className=\"bg-white rounded-lg p-3 border border-purple-200\">\n                  <div className=\"text-sm text-purple-600 font-medium\">80%以上達成</div>\n                  <div className=\"text-xl font-bold text-purple-800\">\n                    {trainingResults.filter(r => r.accuracy >= 80).length}回\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n              {trainingResults.length > 0 ? trainingResults.slice(-6).reverse().map((result, index) => (\n                <div key={result.id} className=\"bg-white rounded-lg p-3 border border-purple-200\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"text-xs text-purple-600 font-medium\">\n                      #{trainingResults.length - index}\n                    </span>\n                    <span className=\"text-xs text-gray-500\">\n                      {new Date(result.timestamp).toLocaleTimeString()}\n                    </span>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className={`text-lg font-bold ${\n                      result.accuracy >= 80 ? 'text-green-600' : \n                      result.accuracy >= 60 ? 'text-yellow-600' : 'text-red-600'\n                    }`}>\n                      {result.accuracy}%\n                    </div>\n                    <div className=\"text-xs text-gray-600\">\n                      {result.correct}/{result.total} 正解\n                    </div>\n                  </div>\n                </div>\n              )) : (\n                <div className=\"col-span-full text-center text-gray-500 py-4\">\n                  まだトレーニング結果がありません\n                </div>\n              )}\n            </div>\n            \n            {trainingResults.length > 6 && (\n              <div className=\"text-center text-sm text-purple-600 mt-3\">\n                最新6件を表示中（全{trainingResults.length}件）\n              </div>\n            )}\n            \n            {/* トレーニング進捗分析 */}\n            <div className=\"mt-6\">\n              <h3 className=\"text-md font-semibold text-purple-800 mb-3\">トレーニング進捗分析</h3>\n              <div className=\"bg-white rounded-lg p-4 border border-purple-200\">\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-purple-600\">最近5回の平均精度:</span>\n                    <span className=\"font-semibold text-purple-800\">\n                      {trainingResults.length >= 5 ? \n                        Math.round(trainingResults.slice(-5).reduce((sum, result) => sum + result.accuracy, 0) / 5) : \n                        'データ不足'\n                      }%\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-purple-600\">精度向上傾向:</span>\n                    <span className={`font-semibold ${\n                      trainingResults.length >= 3 ? \n                        (trainingResults.slice(-3).reduce((sum, result) => sum + result.accuracy, 0) / 3) > \n                        (trainingResults.slice(0, 3).reduce((sum, result) => sum + result.accuracy, 0) / 3) ? \n                        'text-green-600' : 'text-red-600' : 'text-gray-500'\n                    }`}>\n                      {trainingResults.length >= 3 ? \n                        (trainingResults.slice(-3).reduce((sum, result) => sum + result.accuracy, 0) / 3) > \n                        (trainingResults.slice(0, 3).reduce((sum, result) => sum + result.accuracy, 0) / 3) ? \n                        '向上中' : '要改善' : 'データ不足'\n                      }\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-purple-600\">連続80%以上:</span>\n                    <span className=\"font-semibold text-purple-800\">\n                      {(() => {\n                        let count = 0;\n                        for (let i = trainingResults.length - 1; i >= 0; i--) {\n                          if (trainingResults[i].accuracy >= 80) count++;\n                          else break;\n                        }\n                        return count;\n                      })()}回連続\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Measurement Log */}\n        <div className=\"bg-white rounded-2xl shadow p-5\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold\">測定ログ</h2>\n            <div className=\"flex gap-2\">\n              <button \n                onClick={() => setMeasurementLog([])} \n                className=\"px-3 py-1 rounded-lg border text-sm bg-gray-100 hover:bg-gray-200\"\n              >\n                ログクリア\n              </button>\n              <button \n                onClick={() => exportToCSV()} \n                className=\"px-3 py-1 rounded-lg border text-sm bg-blue-100 hover:bg-blue-200 text-blue-700\"\n              >\n                CSV出力\n              </button>\n              <span className=\"text-sm text-gray-500\">\n                {measurementLog.length}件の記録\n              </span>\n            </div>\n          </div>\n          \n          {measurementLog.length === 0 ? (\n            <div className=\"text-center text-gray-500 py-8\">\n              まだ応答記録がありません。<br/>\n              応答ランプが点灯した時に記録が追加されます。\n            </div>\n          ) : (\n            <div className=\"max-h-64 overflow-y-auto\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2\">\n                {measurementLog.map((entry, index) => (\n                  <div \n                    key={entry.id} \n                    className={`p-3 rounded-lg border text-sm ${\n                      entry.masked \n                        ? 'bg-blue-50 border-blue-200' \n                        : 'bg-green-50 border-green-200'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between mb-1\">\n                      <span className=\"font-mono text-xs text-gray-500\">\n                        #{index + 1}\n                      </span>\n                      <span className=\"text-xs text-gray-500\">\n                        {entry.timestamp}\n                      </span>\n                    </div>\n                    <div className=\"space-y-1\">\n                      <div className=\"font-semibold\">\n                        {entry.freq}Hz {entry.dB}dB\n                      </div>\n                      <div className=\"text-xs\">\n                        {entry.ear} {entry.transducer} | \n                        {entry.masked ? (\n                          <span className=\"text-blue-700\">\n                            マスキング {entry.maskLevel}dB\n                          </span>\n                        ) : (\n                          <span className=\"text-green-700\">\n                            マスキング OFF\n                          </span>\n                        )}\n                      </div>\n                      {entry.so && (\n                        <div className=\"text-xs text-red-600 font-semibold\">\n                          Scale-Out\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Session Status */}\n        <div className=\"bg-white rounded-2xl shadow p-5\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold\">セッション状況</h2>\n            <div className=\"flex gap-2\">\n              <button \n                onClick={() => generateReport()} \n                className=\"px-3 py-1 rounded-lg border text-sm bg-green-100 hover:bg-green-200 text-green-700\"\n              >\n                レポート生成\n              </button>\n            </div>\n          </div>\n          \n          {!targets || targets.length === 0 ? (\n            <div className=\"text-center text-gray-500 py-8\">\n              症例をロードしてから測定を開始してください。\n            </div>\n          ) : (\n            <div className=\"text-center text-gray-600 py-8\">\n              <div className=\"text-lg font-medium mb-2\">症例{selectedPreset}の測定中</div>\n              <div className=\"text-sm\">\n                測定が完了したら「正答照合」ボタンをクリックして<br/>\n                セッションを完了し、精度を確認してください。\n              </div>\n            </div>\n          )}\n          \n          {/* 詳細分析 */}\n          {measurementLog.length > 0 && (\n            <div className=\"mt-6\">\n              <h3 className=\"text-md font-semibold mb-3\">詳細分析</h3>\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                {/* 周波数別分析 */}\n                <div className=\"bg-gray-50 rounded-lg p-4\">\n                  <h4 className=\"font-medium mb-3\">周波数別測定回数</h4>\n                  <div className=\"space-y-2\">\n                    {FREQS.map(freq => {\n                      const count = measurementLog.filter(log => log.freq === freq).length;\n                      return (\n                        <div key={freq} className=\"flex justify-between items-center\">\n                          <span className=\"text-sm\">{freq}Hz</span>\n                          <div className=\"flex items-center gap-2\">\n                            <div className=\"w-20 bg-gray-200 rounded-full h-2\">\n                              <div \n                                className=\"bg-blue-500 h-2 rounded-full\" \n                                style={{ width: `${(count / Math.max(...FREQS.map(f => measurementLog.filter(log => log.freq === f).length))) * 100}%` }}\n                              ></div>\n                            </div>\n                            <span className=\"text-sm font-medium w-8 text-right\">{count}</span>\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n                \n                {/* 耳別分析 */}\n                <div className=\"bg-gray-50 rounded-lg p-4\">\n                  <h4 className=\"font-medium mb-3\">耳別測定回数</h4>\n                  <div className=\"space-y-3\">\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-sm\">右耳 (R)</span>\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"w-20 bg-gray-200 rounded-full h-2\">\n                          <div \n                            className=\"bg-red-500 h-2 rounded-full\" \n                            style={{ width: `${(measurementLog.filter(log => log.ear === 'R').length / measurementLog.length) * 100}%` }}\n                          ></div>\n                        </div>\n                        <span className=\"text-sm font-medium w-8 text-right\">\n                          {measurementLog.filter(log => log.ear === 'R').length}\n                        </span>\n                      </div>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-sm\">左耳 (L)</span>\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"w-20 bg-gray-200 rounded-full h-2\">\n                          <div \n                            className=\"bg-blue-500 h-2 rounded-full\" \n                            style={{ width: `${(measurementLog.filter(log => log.ear === 'L').length / measurementLog.length) * 100}%` }}\n                          ></div>\n                        </div>\n                        <span className=\"text-sm font-medium w-8 text-right\">\n                          {measurementLog.filter(log => log.ear === 'L').length}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Learning Progress Dashboard */}\n        <div className=\"bg-white rounded-2xl shadow p-5\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold\">学習進捗</h2>\n            <button \n              onClick={() => resetProgress()} \n              className=\"px-3 py-1 rounded-lg border text-sm bg-red-100 hover:bg-red-200 text-red-700\"\n            >\n              進捗リセット\n            </button>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <div className=\"bg-indigo-50 rounded-lg p-4\">\n              <div className=\"text-sm text-indigo-600 font-medium\">総セッション数</div>\n              <div className=\"text-2xl font-bold text-indigo-800\">{learningProgress.totalSessions}</div>\n            </div>\n            \n            <div className=\"bg-teal-50 rounded-lg p-4\">\n              <div className=\"text-sm text-teal-600 font-medium\">完了症例数</div>\n              <div className=\"text-2xl font-bold text-teal-800\">{learningProgress.completedCases.length}/8</div>\n            </div>\n            \n            <div className=\"bg-amber-50 rounded-lg p-4\">\n              <div className=\"text-sm text-amber-600 font-medium\">平均精度</div>\n              <div className=\"text-2xl font-bold text-amber-800\">\n                {Object.keys(learningProgress.caseAccuracy).length > 0 ? \n                  Math.round(Object.values(learningProgress.caseAccuracy).reduce((sum, acc) => sum + acc.accuracy, 0) / Object.keys(learningProgress.caseAccuracy).length) : 0}%\n              </div>\n            </div>\n            \n            <div className=\"bg-rose-50 rounded-lg p-4\">\n              <div className=\"text-sm text-rose-600 font-medium\">最終セッション</div>\n              <div className=\"text-sm font-bold text-rose-800\">\n                {learningProgress.lastSessionDate || '未実施'}\n              </div>\n            </div>\n          </div>\n          \n          {/* 症例別進捗 */}\n          <div className=\"mt-6\">\n            <h3 className=\"text-md font-semibold mb-3\">症例別進捗</h3>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-8 gap-3\">\n              {['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'].map(caseId => {\n                const caseData = learningProgress.caseAccuracy[caseId];\n                const isCompleted = learningProgress.completedCases.includes(caseId);\n                \n                return (\n                  <div \n                    key={caseId} \n                    className={`p-3 rounded-lg border text-center ${\n                      isCompleted \n                        ? 'bg-green-50 border-green-200 text-green-800' \n                        : 'bg-gray-50 border-gray-200 text-gray-600'\n                    }`}\n                  >\n                    <div className=\"font-semibold\">症例{caseId}</div>\n                    {isCompleted ? (\n                      <>\n                        <div className=\"text-sm font-bold\">{caseData.accuracy}%</div>\n                        <div className=\"text-xs text-green-600 font-medium\">✓ 完了</div>\n                      </>\n                    ) : (\n                      <div className=\"text-sm\">未完了</div>\n                    )}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// small UI helpers\nfunction Control({ label, children }) {\n  return (\n    <div>\n      <div className=\"text-gray-700 mb-1 text-base\">{label}</div>\n      {children}\n    </div>\n  );\n}\n\nfunction TinyToggle({ active, onClick, children }) {\n  return (\n    <button\n      onClick={onClick}\n      className={`px-3 py-2 rounded-lg border text-base ${active ? 'bg-black text-white border-black' : 'bg-white text-gray-800'}`}\n    >\n      {children}\n    </button>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}